function kN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function WT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HT={exports:{}},vm={},qT={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=Symbol.for("react.element"),ON=Symbol.for("react.portal"),NN=Symbol.for("react.fragment"),DN=Symbol.for("react.strict_mode"),$N=Symbol.for("react.profiler"),LN=Symbol.for("react.provider"),MN=Symbol.for("react.context"),VN=Symbol.for("react.forward_ref"),FN=Symbol.for("react.suspense"),jN=Symbol.for("react.memo"),UN=Symbol.for("react.lazy"),S1=Symbol.iterator;function zN(t){return t===null||typeof t!="object"?null:(t=S1&&t[S1]||t["@@iterator"],typeof t=="function"?t:null)}var KT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GT=Object.assign,QT={};function Pl(t,e,n){this.props=t,this.context=e,this.refs=QT,this.updater=n||KT}Pl.prototype.isReactComponent={};Pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XT(){}XT.prototype=Pl.prototype;function j_(t,e,n){this.props=t,this.context=e,this.refs=QT,this.updater=n||KT}var U_=j_.prototype=new XT;U_.constructor=j_;GT(U_,Pl.prototype);U_.isPureReactComponent=!0;var x1=Array.isArray,YT=Object.prototype.hasOwnProperty,z_={current:null},JT={key:!0,ref:!0,__self:!0,__source:!0};function ZT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)YT.call(e,r)&&!JT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:md,type:t,key:s,ref:o,props:i,_owner:z_.current}}function BN(t,e){return{$$typeof:md,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function B_(t){return typeof t=="object"&&t!==null&&t.$$typeof===md}function WN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var T1=/\/+/g;function Dg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WN(""+t.key):e.toString(36)}function qf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case md:case ON:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Dg(o,0):r,x1(i)?(n="",t!=null&&(n=t.replace(T1,"$&/")+"/"),qf(i,e,n,"",function(u){return u})):i!=null&&(B_(i)&&(i=BN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(T1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",x1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Dg(s,a);o+=qf(s,e,n,l,i)}else if(l=zN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Dg(s,a++),o+=qf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lf(t,e,n){if(t==null)return t;var r=[],i=0;return qf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function HN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Kf={transition:null},qN={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Kf,ReactCurrentOwner:z_};function eI(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:lf,forEach:function(t,e,n){lf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lf(t,function(){e++}),e},toArray:function(t){return lf(t,function(e){return e})||[]},only:function(t){if(!B_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=Pl;$e.Fragment=NN;$e.Profiler=$N;$e.PureComponent=j_;$e.StrictMode=DN;$e.Suspense=FN;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qN;$e.act=eI;$e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=GT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=z_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)YT.call(e,l)&&!JT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:md,type:t.type,key:i,ref:s,props:r,_owner:o}};$e.createContext=function(t){return t={$$typeof:MN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:LN,_context:t},t.Consumer=t};$e.createElement=ZT;$e.createFactory=function(t){var e=ZT.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:VN,render:t}};$e.isValidElement=B_;$e.lazy=function(t){return{$$typeof:UN,_payload:{_status:-1,_result:t},_init:HN}};$e.memo=function(t,e){return{$$typeof:jN,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Kf.transition;Kf.transition={};try{t()}finally{Kf.transition=e}};$e.unstable_act=eI;$e.useCallback=function(t,e){return mn.current.useCallback(t,e)};$e.useContext=function(t){return mn.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};$e.useEffect=function(t,e){return mn.current.useEffect(t,e)};$e.useId=function(){return mn.current.useId()};$e.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};$e.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return mn.current.useMemo(t,e)};$e.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};$e.useRef=function(t){return mn.current.useRef(t)};$e.useState=function(t){return mn.current.useState(t)};$e.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};$e.useTransition=function(){return mn.current.useTransition()};$e.version="18.3.1";qT.exports=$e;var g=qT.exports;const we=WT(g),ym=kN({__proto__:null,default:we},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN=g,GN=Symbol.for("react.element"),QN=Symbol.for("react.fragment"),XN=Object.prototype.hasOwnProperty,YN=KN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JN={key:!0,ref:!0,__self:!0,__source:!0};function tI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)XN.call(e,r)&&!JN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GN,type:t,key:s,ref:o,props:i,_owner:YN.current}}vm.Fragment=QN;vm.jsx=tI;vm.jsxs=tI;HT.exports=vm;var N=HT.exports,zv={},nI={exports:{}},Bn={},rI={exports:{}},iI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,U){var Z=W.length;W.push(U);e:for(;0<Z;){var ce=Z-1>>>1,B=W[ce];if(0<i(B,U))W[ce]=U,W[Z]=B,Z=ce;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var U=W[0],Z=W.pop();if(Z!==U){W[0]=Z;e:for(var ce=0,B=W.length,ne=B>>>1;ce<ne;){var ue=2*(ce+1)-1,de=W[ue],re=ue+1,me=W[re];if(0>i(de,Z))re<B&&0>i(me,de)?(W[ce]=me,W[re]=Z,ce=re):(W[ce]=de,W[ue]=Z,ce=ue);else if(re<B&&0>i(me,Z))W[ce]=me,W[re]=Z,ce=re;else break e}}return U}function i(W,U){var Z=W.sortIndex-U.sortIndex;return Z!==0?Z:W.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,m=!1,y=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(W){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=W)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function P(W){if(E=!1,x(W),!y)if(n(l)!==null)y=!0,pe(O);else{var U=n(u);U!==null&&le(P,U.startTime-W)}}function O(W,U){y=!1,E&&(E=!1,_(S),S=-1),m=!0;var Z=h;try{for(x(U),f=n(l);f!==null&&(!(f.expirationTime>U)||W&&!D());){var ce=f.callback;if(typeof ce=="function"){f.callback=null,h=f.priorityLevel;var B=ce(f.expirationTime<=U);U=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),x(U)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var ue=n(u);ue!==null&&le(P,ue.startTime-U),ne=!1}return ne}finally{f=null,h=Z,m=!1}}var $=!1,T=null,S=-1,I=5,R=-1;function D(){return!(t.unstable_now()-R<I)}function k(){if(T!==null){var W=t.unstable_now();R=W;var U=!0;try{U=T(!0,W)}finally{U?A():($=!1,T=null)}}else $=!1}var A;if(typeof v=="function")A=function(){v(k)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=k,A=function(){Y.postMessage(null)}}else A=function(){b(k,0)};function pe(W){T=W,$||($=!0,A())}function le(W,U){S=b(function(){W(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,pe(O))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var Z=h;h=U;try{return W()}finally{h=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,U){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Z=h;h=W;try{return U()}finally{h=Z}},t.unstable_scheduleCallback=function(W,U,Z){var ce=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,W){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Z+B,W={id:d++,callback:U,priorityLevel:W,startTime:Z,expirationTime:B,sortIndex:-1},Z>ce?(W.sortIndex=Z,e(u,W),n(l)===null&&W===n(u)&&(E?(_(S),S=-1):E=!0,le(P,Z-ce))):(W.sortIndex=B,e(l,W),y||m||(y=!0,pe(O))),W},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(W){var U=h;return function(){var Z=h;h=U;try{return W.apply(this,arguments)}finally{h=Z}}}})(iI);rI.exports=iI;var ZN=rI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD=g,Un=ZN;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sI=new Set,pu={};function Bo(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for(pu[t]=e,t=0;t<e.length;t++)sI.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bv=Object.prototype.hasOwnProperty,tD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I1={},C1={};function nD(t){return Bv.call(C1,t)?!0:Bv.call(I1,t)?!1:tD.test(t)?C1[t]=!0:(I1[t]=!0,!1)}function rD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iD(t,e,n,r){if(e===null||typeof e>"u"||rD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var W_=/[\-:]([a-z])/g;function H_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(W_,H_);Wt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(W_,H_);Wt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(W_,H_);Wt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function q_(t,e,n,r){var i=Wt.hasOwnProperty(e)?Wt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iD(e,n,i,r)&&(n=null),r||i===null?nD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Oi=eD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cf=Symbol.for("react.element"),wa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),K_=Symbol.for("react.strict_mode"),Wv=Symbol.for("react.profiler"),oI=Symbol.for("react.provider"),aI=Symbol.for("react.context"),G_=Symbol.for("react.forward_ref"),Hv=Symbol.for("react.suspense"),qv=Symbol.for("react.suspense_list"),Q_=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),lI=Symbol.for("react.offscreen"),R1=Symbol.iterator;function lc(t){return t===null||typeof t!="object"?null:(t=R1&&t[R1]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,$g;function xc(t){if($g===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$g=e&&e[1]||""}return`
`+$g+t}var Lg=!1;function Mg(t,e){if(!t||Lg)return"";Lg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Lg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xc(t):""}function sD(t){switch(t.tag){case 5:return xc(t.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 2:case 15:return t=Mg(t.type,!1),t;case 11:return t=Mg(t.type.render,!1),t;case 1:return t=Mg(t.type,!0),t;default:return""}}function Kv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ea:return"Fragment";case wa:return"Portal";case Wv:return"Profiler";case K_:return"StrictMode";case Hv:return"Suspense";case qv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aI:return(t.displayName||"Context")+".Consumer";case oI:return(t._context.displayName||"Context")+".Provider";case G_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q_:return e=t.displayName||null,e!==null?e:Kv(t.type)||"Memo";case Ki:e=t._payload,t=t._init;try{return Kv(t(e))}catch{}}return null}function oD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kv(e);case 8:return e===K_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aD(t){var e=cI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uf(t){t._valueTracker||(t._valueTracker=aD(t))}function uI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Oh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gv(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dI(t,e){e=e.checked,e!=null&&q_(t,"checked",e,!1)}function Qv(t,e){dI(t,e);var n=Ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xv(t,e.type,Ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function A1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xv(t,e,n){(e!=="number"||Oh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tc=Array.isArray;function Va(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ts(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Yv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function k1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Tc(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ts(n)}}function fI(t,e){var n=Ts(e.value),r=Ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function O1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var df,pI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(df=df||document.createElement("div"),df.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=df.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lD=["Webkit","ms","Moz","O"];Object.keys(Gc).forEach(function(t){lD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Gc[e]=Gc[t]})});function mI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Gc.hasOwnProperty(t)&&Gc[t]?(""+e).trim():e+"px"}function gI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cD=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zv(t,e){if(e){if(cD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function ey(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ty=null;function X_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ny=null,Fa=null,ja=null;function N1(t){if(t=yd(t)){if(typeof ny!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Sm(e),ny(t.stateNode,t.type,e))}}function vI(t){Fa?ja?ja.push(t):ja=[t]:Fa=t}function yI(){if(Fa){var t=Fa,e=ja;if(ja=Fa=null,N1(t),e)for(t=0;t<e.length;t++)N1(e[t])}}function _I(t,e){return t(e)}function wI(){}var Vg=!1;function EI(t,e,n){if(Vg)return t(e,n);Vg=!0;try{return _I(t,e,n)}finally{Vg=!1,(Fa!==null||ja!==null)&&(wI(),yI())}}function gu(t,e){var n=t.stateNode;if(n===null)return null;var r=Sm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var ry=!1;if(bi)try{var cc={};Object.defineProperty(cc,"passive",{get:function(){ry=!0}}),window.addEventListener("test",cc,cc),window.removeEventListener("test",cc,cc)}catch{ry=!1}function uD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Qc=!1,Nh=null,Dh=!1,iy=null,dD={onError:function(t){Qc=!0,Nh=t}};function fD(t,e,n,r,i,s,o,a,l){Qc=!1,Nh=null,uD.apply(dD,arguments)}function hD(t,e,n,r,i,s,o,a,l){if(fD.apply(this,arguments),Qc){if(Qc){var u=Nh;Qc=!1,Nh=null}else throw Error(q(198));Dh||(Dh=!0,iy=u)}}function Wo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function D1(t){if(Wo(t)!==t)throw Error(q(188))}function pD(t){var e=t.alternate;if(!e){if(e=Wo(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return D1(i),t;if(s===r)return D1(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function SI(t){return t=pD(t),t!==null?xI(t):null}function xI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xI(t);if(e!==null)return e;t=t.sibling}return null}var TI=Un.unstable_scheduleCallback,$1=Un.unstable_cancelCallback,mD=Un.unstable_shouldYield,gD=Un.unstable_requestPaint,wt=Un.unstable_now,vD=Un.unstable_getCurrentPriorityLevel,Y_=Un.unstable_ImmediatePriority,II=Un.unstable_UserBlockingPriority,$h=Un.unstable_NormalPriority,yD=Un.unstable_LowPriority,CI=Un.unstable_IdlePriority,_m=null,Br=null;function _D(t){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(_m,t,void 0,(t.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:bD,wD=Math.log,ED=Math.LN2;function bD(t){return t>>>=0,t===0?32:31-(wD(t)/ED|0)|0}var ff=64,hf=4194304;function Ic(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ic(a):(s&=o,s!==0&&(r=Ic(s)))}else o=n&~i,o!==0?r=Ic(o):s!==0&&(r=Ic(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_r(e),i=1<<n,r|=t[n],e&=~i;return r}function SD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_r(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=SD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function sy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function RI(){var t=ff;return ff<<=1,!(ff&4194240)&&(ff=64),t}function Fg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_r(e),t[e]=n}function TD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_r(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function J_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Xe=0;function PI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AI,Z_,kI,OI,NI,oy=!1,pf=[],ls=null,cs=null,us=null,vu=new Map,yu=new Map,Qi=[],ID="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L1(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":vu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yu.delete(e.pointerId)}}function uc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yd(e),e!==null&&Z_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CD(t,e,n,r,i){switch(e){case"focusin":return ls=uc(ls,t,e,n,r,i),!0;case"dragenter":return cs=uc(cs,t,e,n,r,i),!0;case"mouseover":return us=uc(us,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vu.set(s,uc(vu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yu.set(s,uc(yu.get(s)||null,t,e,n,r,i)),!0}return!1}function DI(t){var e=oo(t.target);if(e!==null){var n=Wo(e);if(n!==null){if(e=n.tag,e===13){if(e=bI(n),e!==null){t.blockedOn=e,NI(t.priority,function(){kI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ay(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ty=r,n.target.dispatchEvent(r),ty=null}else return e=yd(n),e!==null&&Z_(e),t.blockedOn=n,!1;e.shift()}return!0}function M1(t,e,n){Gf(t)&&n.delete(e)}function RD(){oy=!1,ls!==null&&Gf(ls)&&(ls=null),cs!==null&&Gf(cs)&&(cs=null),us!==null&&Gf(us)&&(us=null),vu.forEach(M1),yu.forEach(M1)}function dc(t,e){t.blockedOn===e&&(t.blockedOn=null,oy||(oy=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,RD)))}function _u(t){function e(i){return dc(i,t)}if(0<pf.length){dc(pf[0],t);for(var n=1;n<pf.length;n++){var r=pf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ls!==null&&dc(ls,t),cs!==null&&dc(cs,t),us!==null&&dc(us,t),vu.forEach(e),yu.forEach(e),n=0;n<Qi.length;n++)r=Qi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qi.length&&(n=Qi[0],n.blockedOn===null);)DI(n),n.blockedOn===null&&Qi.shift()}var Ua=Oi.ReactCurrentBatchConfig,Mh=!0;function PD(t,e,n,r){var i=Xe,s=Ua.transition;Ua.transition=null;try{Xe=1,ew(t,e,n,r)}finally{Xe=i,Ua.transition=s}}function AD(t,e,n,r){var i=Xe,s=Ua.transition;Ua.transition=null;try{Xe=4,ew(t,e,n,r)}finally{Xe=i,Ua.transition=s}}function ew(t,e,n,r){if(Mh){var i=ay(t,e,n,r);if(i===null)Qg(t,e,r,Vh,n),L1(t,r);else if(CD(i,t,e,n,r))r.stopPropagation();else if(L1(t,r),e&4&&-1<ID.indexOf(t)){for(;i!==null;){var s=yd(i);if(s!==null&&AI(s),s=ay(t,e,n,r),s===null&&Qg(t,e,r,Vh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qg(t,e,r,null,n)}}var Vh=null;function ay(t,e,n,r){if(Vh=null,t=X_(r),t=oo(t),t!==null)if(e=Wo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vh=t,null}function $I(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vD()){case Y_:return 1;case II:return 4;case $h:case yD:return 16;case CI:return 536870912;default:return 16}default:return 16}}var rs=null,tw=null,Qf=null;function LI(){if(Qf)return Qf;var t,e=tw,n=e.length,r,i="value"in rs?rs.value:rs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qf=i.slice(t,1<r?1-r:void 0)}function Xf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mf(){return!0}function V1(){return!1}function Wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?mf:V1,this.isPropagationStopped=V1,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mf)},persist:function(){},isPersistent:mf}),e}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nw=Wn(Al),vd=pt({},Al,{view:0,detail:0}),kD=Wn(vd),jg,Ug,fc,wm=pt({},vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fc&&(fc&&t.type==="mousemove"?(jg=t.screenX-fc.screenX,Ug=t.screenY-fc.screenY):Ug=jg=0,fc=t),jg)},movementY:function(t){return"movementY"in t?t.movementY:Ug}}),F1=Wn(wm),OD=pt({},wm,{dataTransfer:0}),ND=Wn(OD),DD=pt({},vd,{relatedTarget:0}),zg=Wn(DD),$D=pt({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),LD=Wn($D),MD=pt({},Al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VD=Wn(MD),FD=pt({},Al,{data:0}),j1=Wn(FD),jD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zD[t])?!!e[t]:!1}function rw(){return BD}var WD=pt({},vd,{key:function(t){if(t.key){var e=jD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rw,charCode:function(t){return t.type==="keypress"?Xf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HD=Wn(WD),qD=pt({},wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U1=Wn(qD),KD=pt({},vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rw}),GD=Wn(KD),QD=pt({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),XD=Wn(QD),YD=pt({},wm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JD=Wn(YD),ZD=[9,13,27,32],iw=bi&&"CompositionEvent"in window,Xc=null;bi&&"documentMode"in document&&(Xc=document.documentMode);var e$=bi&&"TextEvent"in window&&!Xc,MI=bi&&(!iw||Xc&&8<Xc&&11>=Xc),z1=" ",B1=!1;function VI(t,e){switch(t){case"keyup":return ZD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function t$(t,e){switch(t){case"compositionend":return FI(e);case"keypress":return e.which!==32?null:(B1=!0,z1);case"textInput":return t=e.data,t===z1&&B1?null:t;default:return null}}function n$(t,e){if(ba)return t==="compositionend"||!iw&&VI(t,e)?(t=LI(),Qf=tw=rs=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MI&&e.locale!=="ko"?null:e.data;default:return null}}var r$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r$[t.type]:e==="textarea"}function jI(t,e,n,r){vI(r),e=Fh(e,"onChange"),0<e.length&&(n=new nw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yc=null,wu=null;function i$(t){YI(t,0)}function Em(t){var e=Ta(t);if(uI(e))return t}function s$(t,e){if(t==="change")return e}var UI=!1;if(bi){var Bg;if(bi){var Wg="oninput"in document;if(!Wg){var H1=document.createElement("div");H1.setAttribute("oninput","return;"),Wg=typeof H1.oninput=="function"}Bg=Wg}else Bg=!1;UI=Bg&&(!document.documentMode||9<document.documentMode)}function q1(){Yc&&(Yc.detachEvent("onpropertychange",zI),wu=Yc=null)}function zI(t){if(t.propertyName==="value"&&Em(wu)){var e=[];jI(e,wu,t,X_(t)),EI(i$,e)}}function o$(t,e,n){t==="focusin"?(q1(),Yc=e,wu=n,Yc.attachEvent("onpropertychange",zI)):t==="focusout"&&q1()}function a$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Em(wu)}function l$(t,e){if(t==="click")return Em(e)}function c$(t,e){if(t==="input"||t==="change")return Em(e)}function u$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:u$;function Eu(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bv.call(e,i)||!xr(t[i],e[i]))return!1}return!0}function K1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function G1(t,e){var n=K1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K1(n)}}function BI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WI(){for(var t=window,e=Oh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Oh(t.document)}return e}function sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d$(t){var e=WI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BI(n.ownerDocument.documentElement,n)){if(r!==null&&sw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=G1(n,s);var o=G1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var f$=bi&&"documentMode"in document&&11>=document.documentMode,Sa=null,ly=null,Jc=null,cy=!1;function Q1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cy||Sa==null||Sa!==Oh(r)||(r=Sa,"selectionStart"in r&&sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jc&&Eu(Jc,r)||(Jc=r,r=Fh(ly,"onSelect"),0<r.length&&(e=new nw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Sa)))}function gf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xa={animationend:gf("Animation","AnimationEnd"),animationiteration:gf("Animation","AnimationIteration"),animationstart:gf("Animation","AnimationStart"),transitionend:gf("Transition","TransitionEnd")},Hg={},HI={};bi&&(HI=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function bm(t){if(Hg[t])return Hg[t];if(!xa[t])return t;var e=xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in HI)return Hg[t]=e[n];return t}var qI=bm("animationend"),KI=bm("animationiteration"),GI=bm("animationstart"),QI=bm("transitionend"),XI=new Map,X1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(t,e){XI.set(t,e),Bo(e,[t])}for(var qg=0;qg<X1.length;qg++){var Kg=X1[qg],h$=Kg.toLowerCase(),p$=Kg[0].toUpperCase()+Kg.slice(1);zs(h$,"on"+p$)}zs(qI,"onAnimationEnd");zs(KI,"onAnimationIteration");zs(GI,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(QI,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Bo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cc));function Y1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hD(r,e,void 0,t),t.currentTarget=null}function YI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Y1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Y1(i,a,u),s=l}}}if(Dh)throw t=iy,Dh=!1,iy=null,t}function st(t,e){var n=e[py];n===void 0&&(n=e[py]=new Set);var r=t+"__bubble";n.has(r)||(JI(e,t,2,!1),n.add(r))}function Gg(t,e,n){var r=0;e&&(r|=4),JI(n,t,r,e)}var vf="_reactListening"+Math.random().toString(36).slice(2);function bu(t){if(!t[vf]){t[vf]=!0,sI.forEach(function(n){n!=="selectionchange"&&(m$.has(n)||Gg(n,!1,t),Gg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vf]||(e[vf]=!0,Gg("selectionchange",!1,e))}}function JI(t,e,n,r){switch($I(e)){case 1:var i=PD;break;case 4:i=AD;break;default:i=ew}n=i.bind(null,e,n,t),i=void 0,!ry||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=oo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}EI(function(){var u=s,d=X_(n),f=[];e:{var h=XI.get(t);if(h!==void 0){var m=nw,y=t;switch(t){case"keypress":if(Xf(n)===0)break e;case"keydown":case"keyup":m=HD;break;case"focusin":y="focus",m=zg;break;case"focusout":y="blur",m=zg;break;case"beforeblur":case"afterblur":m=zg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=F1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ND;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=GD;break;case qI:case KI:case GI:m=LD;break;case QI:m=XD;break;case"scroll":m=kD;break;case"wheel":m=JD;break;case"copy":case"cut":case"paste":m=VD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=U1}var E=(e&4)!==0,b=!E&&t==="scroll",_=E?h!==null?h+"Capture":null:h;E=[];for(var v=u,x;v!==null;){x=v;var P=x.stateNode;if(x.tag===5&&P!==null&&(x=P,_!==null&&(P=gu(v,_),P!=null&&E.push(Su(v,P,x)))),b)break;v=v.return}0<E.length&&(h=new m(h,y,null,n,d),f.push({event:h,listeners:E}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==ty&&(y=n.relatedTarget||n.fromElement)&&(oo(y)||y[Si]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?oo(y):null,y!==null&&(b=Wo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(E=F1,P="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=U1,P="onPointerLeave",_="onPointerEnter",v="pointer"),b=m==null?h:Ta(m),x=y==null?h:Ta(y),h=new E(P,v+"leave",m,n,d),h.target=b,h.relatedTarget=x,P=null,oo(d)===u&&(E=new E(_,v+"enter",y,n,d),E.target=x,E.relatedTarget=b,P=E),b=P,m&&y)t:{for(E=m,_=y,v=0,x=E;x;x=na(x))v++;for(x=0,P=_;P;P=na(P))x++;for(;0<v-x;)E=na(E),v--;for(;0<x-v;)_=na(_),x--;for(;v--;){if(E===_||_!==null&&E===_.alternate)break t;E=na(E),_=na(_)}E=null}else E=null;m!==null&&J1(f,h,m,E,!1),y!==null&&b!==null&&J1(f,b,y,E,!0)}}e:{if(h=u?Ta(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var O=s$;else if(W1(h))if(UI)O=c$;else{O=a$;var $=o$}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=l$);if(O&&(O=O(t,u))){jI(f,O,n,d);break e}$&&$(t,h,u),t==="focusout"&&($=h._wrapperState)&&$.controlled&&h.type==="number"&&Xv(h,"number",h.value)}switch($=u?Ta(u):window,t){case"focusin":(W1($)||$.contentEditable==="true")&&(Sa=$,ly=u,Jc=null);break;case"focusout":Jc=ly=Sa=null;break;case"mousedown":cy=!0;break;case"contextmenu":case"mouseup":case"dragend":cy=!1,Q1(f,n,d);break;case"selectionchange":if(f$)break;case"keydown":case"keyup":Q1(f,n,d)}var T;if(iw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ba?VI(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(MI&&n.locale!=="ko"&&(ba||S!=="onCompositionStart"?S==="onCompositionEnd"&&ba&&(T=LI()):(rs=d,tw="value"in rs?rs.value:rs.textContent,ba=!0)),$=Fh(u,S),0<$.length&&(S=new j1(S,t,null,n,d),f.push({event:S,listeners:$}),T?S.data=T:(T=FI(n),T!==null&&(S.data=T)))),(T=e$?t$(t,n):n$(t,n))&&(u=Fh(u,"onBeforeInput"),0<u.length&&(d=new j1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=T))}YI(f,e)})}function Su(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gu(t,n),s!=null&&r.unshift(Su(t,s,i)),s=gu(t,e),s!=null&&r.push(Su(t,s,i))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function J1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=gu(n,s),l!=null&&o.unshift(Su(n,l,a))):i||(l=gu(n,s),l!=null&&o.push(Su(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var g$=/\r\n?/g,v$=/\u0000|\uFFFD/g;function Z1(t){return(typeof t=="string"?t:""+t).replace(g$,`
`).replace(v$,"")}function yf(t,e,n){if(e=Z1(e),Z1(t)!==e&&n)throw Error(q(425))}function jh(){}var uy=null,dy=null;function fy(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hy=typeof setTimeout=="function"?setTimeout:void 0,y$=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,_$=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(t){return eb.resolve(null).then(t).catch(w$)}:hy;function w$(t){setTimeout(function(){throw t})}function Xg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_u(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_u(e)}function ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var kl=Math.random().toString(36).slice(2),Mr="__reactFiber$"+kl,xu="__reactProps$"+kl,Si="__reactContainer$"+kl,py="__reactEvents$"+kl,E$="__reactListeners$"+kl,b$="__reactHandles$"+kl;function oo(t){var e=t[Mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Si]||n[Mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tb(t);t!==null;){if(n=t[Mr])return n;t=tb(t)}return e}t=n,n=t.parentNode}return null}function yd(t){return t=t[Mr]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ta(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Sm(t){return t[xu]||null}var my=[],Ia=-1;function Bs(t){return{current:t}}function at(t){0>Ia||(t.current=my[Ia],my[Ia]=null,Ia--)}function tt(t,e){Ia++,my[Ia]=t.current,t.current=e}var Is={},on=Bs(Is),bn=Bs(!1),bo=Is;function ll(t,e){var n=t.type.contextTypes;if(!n)return Is;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function Uh(){at(bn),at(on)}function nb(t,e,n){if(on.current!==Is)throw Error(q(168));tt(on,e),tt(bn,n)}function ZI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,oD(t)||"Unknown",i));return pt({},n,r)}function zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Is,bo=on.current,tt(on,t),tt(bn,bn.current),!0}function rb(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=ZI(t,e,bo),r.__reactInternalMemoizedMergedChildContext=t,at(bn),at(on),tt(on,t)):at(bn),tt(bn,n)}var hi=null,xm=!1,Yg=!1;function eC(t){hi===null?hi=[t]:hi.push(t)}function S$(t){xm=!0,eC(t)}function Ws(){if(!Yg&&hi!==null){Yg=!0;var t=0,e=Xe;try{var n=hi;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hi=null,xm=!1}catch(i){throw hi!==null&&(hi=hi.slice(t+1)),TI(Y_,Ws),i}finally{Xe=e,Yg=!1}}return null}var Ca=[],Ra=0,Bh=null,Wh=0,qn=[],Kn=0,So=null,mi=1,gi="";function no(t,e){Ca[Ra++]=Wh,Ca[Ra++]=Bh,Bh=t,Wh=e}function tC(t,e,n){qn[Kn++]=mi,qn[Kn++]=gi,qn[Kn++]=So,So=t;var r=mi;t=gi;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var s=32-_r(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,mi=1<<32-_r(e)+i|n<<i|r,gi=s+t}else mi=1<<s|n<<i|r,gi=t}function ow(t){t.return!==null&&(no(t,1),tC(t,1,0))}function aw(t){for(;t===Bh;)Bh=Ca[--Ra],Ca[Ra]=null,Wh=Ca[--Ra],Ca[Ra]=null;for(;t===So;)So=qn[--Kn],qn[Kn]=null,gi=qn[--Kn],qn[Kn]=null,mi=qn[--Kn],qn[Kn]=null}var Ln=null,Nn=null,lt=!1,pr=null;function nC(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ib(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Nn=ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=So!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Nn=null,!0):!1;default:return!1}}function gy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vy(t){if(lt){var e=Nn;if(e){var n=e;if(!ib(t,e)){if(gy(t))throw Error(q(418));e=ds(n.nextSibling);var r=Ln;e&&ib(t,e)?nC(r,n):(t.flags=t.flags&-4097|2,lt=!1,Ln=t)}}else{if(gy(t))throw Error(q(418));t.flags=t.flags&-4097|2,lt=!1,Ln=t}}}function sb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function _f(t){if(t!==Ln)return!1;if(!lt)return sb(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fy(t.type,t.memoizedProps)),e&&(e=Nn)){if(gy(t))throw rC(),Error(q(418));for(;e;)nC(t,e),e=ds(e.nextSibling)}if(sb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=ds(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=Ln?ds(t.stateNode.nextSibling):null;return!0}function rC(){for(var t=Nn;t;)t=ds(t.nextSibling)}function cl(){Nn=Ln=null,lt=!1}function lw(t){pr===null?pr=[t]:pr.push(t)}var x$=Oi.ReactCurrentBatchConfig;function hc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function wf(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ob(t){var e=t._init;return e(t._payload)}function iC(t){function e(_,v){if(t){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(_,v){return _=ms(_,v),_.index=0,_.sibling=null,_}function s(_,v,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,x,P){return v===null||v.tag!==6?(v=iv(x,_.mode,P),v.return=_,v):(v=i(v,x),v.return=_,v)}function l(_,v,x,P){var O=x.type;return O===Ea?d(_,v,x.props.children,P,x.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ki&&ob(O)===v.type)?(P=i(v,x.props),P.ref=hc(_,v,x),P.return=_,P):(P=rh(x.type,x.key,x.props,null,_.mode,P),P.ref=hc(_,v,x),P.return=_,P)}function u(_,v,x,P){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=sv(x,_.mode,P),v.return=_,v):(v=i(v,x.children||[]),v.return=_,v)}function d(_,v,x,P,O){return v===null||v.tag!==7?(v=vo(x,_.mode,P,O),v.return=_,v):(v=i(v,x),v.return=_,v)}function f(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=iv(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case cf:return x=rh(v.type,v.key,v.props,null,_.mode,x),x.ref=hc(_,null,v),x.return=_,x;case wa:return v=sv(v,_.mode,x),v.return=_,v;case Ki:var P=v._init;return f(_,P(v._payload),x)}if(Tc(v)||lc(v))return v=vo(v,_.mode,x,null),v.return=_,v;wf(_,v)}return null}function h(_,v,x,P){var O=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(_,v,""+x,P);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case cf:return x.key===O?l(_,v,x,P):null;case wa:return x.key===O?u(_,v,x,P):null;case Ki:return O=x._init,h(_,v,O(x._payload),P)}if(Tc(x)||lc(x))return O!==null?null:d(_,v,x,P,null);wf(_,x)}return null}function m(_,v,x,P,O){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(x)||null,a(v,_,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case cf:return _=_.get(P.key===null?x:P.key)||null,l(v,_,P,O);case wa:return _=_.get(P.key===null?x:P.key)||null,u(v,_,P,O);case Ki:var $=P._init;return m(_,v,x,$(P._payload),O)}if(Tc(P)||lc(P))return _=_.get(x)||null,d(v,_,P,O,null);wf(v,P)}return null}function y(_,v,x,P){for(var O=null,$=null,T=v,S=v=0,I=null;T!==null&&S<x.length;S++){T.index>S?(I=T,T=null):I=T.sibling;var R=h(_,T,x[S],P);if(R===null){T===null&&(T=I);break}t&&T&&R.alternate===null&&e(_,T),v=s(R,v,S),$===null?O=R:$.sibling=R,$=R,T=I}if(S===x.length)return n(_,T),lt&&no(_,S),O;if(T===null){for(;S<x.length;S++)T=f(_,x[S],P),T!==null&&(v=s(T,v,S),$===null?O=T:$.sibling=T,$=T);return lt&&no(_,S),O}for(T=r(_,T);S<x.length;S++)I=m(T,_,S,x[S],P),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?S:I.key),v=s(I,v,S),$===null?O=I:$.sibling=I,$=I);return t&&T.forEach(function(D){return e(_,D)}),lt&&no(_,S),O}function E(_,v,x,P){var O=lc(x);if(typeof O!="function")throw Error(q(150));if(x=O.call(x),x==null)throw Error(q(151));for(var $=O=null,T=v,S=v=0,I=null,R=x.next();T!==null&&!R.done;S++,R=x.next()){T.index>S?(I=T,T=null):I=T.sibling;var D=h(_,T,R.value,P);if(D===null){T===null&&(T=I);break}t&&T&&D.alternate===null&&e(_,T),v=s(D,v,S),$===null?O=D:$.sibling=D,$=D,T=I}if(R.done)return n(_,T),lt&&no(_,S),O;if(T===null){for(;!R.done;S++,R=x.next())R=f(_,R.value,P),R!==null&&(v=s(R,v,S),$===null?O=R:$.sibling=R,$=R);return lt&&no(_,S),O}for(T=r(_,T);!R.done;S++,R=x.next())R=m(T,_,S,R.value,P),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?S:R.key),v=s(R,v,S),$===null?O=R:$.sibling=R,$=R);return t&&T.forEach(function(k){return e(_,k)}),lt&&no(_,S),O}function b(_,v,x,P){if(typeof x=="object"&&x!==null&&x.type===Ea&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case cf:e:{for(var O=x.key,$=v;$!==null;){if($.key===O){if(O=x.type,O===Ea){if($.tag===7){n(_,$.sibling),v=i($,x.props.children),v.return=_,_=v;break e}}else if($.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Ki&&ob(O)===$.type){n(_,$.sibling),v=i($,x.props),v.ref=hc(_,$,x),v.return=_,_=v;break e}n(_,$);break}else e(_,$);$=$.sibling}x.type===Ea?(v=vo(x.props.children,_.mode,P,x.key),v.return=_,_=v):(P=rh(x.type,x.key,x.props,null,_.mode,P),P.ref=hc(_,v,x),P.return=_,_=P)}return o(_);case wa:e:{for($=x.key;v!==null;){if(v.key===$)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(_,v.sibling),v=i(v,x.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=sv(x,_.mode,P),v.return=_,_=v}return o(_);case Ki:return $=x._init,b(_,v,$(x._payload),P)}if(Tc(x))return y(_,v,x,P);if(lc(x))return E(_,v,x,P);wf(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(_,v.sibling),v=i(v,x),v.return=_,_=v):(n(_,v),v=iv(x,_.mode,P),v.return=_,_=v),o(_)):n(_,v)}return b}var ul=iC(!0),sC=iC(!1),Hh=Bs(null),qh=null,Pa=null,cw=null;function uw(){cw=Pa=qh=null}function dw(t){var e=Hh.current;at(Hh),t._currentValue=e}function yy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function za(t,e){qh=t,cw=Pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function Yn(t){var e=t._currentValue;if(cw!==t)if(t={context:t,memoizedValue:e,next:null},Pa===null){if(qh===null)throw Error(q(308));Pa=t,qh.dependencies={lanes:0,firstContext:t}}else Pa=Pa.next=t;return e}var ao=null;function fw(t){ao===null?ao=[t]:ao.push(t)}function oC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fw(e)):(n.next=i.next,i.next=n),e.interleaved=n,xi(t,r)}function xi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gi=!1;function hw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xi(t,n)}return i=r.interleaved,i===null?(e.next=e,fw(r)):(e.next=i.next,i.next=e),r.interleaved=e,xi(t,n)}function Yf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J_(t,n)}}function ab(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kh(t,e,n,r){var i=t.updateQueue;Gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,E=a;switch(h=e,m=n,E.tag){case 1:if(y=E.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=E.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=pt({},f,h);break e;case 2:Gi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);To|=o,t.lanes=o,t.memoizedState=f}}function lb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var _d={},Wr=Bs(_d),Tu=Bs(_d),Iu=Bs(_d);function lo(t){if(t===_d)throw Error(q(174));return t}function pw(t,e){switch(tt(Iu,e),tt(Tu,t),tt(Wr,_d),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jv(e,t)}at(Wr),tt(Wr,e)}function dl(){at(Wr),at(Tu),at(Iu)}function lC(t){lo(Iu.current);var e=lo(Wr.current),n=Jv(e,t.type);e!==n&&(tt(Tu,t),tt(Wr,n))}function mw(t){Tu.current===t&&(at(Wr),at(Tu))}var ft=Bs(0);function Gh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jg=[];function gw(){for(var t=0;t<Jg.length;t++)Jg[t]._workInProgressVersionPrimary=null;Jg.length=0}var Jf=Oi.ReactCurrentDispatcher,Zg=Oi.ReactCurrentBatchConfig,xo=0,ht=null,At=null,$t=null,Qh=!1,Zc=!1,Cu=0,T$=0;function Yt(){throw Error(q(321))}function vw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function yw(t,e,n,r,i,s){if(xo=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jf.current=t===null||t.memoizedState===null?P$:A$,t=n(r,i),Zc){s=0;do{if(Zc=!1,Cu=0,25<=s)throw Error(q(301));s+=1,$t=At=null,e.updateQueue=null,Jf.current=k$,t=n(r,i)}while(Zc)}if(Jf.current=Xh,e=At!==null&&At.next!==null,xo=0,$t=At=ht=null,Qh=!1,e)throw Error(q(300));return t}function _w(){var t=Cu!==0;return Cu=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?ht.memoizedState=$t=t:$t=$t.next=t,$t}function Jn(){if(At===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=$t===null?ht.memoizedState:$t.next;if(e!==null)$t=e,At=t;else{if(t===null)throw Error(q(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},$t===null?ht.memoizedState=$t=t:$t=$t.next=t}return $t}function Ru(t,e){return typeof e=="function"?e(t):e}function ev(t){var e=Jn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=At,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((xo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ht.lanes|=d,To|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,xr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,To|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tv(t){var e=Jn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);xr(s,e.memoizedState)||(En=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cC(){}function uC(t,e){var n=ht,r=Jn(),i=e(),s=!xr(r.memoizedState,i);if(s&&(r.memoizedState=i,En=!0),r=r.queue,ww(hC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||$t!==null&&$t.memoizedState.tag&1){if(n.flags|=2048,Pu(9,fC.bind(null,n,r,i,e),void 0,null),Lt===null)throw Error(q(349));xo&30||dC(n,e,i)}return i}function dC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fC(t,e,n,r){e.value=n,e.getSnapshot=r,pC(e)&&mC(t)}function hC(t,e,n){return n(function(){pC(e)&&mC(t)})}function pC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function mC(t){var e=xi(t,1);e!==null&&wr(e,t,1,-1)}function cb(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:t},e.queue=t,t=t.dispatch=R$.bind(null,ht,t),[e.memoizedState,t]}function Pu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gC(){return Jn().memoizedState}function Zf(t,e,n,r){var i=$r();ht.flags|=t,i.memoizedState=Pu(1|e,n,void 0,r===void 0?null:r)}function Tm(t,e,n,r){var i=Jn();r=r===void 0?null:r;var s=void 0;if(At!==null){var o=At.memoizedState;if(s=o.destroy,r!==null&&vw(r,o.deps)){i.memoizedState=Pu(e,n,s,r);return}}ht.flags|=t,i.memoizedState=Pu(1|e,n,s,r)}function ub(t,e){return Zf(8390656,8,t,e)}function ww(t,e){return Tm(2048,8,t,e)}function vC(t,e){return Tm(4,2,t,e)}function yC(t,e){return Tm(4,4,t,e)}function _C(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wC(t,e,n){return n=n!=null?n.concat([t]):null,Tm(4,4,_C.bind(null,e,t),n)}function Ew(){}function EC(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bC(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SC(t,e,n){return xo&21?(xr(n,e)||(n=RI(),ht.lanes|=n,To|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function I$(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=Zg.transition;Zg.transition={};try{t(!1),e()}finally{Xe=n,Zg.transition=r}}function xC(){return Jn().memoizedState}function C$(t,e,n){var r=ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TC(t))IC(e,n);else if(n=oC(t,e,n,r),n!==null){var i=hn();wr(n,t,r,i),CC(n,e,r)}}function R$(t,e,n){var r=ps(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TC(t))IC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,xr(a,o)){var l=e.interleaved;l===null?(i.next=i,fw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oC(t,e,i,r),n!==null&&(i=hn(),wr(n,t,r,i),CC(n,e,r))}}function TC(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function IC(t,e){Zc=Qh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J_(t,n)}}var Xh={readContext:Yn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},P$={readContext:Yn,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:Yn,useEffect:ub,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zf(4194308,4,_C.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zf(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=C$.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:cb,useDebugValue:Ew,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=cb(!1),e=t[0];return t=I$.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=$r();if(lt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),Lt===null)throw Error(q(349));xo&30||dC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ub(hC.bind(null,r,s,t),[t]),r.flags|=2048,Pu(9,fC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$r(),e=Lt.identifierPrefix;if(lt){var n=gi,r=mi;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=T$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},A$={readContext:Yn,useCallback:EC,useContext:Yn,useEffect:ww,useImperativeHandle:wC,useInsertionEffect:vC,useLayoutEffect:yC,useMemo:bC,useReducer:ev,useRef:gC,useState:function(){return ev(Ru)},useDebugValue:Ew,useDeferredValue:function(t){var e=Jn();return SC(e,At.memoizedState,t)},useTransition:function(){var t=ev(Ru)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:cC,useSyncExternalStore:uC,useId:xC,unstable_isNewReconciler:!1},k$={readContext:Yn,useCallback:EC,useContext:Yn,useEffect:ww,useImperativeHandle:wC,useInsertionEffect:vC,useLayoutEffect:yC,useMemo:bC,useReducer:tv,useRef:gC,useState:function(){return tv(Ru)},useDebugValue:Ew,useDeferredValue:function(t){var e=Jn();return At===null?e.memoizedState=t:SC(e,At.memoizedState,t)},useTransition:function(){var t=tv(Ru)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:cC,useSyncExternalStore:uC,useId:xC,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _y(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Im={isMounted:function(t){return(t=t._reactInternals)?Wo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=ps(t),s=wi(r,i);s.payload=e,n!=null&&(s.callback=n),e=fs(t,s,i),e!==null&&(wr(e,t,i,r),Yf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=ps(t),s=wi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=fs(t,s,i),e!==null&&(wr(e,t,i,r),Yf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=ps(t),i=wi(n,r);i.tag=2,e!=null&&(i.callback=e),e=fs(t,i,r),e!==null&&(wr(e,t,r,n),Yf(e,t,r))}};function db(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Eu(n,r)||!Eu(i,s):!0}function RC(t,e,n){var r=!1,i=Is,s=e.contextType;return typeof s=="object"&&s!==null?s=Yn(s):(i=Sn(e)?bo:on.current,r=e.contextTypes,s=(r=r!=null)?ll(t,i):Is),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Im,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function fb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Im.enqueueReplaceState(e,e.state,null)}function wy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yn(s):(s=Sn(e)?bo:on.current,i.context=ll(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_y(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Im.enqueueReplaceState(i,i.state,null),Kh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e){try{var n="",r=e;do n+=sD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function nv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ey(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var O$=typeof WeakMap=="function"?WeakMap:Map;function PC(t,e,n){n=wi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jh||(Jh=!0,ky=r),Ey(t,e)},n}function AC(t,e,n){n=wi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ey(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ey(t,e),typeof r!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new O$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=q$.bind(null,t,e,n),e.then(t,t))}function pb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wi(-1,1),e.tag=2,fs(n,e,1))),n.lanes|=1),t)}var N$=Oi.ReactCurrentOwner,En=!1;function dn(t,e,n,r){e.child=t===null?sC(e,null,n,r):ul(e,t.child,n,r)}function gb(t,e,n,r,i){n=n.render;var s=e.ref;return za(e,i),r=yw(t,e,n,r,s,i),n=_w(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(lt&&n&&ow(e),e.flags|=1,dn(t,e,r,i),e.child)}function vb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Pw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,kC(t,e,s,r,i)):(t=rh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Eu,n(o,r)&&t.ref===e.ref)return Ti(t,e,i)}return e.flags|=1,t=ms(s,r),t.ref=e.ref,t.return=e,e.child=t}function kC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Eu(s,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,Ti(t,e,i)}return by(t,e,n,r,i)}function OC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(ka,An),An|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(ka,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tt(ka,An),An|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,tt(ka,An),An|=r;return dn(t,e,i,n),e.child}function NC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function by(t,e,n,r,i){var s=Sn(n)?bo:on.current;return s=ll(e,s),za(e,i),n=yw(t,e,n,r,s,i),r=_w(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ti(t,e,i)):(lt&&r&&ow(e),e.flags|=1,dn(t,e,n,i),e.child)}function yb(t,e,n,r,i){if(Sn(n)){var s=!0;zh(e)}else s=!1;if(za(e,i),e.stateNode===null)eh(t,e),RC(e,n,r),wy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yn(u):(u=Sn(n)?bo:on.current,u=ll(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&fb(e,o,r,u),Gi=!1;var h=e.memoizedState;o.state=h,Kh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||bn.current||Gi?(typeof d=="function"&&(_y(e,n,d,r),l=e.memoizedState),(a=Gi||db(e,n,a,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:dr(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yn(l):(l=Sn(n)?bo:on.current,l=ll(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&fb(e,o,r,l),Gi=!1,h=e.memoizedState,o.state=h,Kh(e,r,o,i);var y=e.memoizedState;a!==f||h!==y||bn.current||Gi?(typeof m=="function"&&(_y(e,n,m,r),y=e.memoizedState),(u=Gi||db(e,n,u,r,h,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Sy(t,e,n,r,s,i)}function Sy(t,e,n,r,i,s){NC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rb(e,n,!1),Ti(t,e,s);r=e.stateNode,N$.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ul(e,t.child,null,s),e.child=ul(e,null,a,s)):dn(t,e,a,s),e.memoizedState=r.state,i&&rb(e,n,!0),e.child}function DC(t){var e=t.stateNode;e.pendingContext?nb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nb(t,e.context,!1),pw(t,e.containerInfo)}function _b(t,e,n,r,i){return cl(),lw(i),e.flags|=256,dn(t,e,n,r),e.child}var xy={dehydrated:null,treeContext:null,retryLane:0};function Ty(t){return{baseLanes:t,cachePool:null,transitions:null}}function $C(t,e,n){var r=e.pendingProps,i=ft.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(ft,i&1),t===null)return vy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pm(o,r,0,null),t=vo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ty(n),e.memoizedState=xy,t):bw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return D$(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ms(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ms(a,s):(s=vo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ty(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xy,r}return s=t.child,t=s.sibling,r=ms(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bw(t,e){return e=Pm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ef(t,e,n,r){return r!==null&&lw(r),ul(e,t.child,null,n),t=bw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function D$(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=nv(Error(q(422))),Ef(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Pm({mode:"visible",children:r.children},i,0,null),s=vo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ul(e,t.child,null,o),e.child.memoizedState=Ty(o),e.memoizedState=xy,s);if(!(e.mode&1))return Ef(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=nv(s,r,void 0),Ef(t,e,o,r)}if(a=(o&t.childLanes)!==0,En||a){if(r=Lt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xi(t,i),wr(r,t,i,-1))}return Rw(),r=nv(Error(q(421))),Ef(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=K$.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nn=ds(i.nextSibling),Ln=e,lt=!0,pr=null,t!==null&&(qn[Kn++]=mi,qn[Kn++]=gi,qn[Kn++]=So,mi=t.id,gi=t.overflow,So=e),e=bw(e,r.children),e.flags|=4096,e)}function wb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),yy(t.return,e,n)}function rv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function LC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dn(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wb(t,n,e);else if(t.tag===19)wb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tt(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rv(e,!0,n,null,s);break;case"together":rv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),To|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $$(t,e,n){switch(e.tag){case 3:DC(e),cl();break;case 5:lC(e);break;case 1:Sn(e.type)&&zh(e);break;case 4:pw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tt(Hh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tt(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?$C(t,e,n):(tt(ft,ft.current&1),t=Ti(t,e,n),t!==null?t.sibling:null);tt(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,OC(t,e,n)}return Ti(t,e,n)}var MC,Iy,VC,FC;MC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Iy=function(){};VC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lo(Wr.current);var s=null;switch(n){case"input":i=Gv(t,i),r=Gv(t,r),s=[];break;case"select":i=pt({},i,{value:void 0}),r=pt({},r,{value:void 0}),s=[];break;case"textarea":i=Yv(t,i),r=Yv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jh)}Zv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};FC=function(t,e,n,r){n!==r&&(e.flags|=4)};function pc(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function L$(t,e,n){var r=e.pendingProps;switch(aw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return Sn(e.type)&&Uh(),Jt(e),null;case 3:return r=e.stateNode,dl(),at(bn),at(on),gw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_f(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(Dy(pr),pr=null))),Iy(t,e),Jt(e),null;case 5:mw(e);var i=lo(Iu.current);if(n=e.type,t!==null&&e.stateNode!=null)VC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Jt(e),null}if(t=lo(Wr.current),_f(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mr]=e,r[xu]=s,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<Cc.length;i++)st(Cc[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":P1(r,s),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},st("invalid",r);break;case"textarea":k1(r,s),st("invalid",r)}Zv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yf(r.textContent,a,t),i=["children",""+a]):pu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&st("scroll",r)}switch(n){case"input":uf(r),A1(r,s,!0);break;case"textarea":uf(r),O1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=jh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mr]=e,t[xu]=r,MC(t,e,!1,!1),e.stateNode=t;e:{switch(o=ey(n,r),n){case"dialog":st("cancel",t),st("close",t),i=r;break;case"iframe":case"object":case"embed":st("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cc.length;i++)st(Cc[i],t);i=r;break;case"source":st("error",t),i=r;break;case"img":case"image":case"link":st("error",t),st("load",t),i=r;break;case"details":st("toggle",t),i=r;break;case"input":P1(t,r),i=Gv(t,r),st("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pt({},r,{value:void 0}),st("invalid",t);break;case"textarea":k1(t,r),i=Yv(t,r),st("invalid",t);break;default:i=r}Zv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pI(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mu(t,l):typeof l=="number"&&mu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&st("scroll",t):l!=null&&q_(t,s,l,o))}switch(n){case"input":uf(t),A1(t,r,!1);break;case"textarea":uf(t),O1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ts(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Va(t,!!r.multiple,s,!1):r.defaultValue!=null&&Va(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=jh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)FC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=lo(Iu.current),lo(Wr.current),_f(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mr]=e,(s=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:yf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mr]=e,e.stateNode=r}return Jt(e),null;case 13:if(at(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&Nn!==null&&e.mode&1&&!(e.flags&128))rC(),cl(),e.flags|=98560,s=!1;else if(s=_f(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Mr]=e}else cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),s=!1}else pr!==null&&(Dy(pr),pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?kt===0&&(kt=3):Rw())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return dl(),Iy(t,e),t===null&&bu(e.stateNode.containerInfo),Jt(e),null;case 10:return dw(e.type._context),Jt(e),null;case 17:return Sn(e.type)&&Uh(),Jt(e),null;case 19:if(at(ft),s=e.memoizedState,s===null)return Jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)pc(s,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gh(t),o!==null){for(e.flags|=128,pc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tt(ft,ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&wt()>hl&&(e.flags|=128,r=!0,pc(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lt)return Jt(e),null}else 2*wt()-s.renderingStartTime>hl&&n!==1073741824&&(e.flags|=128,r=!0,pc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,n=ft.current,tt(ft,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return Cw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function M$(t,e){switch(aw(e),e.tag){case 1:return Sn(e.type)&&Uh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dl(),at(bn),at(on),gw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mw(e),null;case 13:if(at(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ft),null;case 4:return dl(),null;case 10:return dw(e.type._context),null;case 22:case 23:return Cw(),null;case 24:return null;default:return null}}var bf=!1,rn=!1,V$=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function Cy(t,e,n){try{n()}catch(r){vt(t,e,r)}}var Eb=!1;function F$(t,e){if(uy=Mh,t=WI(),sw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dy={focusedElem:t,selectionRange:n},Mh=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var E=y.memoizedProps,b=y.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?E:dr(e.type,E),b);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(P){vt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return y=Eb,Eb=!1,y}function eu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cy(e,n,s)}i=i.next}while(i!==r)}}function Cm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ry(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jC(t){var e=t.alternate;e!==null&&(t.alternate=null,jC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mr],delete e[xu],delete e[py],delete e[E$],delete e[b$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function UC(t){return t.tag===5||t.tag===3||t.tag===4}function bb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||UC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Py(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jh));else if(r!==4&&(t=t.child,t!==null))for(Py(t,e,n),t=t.sibling;t!==null;)Py(t,e,n),t=t.sibling}function Ay(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ay(t,e,n),t=t.sibling;t!==null;)Ay(t,e,n),t=t.sibling}var Vt=null,hr=!1;function ji(t,e,n){for(n=n.child;n!==null;)zC(t,e,n),n=n.sibling}function zC(t,e,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(_m,n)}catch{}switch(n.tag){case 5:rn||Aa(n,e);case 6:var r=Vt,i=hr;Vt=null,ji(t,e,n),Vt=r,hr=i,Vt!==null&&(hr?(t=Vt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(hr?(t=Vt,n=n.stateNode,t.nodeType===8?Xg(t.parentNode,n):t.nodeType===1&&Xg(t,n),_u(t)):Xg(Vt,n.stateNode));break;case 4:r=Vt,i=hr,Vt=n.stateNode.containerInfo,hr=!0,ji(t,e,n),Vt=r,hr=i;break;case 0:case 11:case 14:case 15:if(!rn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cy(n,e,o),i=i.next}while(i!==r)}ji(t,e,n);break;case 1:if(!rn&&(Aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vt(n,e,a)}ji(t,e,n);break;case 21:ji(t,e,n);break;case 22:n.mode&1?(rn=(r=rn)||n.memoizedState!==null,ji(t,e,n),rn=r):ji(t,e,n);break;default:ji(t,e,n)}}function Sb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new V$),e.forEach(function(r){var i=G$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Vt=a.stateNode,hr=!1;break e;case 3:Vt=a.stateNode.containerInfo,hr=!0;break e;case 4:Vt=a.stateNode.containerInfo,hr=!0;break e}a=a.return}if(Vt===null)throw Error(q(160));zC(s,o,i),Vt=null,hr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BC(e,t),e=e.sibling}function BC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Or(t),r&4){try{eu(3,t,t.return),Cm(3,t)}catch(E){vt(t,t.return,E)}try{eu(5,t,t.return)}catch(E){vt(t,t.return,E)}}break;case 1:or(e,t),Or(t),r&512&&n!==null&&Aa(n,n.return);break;case 5:if(or(e,t),Or(t),r&512&&n!==null&&Aa(n,n.return),t.flags&32){var i=t.stateNode;try{mu(i,"")}catch(E){vt(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dI(i,s),ey(a,o);var u=ey(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?gI(i,f):d==="dangerouslySetInnerHTML"?pI(i,f):d==="children"?mu(i,f):q_(i,d,f,u)}switch(a){case"input":Qv(i,s);break;case"textarea":fI(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Va(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Va(i,!!s.multiple,s.defaultValue,!0):Va(i,!!s.multiple,s.multiple?[]:"",!1))}i[xu]=s}catch(E){vt(t,t.return,E)}}break;case 6:if(or(e,t),Or(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){vt(t,t.return,E)}}break;case 3:if(or(e,t),Or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_u(e.containerInfo)}catch(E){vt(t,t.return,E)}break;case 4:or(e,t),Or(t);break;case 13:or(e,t),Or(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Tw=wt())),r&4&&Sb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(u=rn)||d,or(e,t),rn=u):or(e,t),Or(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ae=t,d=t.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:eu(4,h,h.return);break;case 1:Aa(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(E){vt(r,n,E)}}break;case 5:Aa(h,h.return);break;case 22:if(h.memoizedState!==null){Tb(f);continue}}m!==null?(m.return=h,ae=m):Tb(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mI("display",o))}catch(E){vt(t,t.return,E)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(E){vt(t,t.return,E)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),Or(t),r&4&&Sb(t);break;case 21:break;default:or(e,t),Or(t)}}function Or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(UC(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mu(i,""),r.flags&=-33);var s=bb(t);Ay(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bb(t);Py(t,a,o);break;default:throw Error(q(161))}}catch(l){vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j$(t,e,n){ae=t,WC(t)}function WC(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bf;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||rn;a=bf;var u=rn;if(bf=o,(rn=l)&&!u)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?Ib(i):l!==null?(l.return=o,ae=l):Ib(i);for(;s!==null;)ae=s,WC(s),s=s.sibling;ae=i,bf=a,rn=u}xb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):xb(t)}}function xb(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||Cm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_u(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}rn||e.flags&512&&Ry(e)}catch(h){vt(e,e.return,h)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Tb(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function Ib(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cm(4,e)}catch(l){vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vt(e,i,l)}}var s=e.return;try{Ry(e)}catch(l){vt(e,s,l)}break;case 5:var o=e.return;try{Ry(e)}catch(l){vt(e,o,l)}}}catch(l){vt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var U$=Math.ceil,Yh=Oi.ReactCurrentDispatcher,Sw=Oi.ReactCurrentOwner,Qn=Oi.ReactCurrentBatchConfig,Be=0,Lt=null,Tt=null,zt=0,An=0,ka=Bs(0),kt=0,Au=null,To=0,Rm=0,xw=0,tu=null,_n=null,Tw=0,hl=1/0,fi=null,Jh=!1,ky=null,hs=null,Sf=!1,is=null,Zh=0,nu=0,Oy=null,th=-1,nh=0;function hn(){return Be&6?wt():th!==-1?th:th=wt()}function ps(t){return t.mode&1?Be&2&&zt!==0?zt&-zt:x$.transition!==null?(nh===0&&(nh=RI()),nh):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:$I(t.type)),t):1}function wr(t,e,n,r){if(50<nu)throw nu=0,Oy=null,Error(q(185));gd(t,n,r),(!(Be&2)||t!==Lt)&&(t===Lt&&(!(Be&2)&&(Rm|=n),kt===4&&Xi(t,zt)),xn(t,r),n===1&&Be===0&&!(e.mode&1)&&(hl=wt()+500,xm&&Ws()))}function xn(t,e){var n=t.callbackNode;xD(t,e);var r=Lh(t,t===Lt?zt:0);if(r===0)n!==null&&$1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$1(n),e===1)t.tag===0?S$(Cb.bind(null,t)):eC(Cb.bind(null,t)),_$(function(){!(Be&6)&&Ws()}),n=null;else{switch(PI(r)){case 1:n=Y_;break;case 4:n=II;break;case 16:n=$h;break;case 536870912:n=CI;break;default:n=$h}n=JC(n,HC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HC(t,e){if(th=-1,nh=0,Be&6)throw Error(q(327));var n=t.callbackNode;if(Ba()&&t.callbackNode!==n)return null;var r=Lh(t,t===Lt?zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ep(t,r);else{e=r;var i=Be;Be|=2;var s=KC();(Lt!==t||zt!==e)&&(fi=null,hl=wt()+500,go(t,e));do try{W$();break}catch(a){qC(t,a)}while(!0);uw(),Yh.current=s,Be=i,Tt!==null?e=0:(Lt=null,zt=0,e=kt)}if(e!==0){if(e===2&&(i=sy(t),i!==0&&(r=i,e=Ny(t,i))),e===1)throw n=Au,go(t,0),Xi(t,r),xn(t,wt()),n;if(e===6)Xi(t,r);else{if(i=t.current.alternate,!(r&30)&&!z$(i)&&(e=ep(t,r),e===2&&(s=sy(t),s!==0&&(r=s,e=Ny(t,s))),e===1))throw n=Au,go(t,0),Xi(t,r),xn(t,wt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:ro(t,_n,fi);break;case 3:if(Xi(t,r),(r&130023424)===r&&(e=Tw+500-wt(),10<e)){if(Lh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hy(ro.bind(null,t,_n,fi),e);break}ro(t,_n,fi);break;case 4:if(Xi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_r(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*U$(r/1960))-r,10<r){t.timeoutHandle=hy(ro.bind(null,t,_n,fi),r);break}ro(t,_n,fi);break;case 5:ro(t,_n,fi);break;default:throw Error(q(329))}}}return xn(t,wt()),t.callbackNode===n?HC.bind(null,t):null}function Ny(t,e){var n=tu;return t.current.memoizedState.isDehydrated&&(go(t,e).flags|=256),t=ep(t,e),t!==2&&(e=_n,_n=n,e!==null&&Dy(e)),t}function Dy(t){_n===null?_n=t:_n.push.apply(_n,t)}function z$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xi(t,e){for(e&=~xw,e&=~Rm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_r(e),r=1<<n;t[n]=-1,e&=~r}}function Cb(t){if(Be&6)throw Error(q(327));Ba();var e=Lh(t,0);if(!(e&1))return xn(t,wt()),null;var n=ep(t,e);if(t.tag!==0&&n===2){var r=sy(t);r!==0&&(e=r,n=Ny(t,r))}if(n===1)throw n=Au,go(t,0),Xi(t,e),xn(t,wt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ro(t,_n,fi),xn(t,wt()),null}function Iw(t,e){var n=Be;Be|=1;try{return t(e)}finally{Be=n,Be===0&&(hl=wt()+500,xm&&Ws())}}function Io(t){is!==null&&is.tag===0&&!(Be&6)&&Ba();var e=Be;Be|=1;var n=Qn.transition,r=Xe;try{if(Qn.transition=null,Xe=1,t)return t()}finally{Xe=r,Qn.transition=n,Be=e,!(Be&6)&&Ws()}}function Cw(){An=ka.current,at(ka)}function go(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,y$(n)),Tt!==null)for(n=Tt.return;n!==null;){var r=n;switch(aw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uh();break;case 3:dl(),at(bn),at(on),gw();break;case 5:mw(r);break;case 4:dl();break;case 13:at(ft);break;case 19:at(ft);break;case 10:dw(r.type._context);break;case 22:case 23:Cw()}n=n.return}if(Lt=t,Tt=t=ms(t.current,null),zt=An=e,kt=0,Au=null,xw=Rm=To=0,_n=tu=null,ao!==null){for(e=0;e<ao.length;e++)if(n=ao[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ao=null}return t}function qC(t,e){do{var n=Tt;try{if(uw(),Jf.current=Xh,Qh){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qh=!1}if(xo=0,$t=At=ht=null,Zc=!1,Cu=0,Sw.current=null,n===null||n.return===null){kt=1,Au=e,Tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=pb(o);if(m!==null){m.flags&=-257,mb(m,o,a,s,e),m.mode&1&&hb(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var E=new Set;E.add(l),e.updateQueue=E}else y.add(l);break e}else{if(!(e&1)){hb(s,u,e),Rw();break e}l=Error(q(426))}}else if(lt&&a.mode&1){var b=pb(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),mb(b,o,a,s,e),lw(fl(l,a));break e}}s=l=fl(l,a),kt!==4&&(kt=2),tu===null?tu=[s]:tu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=PC(s,l,e);ab(s,_);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(hs===null||!hs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=AC(s,a,e);ab(s,P);break e}}s=s.return}while(s!==null)}QC(n)}catch(O){e=O,Tt===n&&n!==null&&(Tt=n=n.return);continue}break}while(!0)}function KC(){var t=Yh.current;return Yh.current=Xh,t===null?Xh:t}function Rw(){(kt===0||kt===3||kt===2)&&(kt=4),Lt===null||!(To&268435455)&&!(Rm&268435455)||Xi(Lt,zt)}function ep(t,e){var n=Be;Be|=2;var r=KC();(Lt!==t||zt!==e)&&(fi=null,go(t,e));do try{B$();break}catch(i){qC(t,i)}while(!0);if(uw(),Be=n,Yh.current=r,Tt!==null)throw Error(q(261));return Lt=null,zt=0,kt}function B$(){for(;Tt!==null;)GC(Tt)}function W$(){for(;Tt!==null&&!mD();)GC(Tt)}function GC(t){var e=YC(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?QC(t):Tt=e,Sw.current=null}function QC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M$(n,e),n!==null){n.flags&=32767,Tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,Tt=null;return}}else if(n=L$(n,e,An),n!==null){Tt=n;return}if(e=e.sibling,e!==null){Tt=e;return}Tt=e=t}while(e!==null);kt===0&&(kt=5)}function ro(t,e,n){var r=Xe,i=Qn.transition;try{Qn.transition=null,Xe=1,H$(t,e,n,r)}finally{Qn.transition=i,Xe=r}return null}function H$(t,e,n,r){do Ba();while(is!==null);if(Be&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TD(t,s),t===Lt&&(Tt=Lt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sf||(Sf=!0,JC($h,function(){return Ba(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var o=Xe;Xe=1;var a=Be;Be|=4,Sw.current=null,F$(t,n),BC(n,t),d$(dy),Mh=!!uy,dy=uy=null,t.current=n,j$(n),gD(),Be=a,Xe=o,Qn.transition=s}else t.current=n;if(Sf&&(Sf=!1,is=t,Zh=i),s=t.pendingLanes,s===0&&(hs=null),_D(n.stateNode),xn(t,wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jh)throw Jh=!1,t=ky,ky=null,t;return Zh&1&&t.tag!==0&&Ba(),s=t.pendingLanes,s&1?t===Oy?nu++:(nu=0,Oy=t):nu=0,Ws(),null}function Ba(){if(is!==null){var t=PI(Zh),e=Qn.transition,n=Xe;try{if(Qn.transition=null,Xe=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,Zh=0,Be&6)throw Error(q(331));var i=Be;for(Be|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:eu(8,d,s)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,m=d.return;if(jC(d),d===u){ae=null;break}if(h!==null){h.return=m,ae=h;break}ae=m}}}var y=s.alternate;if(y!==null){var E=y.child;if(E!==null){y.child=null;do{var b=E.sibling;E.sibling=null,E=b}while(E!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:eu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ae=_;break e}ae=s.return}}var v=t.current;for(ae=v;ae!==null;){o=ae;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ae=x;else e:for(o=v;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cm(9,a)}}catch(O){vt(a,a.return,O)}if(a===o){ae=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,ae=P;break e}ae=a.return}}if(Be=i,Ws(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(_m,t)}catch{}r=!0}return r}finally{Xe=n,Qn.transition=e}}return!1}function Rb(t,e,n){e=fl(n,e),e=PC(t,e,1),t=fs(t,e,1),e=hn(),t!==null&&(gd(t,1,e),xn(t,e))}function vt(t,e,n){if(t.tag===3)Rb(t,t,n);else for(;e!==null;){if(e.tag===3){Rb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))){t=fl(n,t),t=AC(e,t,1),e=fs(e,t,1),t=hn(),e!==null&&(gd(e,1,t),xn(e,t));break}}e=e.return}}function q$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(zt&n)===n&&(kt===4||kt===3&&(zt&130023424)===zt&&500>wt()-Tw?go(t,0):xw|=n),xn(t,e)}function XC(t,e){e===0&&(t.mode&1?(e=hf,hf<<=1,!(hf&130023424)&&(hf=4194304)):e=1);var n=hn();t=xi(t,e),t!==null&&(gd(t,e,n),xn(t,n))}function K$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XC(t,n)}function G$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),XC(t,n)}var YC;YC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,$$(t,e,n);En=!!(t.flags&131072)}else En=!1,lt&&e.flags&1048576&&tC(e,Wh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eh(t,e),t=e.pendingProps;var i=ll(e,on.current);za(e,n),i=yw(null,e,r,t,i,n);var s=_w();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(s=!0,zh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hw(e),i.updater=Im,e.stateNode=i,i._reactInternals=e,wy(e,r,t,n),e=Sy(null,e,r,!0,s,n)):(e.tag=0,lt&&s&&ow(e),dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=X$(r),t=dr(r,t),i){case 0:e=by(null,e,r,t,n);break e;case 1:e=yb(null,e,r,t,n);break e;case 11:e=gb(null,e,r,t,n);break e;case 14:e=vb(null,e,r,dr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),by(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),yb(t,e,r,i,n);case 3:e:{if(DC(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,aC(t,e),Kh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fl(Error(q(423)),e),e=_b(t,e,r,n,i);break e}else if(r!==i){i=fl(Error(q(424)),e),e=_b(t,e,r,n,i);break e}else for(Nn=ds(e.stateNode.containerInfo.firstChild),Ln=e,lt=!0,pr=null,n=sC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cl(),r===i){e=Ti(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return lC(e),t===null&&vy(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fy(r,i)?o=null:s!==null&&fy(r,s)&&(e.flags|=32),NC(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&vy(e),null;case 13:return $C(t,e,n);case 4:return pw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ul(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),gb(t,e,r,i,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,tt(Hh,r._currentValue),r._currentValue=o,s!==null)if(xr(s.value,o)){if(s.children===i.children&&!bn.current){e=Ti(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=wi(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),yy(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),yy(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,za(e,n),i=Yn(i),r=r(i),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,i=dr(r,e.pendingProps),i=dr(r.type,i),vb(t,e,r,i,n);case 15:return kC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),eh(t,e),e.tag=1,Sn(r)?(t=!0,zh(e)):t=!1,za(e,n),RC(e,r,i),wy(e,r,i,n),Sy(null,e,r,!0,t,n);case 19:return LC(t,e,n);case 22:return OC(t,e,n)}throw Error(q(156,e.tag))};function JC(t,e){return TI(t,e)}function Q$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,r){return new Q$(t,e,n,r)}function Pw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function X$(t){if(typeof t=="function")return Pw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===G_)return 11;if(t===Q_)return 14}return 2}function ms(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Pw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ea:return vo(n.children,i,s,e);case K_:o=8,i|=8;break;case Wv:return t=Gn(12,n,e,i|2),t.elementType=Wv,t.lanes=s,t;case Hv:return t=Gn(13,n,e,i),t.elementType=Hv,t.lanes=s,t;case qv:return t=Gn(19,n,e,i),t.elementType=qv,t.lanes=s,t;case lI:return Pm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oI:o=10;break e;case aI:o=9;break e;case G_:o=11;break e;case Q_:o=14;break e;case Ki:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Gn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function vo(t,e,n,r){return t=Gn(7,t,r,e),t.lanes=n,t}function Pm(t,e,n,r){return t=Gn(22,t,r,e),t.elementType=lI,t.lanes=n,t.stateNode={isHidden:!1},t}function iv(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function sv(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Y$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fg(0),this.expirationTimes=Fg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Aw(t,e,n,r,i,s,o,a,l){return t=new Y$(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hw(s),t}function J$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZC(t){if(!t)return Is;t=t._reactInternals;e:{if(Wo(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Sn(n))return ZI(t,n,e)}return e}function eR(t,e,n,r,i,s,o,a,l){return t=Aw(n,r,!0,t,i,s,o,a,l),t.context=ZC(null),n=t.current,r=hn(),i=ps(n),s=wi(r,i),s.callback=e??null,fs(n,s,i),t.current.lanes=i,gd(t,i,r),xn(t,r),t}function Am(t,e,n,r){var i=e.current,s=hn(),o=ps(i);return n=ZC(n),e.context===null?e.context=n:e.pendingContext=n,e=wi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fs(i,e,o),t!==null&&(wr(t,i,o,s),Yf(t,i,o)),o}function tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kw(t,e){Pb(t,e),(t=t.alternate)&&Pb(t,e)}function Z$(){return null}var tR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ow(t){this._internalRoot=t}km.prototype.render=Ow.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Am(t,e,null,null)};km.prototype.unmount=Ow.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Io(function(){Am(null,t,null,null)}),e[Si]=null}};function km(t){this._internalRoot=t}km.prototype.unstable_scheduleHydration=function(t){if(t){var e=OI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qi.length&&e!==0&&e<Qi[n].priority;n++);Qi.splice(n,0,t),n===0&&DI(t)}};function Nw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ab(){}function eL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=tp(o);s.call(u)}}var o=eR(e,r,t,0,null,!1,!1,"",Ab);return t._reactRootContainer=o,t[Si]=o.current,bu(t.nodeType===8?t.parentNode:t),Io(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=tp(l);a.call(u)}}var l=Aw(t,0,!1,null,null,!1,!1,"",Ab);return t._reactRootContainer=l,t[Si]=l.current,bu(t.nodeType===8?t.parentNode:t),Io(function(){Am(e,l,n,r)}),l}function Nm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=tp(o);a.call(l)}}Am(e,o,t,i)}else o=eL(n,e,t,i,r);return tp(o)}AI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ic(e.pendingLanes);n!==0&&(J_(e,n|1),xn(e,wt()),!(Be&6)&&(hl=wt()+500,Ws()))}break;case 13:Io(function(){var r=xi(t,1);if(r!==null){var i=hn();wr(r,t,1,i)}}),kw(t,1)}};Z_=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var n=hn();wr(e,t,134217728,n)}kw(t,134217728)}};kI=function(t){if(t.tag===13){var e=ps(t),n=xi(t,e);if(n!==null){var r=hn();wr(n,t,e,r)}kw(t,e)}};OI=function(){return Xe};NI=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};ny=function(t,e,n){switch(e){case"input":if(Qv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sm(r);if(!i)throw Error(q(90));uI(r),Qv(r,i)}}}break;case"textarea":fI(t,n);break;case"select":e=n.value,e!=null&&Va(t,!!n.multiple,e,!1)}};_I=Iw;wI=Io;var tL={usingClientEntryPoint:!1,Events:[yd,Ta,Sm,vI,yI,Iw]},mc={findFiberByHostInstance:oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nL={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SI(t),t===null?null:t.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance||Z$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{_m=xf.inject(nL),Br=xf}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tL;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nw(e))throw Error(q(200));return J$(t,e,null,n)};Bn.createRoot=function(t,e){if(!Nw(t))throw Error(q(299));var n=!1,r="",i=tR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Aw(t,1,!1,null,null,n,!1,r,i),t[Si]=e.current,bu(t.nodeType===8?t.parentNode:t),new Ow(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=SI(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Io(t)};Bn.hydrate=function(t,e,n){if(!Om(e))throw Error(q(200));return Nm(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!Nw(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eR(e,null,t,1,n??null,i,!1,s,o),t[Si]=e.current,bu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new km(e)};Bn.render=function(t,e,n){if(!Om(e))throw Error(q(200));return Nm(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!Om(t))throw Error(q(40));return t._reactRootContainer?(Io(function(){Nm(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1};Bn.unstable_batchedUpdates=Iw;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Om(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Nm(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function nR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nR)}catch(t){console.error(t)}}nR(),nI.exports=Bn;var wd=nI.exports;const rL=WT(wd);var kb=wd;zv.createRoot=kb.createRoot,zv.hydrateRoot=kb.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}var ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ss||(ss={}));const Ob="popstate";function iL(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $y("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:np(i)}return oL(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sL(){return Math.random().toString(36).substr(2,8)}function Nb(t,e){return{usr:t.state,key:t.key,idx:e}}function $y(t,e,n,r){return n===void 0&&(n=null),ku({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ol(e):e,{state:n,key:e&&e.key||r||sL()})}function np(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ol(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function oL(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ss.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(ku({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=ss.Pop;let b=d(),_=b==null?null:b-u;u=b,l&&l({action:a,location:E.location,delta:_})}function h(b,_){a=ss.Push;let v=$y(E.location,b,_);u=d()+1;let x=Nb(v,u),P=E.createHref(v);try{o.pushState(x,"",P)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(P)}s&&l&&l({action:a,location:E.location,delta:1})}function m(b,_){a=ss.Replace;let v=$y(E.location,b,_);u=d();let x=Nb(v,u),P=E.createHref(v);o.replaceState(x,"",P),s&&l&&l({action:a,location:E.location,delta:0})}function y(b){let _=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:np(b);return v=v.replace(/ $/,"%20"),Et(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let E={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ob,f),l=b,()=>{i.removeEventListener(Ob,f),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let _=y(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:m,go(b){return o.go(b)}};return E}var Db;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Db||(Db={}));function aL(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ol(e):e,i=Dw(r.pathname||"/",n);if(i==null)return null;let s=iR(t);lL(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let l=wL(i);o=vL(s[a],l)}return o}function iR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Et(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=gs([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Et(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iR(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:mL(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of sR(s.path))i(s,o,l)}),e}function sR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=sR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function lL(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gL(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const cL=/^:[\w-]+$/,uL=3,dL=2,fL=1,hL=10,pL=-2,$b=t=>t==="*";function mL(t,e){let n=t.split("/"),r=n.length;return n.some($b)&&(r+=pL),e&&(r+=dL),n.filter(i=>!$b(i)).reduce((i,s)=>i+(cL.test(s)?uL:s===""?fL:hL),r)}function gL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function vL(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=yL({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let f=a.route;s.push({params:r,pathname:gs([i,d.pathname]),pathnameBase:xL(gs([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=gs([i,d.pathnameBase]))}return s}function yL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_L(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let E=a[f]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const y=a[f];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function _L(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wL(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Dw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EL(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ol(t):t;return{pathname:n?n.startsWith("/")?n:bL(n,e):e,search:TL(r),hash:IL(i)}}function bL(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ov(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SL(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $w(t,e){let n=SL(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ol(t):(i=ku({},t),Et(!i.pathname||!i.pathname.includes("?"),ov("?","pathname","search",i)),Et(!i.pathname||!i.pathname.includes("#"),ov("#","pathname","hash",i)),Et(!i.search||!i.search.includes("#"),ov("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=EL(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),xL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TL=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const oR=["post","put","patch","delete"];new Set(oR);const RL=["get",...oR];new Set(RL);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}const Mw=g.createContext(null),PL=g.createContext(null),Hs=g.createContext(null),Dm=g.createContext(null),ni=g.createContext({outlet:null,matches:[],isDataRoute:!1}),aR=g.createContext(null);function AL(t,e){let{relative:n}=e===void 0?{}:e;Nl()||Et(!1);let{basename:r,navigator:i}=g.useContext(Hs),{hash:s,pathname:o,search:a}=uR(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:gs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Nl(){return g.useContext(Dm)!=null}function Ed(){return Nl()||Et(!1),g.useContext(Dm).location}function lR(t){g.useContext(Hs).static||g.useLayoutEffect(t)}function Dl(){let{isDataRoute:t}=g.useContext(ni);return t?HL():kL()}function kL(){Nl()||Et(!1);let t=g.useContext(Mw),{basename:e,future:n,navigator:r}=g.useContext(Hs),{matches:i}=g.useContext(ni),{pathname:s}=Ed(),o=JSON.stringify($w(i,n.v7_relativeSplatPath)),a=g.useRef(!1);return lR(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Lw(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:gs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const OL=g.createContext(null);function NL(t){let e=g.useContext(ni).outlet;return e&&g.createElement(OL.Provider,{value:t},e)}function cR(){let{matches:t}=g.useContext(ni),e=t[t.length-1];return e?e.params:{}}function uR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Hs),{matches:i}=g.useContext(ni),{pathname:s}=Ed(),o=JSON.stringify($w(i,r.v7_relativeSplatPath));return g.useMemo(()=>Lw(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function DL(t,e){return $L(t,e)}function $L(t,e,n,r){Nl()||Et(!1);let{navigator:i}=g.useContext(Hs),{matches:s}=g.useContext(ni),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ed(),d;if(e){var f;let b=typeof e=="string"?Ol(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Et(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=aL(t,{pathname:m}),E=jL(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:gs([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:gs([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&E?g.createElement(Dm.Provider,{value:{location:Ou({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ss.Pop}},E):E}function LL(){let t=WL(),e=CL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:i},n):null,null)}const ML=g.createElement(LL,null);class VL extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(ni.Provider,{value:this.props.routeContext},g.createElement(aR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FL(t){let{routeContext:e,match:n,children:r}=t,i=g.useContext(Mw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(ni.Provider,{value:e},r)}function jL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Et(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,y=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,y=!1,E=null,b=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,E=f.route.errorElement||ML,l&&(u<0&&h===0?(y=!0,b=null):u===h&&(y=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),v=()=>{let x;return m?x=E:y?x=b:f.route.Component?x=g.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,g.createElement(FL,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(VL,{location:n.location,revalidation:n.revalidation,component:E,error:m,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var dR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(dR||{}),rp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rp||{});function UL(t){let e=g.useContext(Mw);return e||Et(!1),e}function zL(t){let e=g.useContext(PL);return e||Et(!1),e}function BL(t){let e=g.useContext(ni);return e||Et(!1),e}function fR(t){let e=BL(),n=e.matches[e.matches.length-1];return n.route.id||Et(!1),n.route.id}function WL(){var t;let e=g.useContext(aR),n=zL(rp.UseRouteError),r=fR(rp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function HL(){let{router:t}=UL(dR.UseNavigateStable),e=fR(rp.UseNavigateStable),n=g.useRef(!1);return lR(()=>{n.current=!0}),g.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ou({fromRouteId:e},s)))},[t,e])}function hR(t){let{to:e,replace:n,state:r,relative:i}=t;Nl()||Et(!1);let{future:s,static:o}=g.useContext(Hs),{matches:a}=g.useContext(ni),{pathname:l}=Ed(),u=Dl(),d=Lw(e,$w(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return g.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function qL(t){return NL(t.context)}function Hi(t){Et(!1)}function KL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ss.Pop,navigator:s,static:o=!1,future:a}=t;Nl()&&Et(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:s,static:o,future:Ou({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ol(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:y="default"}=r,E=g.useMemo(()=>{let b=Dw(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:y},navigationType:i}},[l,d,f,h,m,y,i]);return E==null?null:g.createElement(Hs.Provider,{value:u},g.createElement(Dm.Provider,{children:n,value:E}))}function GL(t){let{children:e,location:n}=t;return DL(Ly(e),n)}new Promise(()=>{});function Ly(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,i)=>{if(!g.isValidElement(r))return;let s=[...e,i];if(r.type===g.Fragment){n.push.apply(n,Ly(r.props.children,s));return}r.type!==Hi&&Et(!1),!r.props.index||!r.props.children||Et(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ly(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(this,arguments)}function QL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function XL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YL(t,e){return t.button===0&&(!e||e==="_self")&&!XL(t)}const JL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ZL="6";try{window.__reactRouterVersion=ZL}catch{}const eM="startTransition",Lb=ym[eM];function tM(t){let{basename:e,children:n,future:r,window:i}=t,s=g.useRef();s.current==null&&(s.current=iL({window:i,v5Compat:!0}));let o=s.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=g.useCallback(f=>{u&&Lb?Lb(()=>l(f)):l(f)},[l,u]);return g.useLayoutEffect(()=>o.listen(d),[o,d]),g.createElement(KL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const nM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pR=g.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,h=QL(e,JL),{basename:m}=g.useContext(Hs),y,E=!1;if(typeof u=="string"&&rM.test(u)&&(y=u,nM))try{let x=new URL(window.location.href),P=u.startsWith("//")?new URL(x.protocol+u):new URL(u),O=Dw(P.pathname,m);P.origin===x.origin&&O!=null?u=O+P.search+P.hash:E=!0}catch{}let b=AL(u,{relative:i}),_=iM(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function v(x){r&&r(x),x.defaultPrevented||_(x)}return g.createElement("a",My({},h,{href:y||b,onClick:E||s?r:v,ref:n,target:l}))});var Mb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Mb||(Mb={}));var Vb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Vb||(Vb={}));function iM(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Dl(),u=Ed(),d=uR(t,{relative:o});return g.useCallback(f=>{if(YL(f,n)){f.preventDefault();let h=r!==void 0?r:np(u)===np(d);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}var Fb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new oM;const h=s<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aM=function(t){const e=mR(t);return gR.encodeByteArray(e,!0)},ip=function(t){return aM(t).replace(/\./g,"")},vR=function(t){try{return gR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=()=>lM().__FIREBASE_DEFAULTS__,uM=()=>{if(typeof process>"u"||typeof Fb>"u")return;const t=Fb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vR(t[1]);return e&&JSON.parse(e)},$m=()=>{try{return cM()||uM()||dM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yR=t=>{var e,n;return(n=(e=$m())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fM=t=>{const e=yR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_R=()=>{var t;return(t=$m())===null||t===void 0?void 0:t.config},wR=t=>{var e;return(e=$m())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ip(JSON.stringify(n)),ip(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function gM(){var t;const e=(t=$m())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _M(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wM(){return!gM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EM(){try{return typeof indexedDB=="object"}catch{return!1}}function bM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="FirebaseError";class Ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SM,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bd.prototype.create)}}class bd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?xM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ni(i,a,r)}}function xM(t,e){return t.replace(TM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TM=/\{\$([^}]+)}/g;function IM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(jb(s)&&jb(o)){if(!sp(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function jb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function CM(t,e){const n=new RM(t,e);return n.subscribe.bind(n)}class RM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=av),i.error===void 0&&(i.error=av),i.complete===void 0&&(i.complete=av);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function av(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class Co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OM(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kM(t){return t===io?void 0:t}function OM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const DM={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},$M=Ve.INFO,LM={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},MM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=LM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Vw=class{constructor(e){this.name=e,this._logLevel=$M,this._logHandler=MM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}};const VM=(t,e)=>e.some(n=>t instanceof n);let Ub,zb;function FM(){return Ub||(Ub=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jM(){return zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ER=new WeakMap,Vy=new WeakMap,bR=new WeakMap,lv=new WeakMap,Fw=new WeakMap;function UM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ER.set(n,t)}).catch(()=>{}),Fw.set(e,t),e}function zM(t){if(Vy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vy.set(t,e)}let Fy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BM(t){Fy=t(Fy)}function WM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cv(this),e,...n);return bR.set(r,e.sort?e.sort():[e]),vs(r)}:jM().includes(t)?function(...e){return t.apply(cv(this),e),vs(ER.get(this))}:function(...e){return vs(t.apply(cv(this),e))}}function HM(t){return typeof t=="function"?WM(t):(t instanceof IDBTransaction&&zM(t),VM(t,FM())?new Proxy(t,Fy):t)}function vs(t){if(t instanceof IDBRequest)return UM(t);if(lv.has(t))return lv.get(t);const e=HM(t);return e!==t&&(lv.set(t,e),Fw.set(e,t)),e}const cv=t=>Fw.get(t);function qM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vs(o.result),l.oldVersion,l.newVersion,vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const KM=["get","getKey","getAll","getAllKeys","count"],GM=["put","add","delete","clear"],uv=new Map;function Bb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uv.get(e))return uv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return uv.set(e,s),s}BM(t=>({...t,get:(e,n,r)=>Bb(e,n)||t.get(e,n,r),has:(e,n)=>!!Bb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jy="@firebase/app",Wb="0.10.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Vw("@firebase/app"),YM="@firebase/app-compat",JM="@firebase/analytics-compat",ZM="@firebase/analytics",eV="@firebase/app-check-compat",tV="@firebase/app-check",nV="@firebase/auth",rV="@firebase/auth-compat",iV="@firebase/database",sV="@firebase/database-compat",oV="@firebase/functions",aV="@firebase/functions-compat",lV="@firebase/installations",cV="@firebase/installations-compat",uV="@firebase/messaging",dV="@firebase/messaging-compat",fV="@firebase/performance",hV="@firebase/performance-compat",pV="@firebase/remote-config",mV="@firebase/remote-config-compat",gV="@firebase/storage",vV="@firebase/storage-compat",yV="@firebase/firestore",_V="@firebase/vertexai-preview",wV="@firebase/firestore-compat",EV="firebase",bV="10.12.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="[DEFAULT]",SV={[jy]:"fire-core",[YM]:"fire-core-compat",[ZM]:"fire-analytics",[JM]:"fire-analytics-compat",[tV]:"fire-app-check",[eV]:"fire-app-check-compat",[nV]:"fire-auth",[rV]:"fire-auth-compat",[iV]:"fire-rtdb",[sV]:"fire-rtdb-compat",[oV]:"fire-fn",[aV]:"fire-fn-compat",[lV]:"fire-iid",[cV]:"fire-iid-compat",[uV]:"fire-fcm",[dV]:"fire-fcm-compat",[fV]:"fire-perf",[hV]:"fire-perf-compat",[pV]:"fire-rc",[mV]:"fire-rc-compat",[gV]:"fire-gcs",[vV]:"fire-gcs-compat",[yV]:"fire-fst",[wV]:"fire-fst-compat",[_V]:"fire-vertex","fire-js":"fire-js",[EV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new Map,xV=new Map,zy=new Map;function Hb(t,e){try{t.container.addComponent(e)}catch(n){Ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(zy.has(e))return Ro.debug(`There were multiple attempts to register component ${e}.`),!1;zy.set(e,t);for(const n of op.values())Hb(n,t);for(const n of xV.values())Hb(n,t);return!0}function jw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new bd("app","Firebase",TV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=bV;function SR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Uy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ys.create("bad-app-name",{appName:String(i)});if(n||(n=_R()),!n)throw ys.create("no-options");const s=op.get(i);if(s){if(sp(n,s.options)&&sp(r,s.config))return s;throw ys.create("duplicate-app",{appName:i})}const o=new NM(i);for(const l of zy.values())o.addComponent(l);const a=new IV(n,r,o);return op.set(i,a),a}function xR(t=Uy){const e=op.get(t);if(!e&&t===Uy&&_R())return SR();if(!e)throw ys.create("no-app",{appName:t});return e}function _s(t,e,n){var r;let i=(r=SV[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ro.warn(a.join(" "));return}pl(new Co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="firebase-heartbeat-database",RV=1,Nu="firebase-heartbeat-store";let dv=null;function TR(){return dv||(dv=qM(CV,RV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),dv}async function PV(t){try{const n=(await TR()).transaction(Nu),r=await n.objectStore(Nu).get(IR(t));return await n.done,r}catch(e){if(e instanceof Ni)Ro.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ro.warn(n.message)}}}async function qb(t,e){try{const r=(await TR()).transaction(Nu,"readwrite");await r.objectStore(Nu).put(e,IR(t)),await r.done}catch(n){if(n instanceof Ni)Ro.warn(n.message);else{const r=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ro.warn(r.message)}}}function IR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=1024,kV=30*24*60*60*1e3;class OV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Kb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=kV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kb(),{heartbeatsToSend:r,unsentEntries:i}=NV(this._heartbeatsCache.heartbeats),s=ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Kb(){return new Date().toISOString().substring(0,10)}function NV(t,e=AV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Gb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EM()?bM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await PV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Gb(t){return ip(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){pl(new Co("platform-logger",e=>new QM(e),"PRIVATE")),pl(new Co("heartbeat",e=>new OV(e),"PRIVATE")),_s(jy,Wb,t),_s(jy,Wb,"esm2017"),_s("fire-js","")}$V("");var Vr=function(){return Vr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vr.apply(this,arguments)};function xd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function LV(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function CR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MV=CR,RR=new bd("auth","Firebase",CR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Vw("@firebase/auth");function VV(t,...e){ap.logLevel<=Ve.WARN&&ap.warn(`Auth (${$l}): ${t}`,...e)}function ih(t,...e){ap.logLevel<=Ve.ERROR&&ap.error(`Auth (${$l}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw Uw(t,...e)}function Hr(t,...e){return Uw(t,...e)}function PR(t,e,n){const r=Object.assign(Object.assign({},MV()),{[e]:n});return new bd("auth","Firebase",r).create(e,{appName:t.name})}function Ei(t){return PR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return RR.create(t,...e)}function be(t,e,...n){if(!t)throw Uw(e,...n)}function vi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function Ii(t,e){t||vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FV(){return Qb()==="http:"||Qb()==="https:"}function Qb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FV()||vM()||"connection"in navigator)?navigator.onLine:!0}function UV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=mM()||yM()}get(){return jV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new Td(3e4,6e4);function qs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Di(t,e,n,r,i={}){return kR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Sd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),AR.fetch()(OR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function kR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zV),e);try{const i=new HV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Tf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Tf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Tf(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw PR(t,d,u);Tr(t,d)}}catch(i){if(i instanceof Ni)throw i;Tr(t,"network-request-failed",{message:String(i)})}}async function Id(t,e,n,r,i={}){const s=await Di(t,e,n,r,i);return"mfaPendingCredential"in s&&Tr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?zw(t.config,i):`${t.config.apiScheme}://${i}`}function WV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),BV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function Xb(t){return t!==void 0&&t.enterprise!==void 0}class qV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function KV(t,e){return Di(t,"GET","/v2/recaptchaConfig",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e){return Di(t,"POST","/v1/accounts:delete",e)}async function NR(t,e){return Di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QV(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=Bw(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ru(fv(i.auth_time)),issuedAtTime:ru(fv(i.iat)),expirationTime:ru(fv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function fv(t){return Number(t)*1e3}function Bw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const i=vR(n);return i?JSON.parse(i):(ih("Failed to decode base64 JWT payload"),null)}catch(i){return ih("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Yb(t){const e=Bw(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ni&&XV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ml(t,NR(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?DR(s.providerUserInfo):[],a=ZV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wy(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function JV(t){const e=_t(t);await lp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DR(t){return t.map(e=>{var{providerId:n}=e,r=xd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(t,e){const n=await kR(t,{},async()=>{const r=Sd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t3(t,e){return Di(t,"POST","/v2/accounts:revokeToken",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=Yb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await e3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Wa;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(be(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=xd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ml(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QV(this,e)}reload(){return JV(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await ml(this,GV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:P,isAnonymous:O,providerData:$,stsTokenManager:T}=n;be(x&&T,e,"internal-error");const S=Wa.fromJSON(this.name,T);be(typeof x=="string",e,"internal-error"),Ui(f,e.name),Ui(h,e.name),be(typeof P=="boolean",e,"internal-error"),be(typeof O=="boolean",e,"internal-error"),Ui(m,e.name),Ui(y,e.name),Ui(E,e.name),Ui(b,e.name),Ui(_,e.name),Ui(v,e.name);const I=new yi({uid:x,auth:e,email:h,emailVerified:P,displayName:f,isAnonymous:O,photoURL:y,phoneNumber:m,tenantId:E,stsTokenManager:S,createdAt:_,lastLoginAt:v});return $&&Array.isArray($)&&(I.providerData=$.map(R=>Object.assign({},R))),b&&(I._redirectEventId=b),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Wa;i.updateFromServerResponse(n);const s=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await lp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?DR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Wa;a.updateFromIdToken(r);const l=new yi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Map;function _i(t){Ii(t instanceof Function,"Expected a class definition");let e=Jb.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$R.type="NONE";const Zb=$R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sh(this.userKey,i.apiKey,s),this.fullPersistenceKey=sh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ha(_i(Zb),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||_i(Zb);const o=sh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=yi._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ha(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ha(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jR(e))return"Blackberry";if(UR(e))return"Webos";if(Ww(e))return"Safari";if((e.includes("chrome/")||MR(e))&&!e.includes("edge/"))return"Chrome";if(FR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LR(t=Ht()){return/firefox\//i.test(t)}function Ww(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MR(t=Ht()){return/crios\//i.test(t)}function VR(t=Ht()){return/iemobile/i.test(t)}function FR(t=Ht()){return/android/i.test(t)}function jR(t=Ht()){return/blackberry/i.test(t)}function UR(t=Ht()){return/webos/i.test(t)}function Lm(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n3(t=Ht()){var e;return Lm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r3(){return _M()&&document.documentMode===10}function zR(t=Ht()){return Lm(t)||FR(t)||UR(t)||jR(t)||/windows phone/i.test(t)||VR(t)}function i3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e=[]){let n;switch(t){case"Browser":n=eS(Ht());break;case"Worker":n=`${eS(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(t,e={}){return Di(t,"GET","/v2/passwordPolicy",qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=6;class l3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:a3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tS(this),this.idTokenSubscription=new tS(this),this.beforeStateQueue=new s3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_i(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ha.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await NR(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(Ei(this));const n=e?_t(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o3(this),n=new l3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await t3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_i(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[_i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ho(t){return _t(t)}class tS{constructor(e){this.auth=e,this.observer=null,this.addObserver=CM(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u3(t){Mm=t}function WR(t){return Mm.loadJS(t)}function d3(){return Mm.recaptchaEnterpriseScript}function f3(){return Mm.gapiScript}function h3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const p3="recaptcha-enterprise",m3="NO_RECAPTCHA";class g3{constructor(e){this.type=p3,this.auth=Ho(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{KV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new qV(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Xb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(m3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Xb(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=d3();l.length!==0&&(l+=a),WR(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function nS(t,e,n,r=!1){const i=new g3(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Hy(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t,e){const n=jw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(sp(s,e??{}))return i;Tr(i,"already-initialized")}return n.initialize({options:e})}function y3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _3(t,e,n){const r=Ho(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=HR(e),{host:o,port:a}=w3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),E3()}function HR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w3(t){const e=HR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:rS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:rS(o)}}}function rS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function E3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vi("not implemented")}_getIdTokenResponse(e){return vi("not implemented")}_linkToIdToken(e,n){return vi("not implemented")}_getReauthenticationResolver(e){return vi("not implemented")}}async function b3(t,e){return Di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3(t,e){return Id(t,"POST","/v1/accounts:signInWithPassword",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}async function T3(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends Hw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Du(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Du(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hy(e,n,"signInWithPassword",S3);case"emailLink":return x3(e,{email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hy(e,r,"signUpPassword",b3);case"emailLink":return T3(e,{idToken:n,email:this._email,oobCode:this._password});default:Tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t,e){return Id(t,"POST","/v1/accounts:signInWithIdp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="http://localhost";class Po extends Hw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Po(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=xd(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Po(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return qa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qa(e,n)}buildRequest(){const e={requestUri:I3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R3(t){const e=Rc(Pc(t)).link,n=e?Rc(Pc(e)).deep_link_id:null,r=Rc(Pc(t)).deep_link_id;return(r?Rc(Pc(r)).link:null)||r||n||e||t}class qw{constructor(e){var n,r,i,s,o,a;const l=Rc(Pc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=C3((i=l.mode)!==null&&i!==void 0?i:null);be(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=R3(e);try{return new qw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,n){return Du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=qw.parseLink(n);return be(r,"argument-error"),Du._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends qR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Cd{constructor(){super("facebook.com")}static credential(e){return Po._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Po._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Cd{constructor(){super("github.com")}static credential(e){return Po._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Cd{constructor(){super("twitter.com")}static credential(e,n){return Po._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return es.credential(n,r)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(t,e){return Id(t,"POST","/v1/accounts:signUp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await yi._fromIdTokenResponse(e,r,i),o=iS(r);return new Ao({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iS(r);return new Ao({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends Ni{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new cp(e,n,r,i)}}function KR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?cp._fromErrorAndOperation(t,s,e,r):s})}async function A3(t,e,n=!1){const r=await ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ao._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(t,e,n=!1){const{auth:r}=t;if(Fr(r.app))return Promise.reject(Ei(r));const i="reauthenticate";try{const s=await ml(t,KR(r,i,e,t),n);be(s.idToken,r,"internal-error");const o=Bw(s.idToken);be(o,r,"internal-error");const{sub:a}=o;return be(t.uid===a,r,"user-mismatch"),Ao._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e,n=!1){if(Fr(t.app))return Promise.reject(Ei(t));const r="signIn",i=await KR(t,r,e),s=await Ao._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function O3(t,e){return GR(Ho(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t){const e=Ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N3(t,e,n){if(Fr(t.app))return Promise.reject(Ei(t));const r=Ho(t),o=await Hy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",P3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&QR(t),l}),a=await Ao._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function D3(t,e,n){return Fr(t.app)?Promise.reject(Ei(t)):O3(_t(t),Ll.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QR(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e){return Di(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_t(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ml(r,$3(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function M3(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function V3(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function F3(t){return _t(t).signOut()}const up="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(up,"1"),this.storage.removeItem(up),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(){const t=Ht();return Ww(t)||Lm(t)}const U3=1e3,z3=10;class YR extends XR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=j3()&&i3(),this.fallbackToPolling=zR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);r3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,z3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},U3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YR.type="LOCAL";const B3=YR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR extends XR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JR.type="SESSION";const ZR=JR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Vm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await W3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Kw("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function q3(t){qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function K3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Q3(){return eP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="firebaseLocalStorageDb",X3=1,dp="firebaseLocalStorage",nP="fbase_key";class Rd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fm(t,e){return t.transaction([dp],e?"readwrite":"readonly").objectStore(dp)}function Y3(){const t=indexedDB.deleteDatabase(tP);return new Rd(t).toPromise()}function qy(){const t=indexedDB.open(tP,X3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dp,{keyPath:nP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dp)?e(r):(r.close(),await Y3(),e(await qy()))})})}async function sS(t,e,n){const r=Fm(t,!0).put({[nP]:e,value:n});return new Rd(r).toPromise()}async function J3(t,e){const n=Fm(t,!1).get(e),r=await new Rd(n).toPromise();return r===void 0?null:r.value}function oS(t,e){const n=Fm(t,!0).delete(e);return new Rd(n).toPromise()}const Z3=800,eF=3;class rP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vm._getInstance(Q3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await K3(),!this.activeServiceWorker)return;this.sender=new H3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qy();return await sS(e,up,"1"),await oS(e,up),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fm(i,!1).getAll();return new Rd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rP.type="LOCAL";const tF=rP;new Td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(t,e){return e?_i(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends Hw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rF(t){return GR(t.auth,new Gw(t),t.bypassAuthState)}function iF(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),k3(n,new Gw(t),t.bypassAuthState)}async function sF(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),A3(n,new Gw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rF;case"linkViaPopup":case"linkViaRedirect":return sF;case"reauthViaPopup":case"reauthViaRedirect":return iF;default:Tr(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oF=new Td(2e3,1e4);class Oa extends iP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=Kw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oF.get())};e()}}Oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF="pendingRedirect",oh=new Map;class lF extends iP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await cF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cF(t,e){const n=fF(e),r=dF(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uF(t,e){oh.set(t._key(),e)}function dF(t){return _i(t._redirectPersistence)}function fF(t){return sh(aF,t.config.apiKey,t.name)}async function hF(t,e,n=!1){if(Fr(t.app))return Promise.reject(Ei(t));const r=Ho(t),i=nF(r,e),o=await new lF(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=10*60*1e3;class mF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pF&&this.cachedEventUids.clear(),this.cachedEventUids.has(aS(e))}saveEventToCache(e){this.cachedEventUids.add(aS(e)),this.lastProcessedEventTime=Date.now()}}function aS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e={}){return Di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_F=/^https?/;async function wF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vF(t);for(const n of e)try{if(EF(n))return}catch{}Tr(t,"unauthorized-domain")}function EF(t){const e=By(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_F.test(n))return!1;if(yF.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new Td(3e4,6e4);function lS(){const t=qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SF(t){return new Promise((e,n)=>{var r,i,s;function o(){lS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lS(),n(Hr(t,"network-request-failed"))},timeout:bF.get()})}if(!((i=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=qr().gapi)===null||s===void 0)&&s.load)o();else{const a=h3("iframefcb");return qr()[a]=()=>{gapi.load?o():n(Hr(t,"network-request-failed"))},WR(`${f3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ah=null,e})}let ah=null;function xF(t){return ah=ah||SF(t),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=new Td(5e3,15e3),IF="__/auth/iframe",CF="emulator/auth/iframe",RF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AF(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?zw(e,CF):`https://${t.config.authDomain}/${IF}`,r={apiKey:e.apiKey,appName:t.name,v:$l},i=PF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Sd(r).slice(1)}`}async function kF(t){const e=await xF(t),n=qr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:AF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Hr(t,"network-request-failed"),a=qr().setTimeout(()=>{s(o)},TF.get());function l(){qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NF=500,DF=600,$F="_blank",LF="http://localhost";class cS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MF(t,e,n,r=NF,i=DF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},OF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ht().toLowerCase();n&&(a=MR(u)?$F:n),LR(u)&&(e=e||LF,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(n3(u)&&a!=="_self")return VF(e||"",a),new cS(null);const f=window.open(e||"",a,d);be(f,t,"popup-blocked");try{f.focus()}catch{}return new cS(f)}function VF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="__/auth/handler",jF="emulator/auth/handler",UF=encodeURIComponent("fac");async function uS(t,e,n,r,i,s){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$l,eventId:i};if(e instanceof qR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",IM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Cd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${UF}=${encodeURIComponent(l)}`:"";return`${zF(t)}?${Sd(a).slice(1)}${u}`}function zF({config:t}){return t.emulator?zw(t,jF):`https://${t.authDomain}/${FF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="webStorageSupport";class BF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZR,this._completeRedirectFn=hF,this._overrideRedirectResult=uF}async _openPopup(e,n,r,i){var s;Ii((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await uS(e,n,r,By(),i);return MF(e,o,Kw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await uS(e,n,r,By(),i);return q3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ii(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kF(e),r=new mF(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hv,{type:hv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[hv];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zR()||Ww()||Lm()}}const WF=BF;var dS="@firebase/auth",fS="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KF(t){pl(new Co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BR(t)},u=new c3(r,i,s,l);return y3(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pl(new Co("auth-internal",e=>{const n=Ho(e.getProvider("auth").getImmediate());return(r=>new HF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(dS,fS,qF(t)),_s(dS,fS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=5*60,QF=wR("authIdTokenMaxAge")||GF;let hS=null;const XF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QF)return;const i=n==null?void 0:n.token;hS!==i&&(hS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function YF(t=xR()){const e=jw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v3(t,{popupRedirectResolver:WF,persistence:[tF,B3,ZR]}),r=wR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=XF(s.toString());V3(n,o,()=>o(n.currentUser)),M3(n,a=>o(a))}}const i=yR("auth");return i&&_3(n,`http://${i}`),n}function JF(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}u3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",JF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KF("Browser");var ZF="firebase",e4="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(ZF,e4,"app");var pS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,oP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function I(){}I.prototype=S.prototype,T.D=S.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(R,D,k){for(var A=Array(arguments.length-2),G=2;G<arguments.length;G++)A[G-2]=arguments[G];return S.prototype[D].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,S,I){I||(I=0);var R=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)R[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;16>D;++D)R[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=T.g[0],I=T.g[1],D=T.g[2];var k=T.g[3],A=S+(k^I&(D^k))+R[0]+3614090360&4294967295;S=I+(A<<7&4294967295|A>>>25),A=k+(D^S&(I^D))+R[1]+3905402710&4294967295,k=S+(A<<12&4294967295|A>>>20),A=D+(I^k&(S^I))+R[2]+606105819&4294967295,D=k+(A<<17&4294967295|A>>>15),A=I+(S^D&(k^S))+R[3]+3250441966&4294967295,I=D+(A<<22&4294967295|A>>>10),A=S+(k^I&(D^k))+R[4]+4118548399&4294967295,S=I+(A<<7&4294967295|A>>>25),A=k+(D^S&(I^D))+R[5]+1200080426&4294967295,k=S+(A<<12&4294967295|A>>>20),A=D+(I^k&(S^I))+R[6]+2821735955&4294967295,D=k+(A<<17&4294967295|A>>>15),A=I+(S^D&(k^S))+R[7]+4249261313&4294967295,I=D+(A<<22&4294967295|A>>>10),A=S+(k^I&(D^k))+R[8]+1770035416&4294967295,S=I+(A<<7&4294967295|A>>>25),A=k+(D^S&(I^D))+R[9]+2336552879&4294967295,k=S+(A<<12&4294967295|A>>>20),A=D+(I^k&(S^I))+R[10]+4294925233&4294967295,D=k+(A<<17&4294967295|A>>>15),A=I+(S^D&(k^S))+R[11]+2304563134&4294967295,I=D+(A<<22&4294967295|A>>>10),A=S+(k^I&(D^k))+R[12]+1804603682&4294967295,S=I+(A<<7&4294967295|A>>>25),A=k+(D^S&(I^D))+R[13]+4254626195&4294967295,k=S+(A<<12&4294967295|A>>>20),A=D+(I^k&(S^I))+R[14]+2792965006&4294967295,D=k+(A<<17&4294967295|A>>>15),A=I+(S^D&(k^S))+R[15]+1236535329&4294967295,I=D+(A<<22&4294967295|A>>>10),A=S+(D^k&(I^D))+R[1]+4129170786&4294967295,S=I+(A<<5&4294967295|A>>>27),A=k+(I^D&(S^I))+R[6]+3225465664&4294967295,k=S+(A<<9&4294967295|A>>>23),A=D+(S^I&(k^S))+R[11]+643717713&4294967295,D=k+(A<<14&4294967295|A>>>18),A=I+(k^S&(D^k))+R[0]+3921069994&4294967295,I=D+(A<<20&4294967295|A>>>12),A=S+(D^k&(I^D))+R[5]+3593408605&4294967295,S=I+(A<<5&4294967295|A>>>27),A=k+(I^D&(S^I))+R[10]+38016083&4294967295,k=S+(A<<9&4294967295|A>>>23),A=D+(S^I&(k^S))+R[15]+3634488961&4294967295,D=k+(A<<14&4294967295|A>>>18),A=I+(k^S&(D^k))+R[4]+3889429448&4294967295,I=D+(A<<20&4294967295|A>>>12),A=S+(D^k&(I^D))+R[9]+568446438&4294967295,S=I+(A<<5&4294967295|A>>>27),A=k+(I^D&(S^I))+R[14]+3275163606&4294967295,k=S+(A<<9&4294967295|A>>>23),A=D+(S^I&(k^S))+R[3]+4107603335&4294967295,D=k+(A<<14&4294967295|A>>>18),A=I+(k^S&(D^k))+R[8]+1163531501&4294967295,I=D+(A<<20&4294967295|A>>>12),A=S+(D^k&(I^D))+R[13]+2850285829&4294967295,S=I+(A<<5&4294967295|A>>>27),A=k+(I^D&(S^I))+R[2]+4243563512&4294967295,k=S+(A<<9&4294967295|A>>>23),A=D+(S^I&(k^S))+R[7]+1735328473&4294967295,D=k+(A<<14&4294967295|A>>>18),A=I+(k^S&(D^k))+R[12]+2368359562&4294967295,I=D+(A<<20&4294967295|A>>>12),A=S+(I^D^k)+R[5]+4294588738&4294967295,S=I+(A<<4&4294967295|A>>>28),A=k+(S^I^D)+R[8]+2272392833&4294967295,k=S+(A<<11&4294967295|A>>>21),A=D+(k^S^I)+R[11]+1839030562&4294967295,D=k+(A<<16&4294967295|A>>>16),A=I+(D^k^S)+R[14]+4259657740&4294967295,I=D+(A<<23&4294967295|A>>>9),A=S+(I^D^k)+R[1]+2763975236&4294967295,S=I+(A<<4&4294967295|A>>>28),A=k+(S^I^D)+R[4]+1272893353&4294967295,k=S+(A<<11&4294967295|A>>>21),A=D+(k^S^I)+R[7]+4139469664&4294967295,D=k+(A<<16&4294967295|A>>>16),A=I+(D^k^S)+R[10]+3200236656&4294967295,I=D+(A<<23&4294967295|A>>>9),A=S+(I^D^k)+R[13]+681279174&4294967295,S=I+(A<<4&4294967295|A>>>28),A=k+(S^I^D)+R[0]+3936430074&4294967295,k=S+(A<<11&4294967295|A>>>21),A=D+(k^S^I)+R[3]+3572445317&4294967295,D=k+(A<<16&4294967295|A>>>16),A=I+(D^k^S)+R[6]+76029189&4294967295,I=D+(A<<23&4294967295|A>>>9),A=S+(I^D^k)+R[9]+3654602809&4294967295,S=I+(A<<4&4294967295|A>>>28),A=k+(S^I^D)+R[12]+3873151461&4294967295,k=S+(A<<11&4294967295|A>>>21),A=D+(k^S^I)+R[15]+530742520&4294967295,D=k+(A<<16&4294967295|A>>>16),A=I+(D^k^S)+R[2]+3299628645&4294967295,I=D+(A<<23&4294967295|A>>>9),A=S+(D^(I|~k))+R[0]+4096336452&4294967295,S=I+(A<<6&4294967295|A>>>26),A=k+(I^(S|~D))+R[7]+1126891415&4294967295,k=S+(A<<10&4294967295|A>>>22),A=D+(S^(k|~I))+R[14]+2878612391&4294967295,D=k+(A<<15&4294967295|A>>>17),A=I+(k^(D|~S))+R[5]+4237533241&4294967295,I=D+(A<<21&4294967295|A>>>11),A=S+(D^(I|~k))+R[12]+1700485571&4294967295,S=I+(A<<6&4294967295|A>>>26),A=k+(I^(S|~D))+R[3]+2399980690&4294967295,k=S+(A<<10&4294967295|A>>>22),A=D+(S^(k|~I))+R[10]+4293915773&4294967295,D=k+(A<<15&4294967295|A>>>17),A=I+(k^(D|~S))+R[1]+2240044497&4294967295,I=D+(A<<21&4294967295|A>>>11),A=S+(D^(I|~k))+R[8]+1873313359&4294967295,S=I+(A<<6&4294967295|A>>>26),A=k+(I^(S|~D))+R[15]+4264355552&4294967295,k=S+(A<<10&4294967295|A>>>22),A=D+(S^(k|~I))+R[6]+2734768916&4294967295,D=k+(A<<15&4294967295|A>>>17),A=I+(k^(D|~S))+R[13]+1309151649&4294967295,I=D+(A<<21&4294967295|A>>>11),A=S+(D^(I|~k))+R[4]+4149444226&4294967295,S=I+(A<<6&4294967295|A>>>26),A=k+(I^(S|~D))+R[11]+3174756917&4294967295,k=S+(A<<10&4294967295|A>>>22),A=D+(S^(k|~I))+R[2]+718787259&4294967295,D=k+(A<<15&4294967295|A>>>17),A=I+(k^(D|~S))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var I=S-this.blockSize,R=this.B,D=this.h,k=0;k<S;){if(D==0)for(;k<=I;)i(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<S;)if(R[D++]=T.charCodeAt(k++),D==this.blockSize){i(this,R),D=0;break}}else for(;k<S;)if(R[D++]=T[k++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var I=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=I&255,I/=256;for(this.u(T),T=Array(16),S=I=0;4>S;++S)for(var R=0;32>R;R+=8)T[I++]=this.g[S]>>>R&255;return T};function s(T,S){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=S(T)}function o(T,S){this.h=S;for(var I=[],R=!0,D=T.length-1;0<=D;D--){var k=T[D]|0;R&&k==S||(I[D]=k,R=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?s(T,function(S){return new o([S|0],0>S?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return b(u(-T));for(var S=[],I=1,R=0;T>=I;R++)S[R]=T/I|0,I*=4294967296;return new o(S,0)}function d(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return b(d(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),R=f,D=0;D<T.length;D+=8){var k=Math.min(8,T.length-D),A=parseInt(T.substring(D,D+k),S);8>k?(k=u(Math.pow(S,k)),R=R.j(k).add(u(A))):(R=R.j(I),R=R.add(u(A)))}return R}var f=l(0),h=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(E(this))return-b(this).m();for(var T=0,S=1,I=0;I<this.g.length;I++){var R=this.i(I);T+=(0<=R?R:4294967296+R)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(E(this))return"-"+b(this).toString(T);for(var S=u(Math.pow(T,6)),I=this,R="";;){var D=P(I,S).g;I=_(I,D.j(S));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=D,y(I))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function E(T){return T.h==-1}t.l=function(T){return T=_(this,T),E(T)?-1:y(T)?0:1};function b(T){for(var S=T.g.length,I=[],R=0;R<S;R++)I[R]=~T.g[R];return new o(I,~T.h).add(h)}t.abs=function(){return E(this)?b(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0,D=0;D<=S;D++){var k=R+(this.i(D)&65535)+(T.i(D)&65535),A=(k>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);R=A>>>16,k&=65535,A&=65535,I[D]=A<<16|k}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(T,S){return T.add(b(S))}t.j=function(T){if(y(this)||y(T))return f;if(E(this))return E(T)?b(this).j(b(T)):b(b(this).j(T));if(E(T))return b(this.j(b(T)));if(0>this.l(m)&&0>T.l(m))return u(this.m()*T.m());for(var S=this.g.length+T.g.length,I=[],R=0;R<2*S;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<T.g.length;D++){var k=this.i(R)>>>16,A=this.i(R)&65535,G=T.i(D)>>>16,Y=T.i(D)&65535;I[2*R+2*D]+=A*Y,v(I,2*R+2*D),I[2*R+2*D+1]+=k*Y,v(I,2*R+2*D+1),I[2*R+2*D+1]+=A*G,v(I,2*R+2*D+1),I[2*R+2*D+2]+=k*G,v(I,2*R+2*D+2)}for(R=0;R<S;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=S;R<2*S;R++)I[R]=0;return new o(I,0)};function v(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function x(T,S){this.g=T,this.h=S}function P(T,S){if(y(S))throw Error("division by zero");if(y(T))return new x(f,f);if(E(T))return S=P(b(T),S),new x(b(S.g),b(S.h));if(E(S))return S=P(T,b(S)),new x(b(S.g),S.h);if(30<T.g.length){if(E(T)||E(S))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=S;0>=R.l(T);)I=O(I),R=O(R);var D=$(I,1),k=$(R,1);for(R=$(R,2),I=$(I,2);!y(R);){var A=k.add(R);0>=A.l(T)&&(D=D.add(I),k=A),R=$(R,1),I=$(I,1)}return S=_(T,D.j(S)),new x(D,S)}for(D=f;0<=T.l(S);){for(I=Math.max(1,Math.floor(T.m()/S.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=u(I),A=k.j(S);E(A)||0<A.l(T);)I-=R,k=u(I),A=k.j(S);y(k)&&(k=h),D=D.add(k),T=_(T,A)}return new x(D,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)&T.i(R);return new o(I,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)|T.i(R);return new o(I,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),I=[],R=0;R<S;R++)I[R]=this.i(R)^T.i(R);return new o(I,this.h^T.h)};function O(T){for(var S=T.g.length+1,I=[],R=0;R<S;R++)I[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(I,T.h)}function $(T,S){var I=S>>5;S%=32;for(var R=T.g.length-I,D=[],k=0;k<R;k++)D[k]=0<S?T.i(k+I)>>>S|T.i(k+I+1)<<32-S:T.i(k+I);return new o(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,yo=o}).apply(typeof pS<"u"?pS:typeof self<"u"?self:typeof window<"u"?window:{});var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aP,lP,Ac,cP,lh,Ky,uP,dP,fP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,w){return c==Array.prototype||c==Object.prototype||(c[p]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof If=="object"&&If];for(var p=0;p<c.length;++p){var w=c[p];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var w=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var M=c[C];if(!(M in w))break e;w=w[M]}c=c[c.length-1],C=w[c],p=p(C),p!=C&&p!=null&&e(w,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var w=0,C=!1,M={next:function(){if(!C&&w<c.length){var F=w++;return{value:p(F,c[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function d(c,p,w){return c.call.apply(c.bind,arguments)}function f(c,p,w){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function h(c,p,w){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(c,p){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function y(c,p){function w(){}w.prototype=p.prototype,c.aa=p.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(C,M,F){for(var X=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)X[Ze-2]=arguments[Ze];return p.prototype[M].apply(C,X)}}function E(c){const p=c.length;if(0<p){const w=Array(p);for(let C=0;C<p;C++)w[C]=c[C];return w}return[]}function b(c,p){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(l(C)){const M=c.length||0,F=C.length||0;c.length=M+F;for(let X=0;X<F;X++)c[M+X]=C[X]}else c.push(C)}}class _{constructor(p,w){this.i=p,this.j=w,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var O=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function $(c,p,w){for(const C in c)p.call(w,c[C],C,c)}function T(c,p){for(const w in c)p.call(void 0,c[w],w,c)}function S(c){const p={};for(const w in c)p[w]=c[w];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(c,p){let w,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(w in C)c[w]=C[w];for(let F=0;F<I.length;F++)w=I[F],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function D(c){var p=1;c=c.split(":");const w=[];for(;0<p&&c.length;)w.push(c.shift()),p--;return c.length&&w.push(c.join(":")),w}function k(c){a.setTimeout(()=>{throw c},0)}function A(){var c=U;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class G{constructor(){this.h=this.g=null}add(p,w){const C=Y.get();C.set(p,w),this.h?this.h.next=C:this.g=C,this.h=C}}var Y=new _(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(p,w){this.h=p,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let le,W=!1,U=new G,Z=()=>{const c=a.Promise.resolve(void 0);le=()=>{c.then(ce)}};var ce=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(w){k(w)}var p=Y;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}W=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,p),a.removeEventListener("test",w,p)}catch{}return c}();function de(c,p){if(ne.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(O){e:{try{P(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else w=="mouseover"?p=c.fromElement:w=="mouseout"&&(p=c.toElement);this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&de.aa.h.call(this)}}y(de,ne);var re={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Ae(c,p,w,C,M){this.listener=c,this.proxy=null,this.src=p,this.type=w,this.capture=!!C,this.ha=M,this.key=++Ne,this.da=this.fa=!1}function Je(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ge(c){this.src=c,this.g={},this.h=0}Ge.prototype.add=function(c,p,w,C,M){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var X=ct(c,p,C,M);return-1<X?(p=c[X],w||(p.fa=!1)):(p=new Ae(p,this.src,F,!!C,M),p.fa=w,c.push(p)),p};function Fe(c,p){var w=p.type;if(w in c.g){var C=c.g[w],M=Array.prototype.indexOf.call(C,p,void 0),F;(F=0<=M)&&Array.prototype.splice.call(C,M,1),F&&(Je(p),c.g[w].length==0&&(delete c.g[w],c.h--))}}function ct(c,p,w,C){for(var M=0;M<c.length;++M){var F=c[M];if(!F.da&&F.listener==p&&F.capture==!!w&&F.ha==C)return M}return-1}var Gt="closure_lm_"+(1e6*Math.random()|0),bt={};function rr(c,p,w,C,M){if(Array.isArray(p)){for(var F=0;F<p.length;F++)rr(c,p[F],w,C,M);return null}return w=We(w),c&&c[me]?c.K(p,w,u(C)?!!C.capture:!!C,M):Hn(c,p,w,!1,C,M)}function Hn(c,p,w,C,M,F){if(!p)throw Error("Invalid event type");var X=u(M)?!!M.capture:!!M,Ze=Q(c);if(Ze||(c[Gt]=Ze=new Ge(c)),w=Ze.add(p,w,C,X,F),w.proxy)return w;if(C=L(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)ue||(M=X),M===void 0&&(M=!1),c.addEventListener(p.toString(),C,M);else if(c.attachEvent)c.attachEvent(te(p.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function L(){function c(w){return p.call(c.src,c.listener,w)}const p=ee;return c}function V(c,p,w,C,M){if(Array.isArray(p))for(var F=0;F<p.length;F++)V(c,p[F],w,C,M);else C=u(C)?!!C.capture:!!C,w=We(w),c&&c[me]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],w=ct(F,w,C,M),-1<w&&(Je(F[w]),Array.prototype.splice.call(F,w,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Q(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ct(p,w,C,M)),(w=-1<c?p[c]:null)&&j(w))}function j(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[me])Fe(p.i,c);else{var w=c.type,C=c.proxy;p.removeEventListener?p.removeEventListener(w,C,c.capture):p.detachEvent?p.detachEvent(te(w),C):p.addListener&&p.removeListener&&p.removeListener(C),(w=Q(p))?(Fe(w,c),w.h==0&&(w.src=null,p[Gt]=null)):Je(c)}}}function te(c){return c in bt?bt[c]:bt[c]="on"+c}function ee(c,p){if(c.da)c=!0;else{p=new de(p,this);var w=c.listener,C=c.ha||c.src;c.fa&&j(c),c=w.call(C,p)}return c}function Q(c){return c=c[Gt],c instanceof Ge?c:null}var ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(c){return typeof c=="function"?c:(c[ge]||(c[ge]=function(p){return c.handleEvent(p)}),c[ge])}function Me(){B.call(this),this.i=new Ge(this),this.M=this,this.F=null}y(Me,B),Me.prototype[me]=!0,Me.prototype.removeEventListener=function(c,p,w,C){V(this,c,p,w,C)};function Qe(c,p){var w,C=c.F;if(C)for(w=[];C;C=C.F)w.push(C);if(c=c.M,C=p.type||p,typeof p=="string")p=new ne(p,c);else if(p instanceof ne)p.target=p.target||c;else{var M=p;p=new ne(C,c),R(p,M)}if(M=!0,w)for(var F=w.length-1;0<=F;F--){var X=p.g=w[F];M=ir(X,C,!0,p)&&M}if(X=p.g=c,M=ir(X,C,!0,p)&&M,M=ir(X,C,!1,p)&&M,w)for(F=0;F<w.length;F++)X=p.g=w[F],M=ir(X,C,!1,p)&&M}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var w=c.g[p],C=0;C<w.length;C++)Je(w[C]);delete c.g[p],c.h--}}this.F=null},Me.prototype.K=function(c,p,w,C){return this.i.add(String(c),p,!1,w,C)},Me.prototype.L=function(c,p,w,C){return this.i.add(String(c),p,!0,w,C)};function ir(c,p,w,C){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,F=0;F<p.length;++F){var X=p[F];if(X&&!X.da&&X.capture==w){var Ze=X.listener,Mt=X.ha||X.src;X.fa&&Fe(c.i,X),M=Ze.call(Mt,C)!==!1&&M}}return M&&!C.defaultPrevented}function Hd(c,p,w){if(typeof c=="function")w&&(c=h(c,w));else if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function Xo(c){c.g=Hd(()=>{c.g=null,c.i&&(c.i=!1,Xo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Kl extends B{constructor(p,w){super(),this.m=p,this.l=w,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(c){B.call(this),this.h=c,this.g={}}y(Xs,B);var Gl=[];function qd(c){$(c.g,function(p,w){this.g.hasOwnProperty(w)&&j(p)},c),c.g={}}Xs.prototype.N=function(){Xs.aa.N.call(this),qd(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yo=a.JSON.stringify,oN=a.JSON.parse,aN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function _g(){}_g.prototype.h=null;function OE(c){return c.h||(c.h=c.i())}function NE(){}var Ql={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wg(){ne.call(this,"d")}y(wg,ne);function Eg(){ne.call(this,"c")}y(Eg,ne);var Ys={},DE=null;function Kd(){return DE=DE||new Me}Ys.La="serverreachability";function $E(c){ne.call(this,Ys.La,c)}y($E,ne);function Xl(c){const p=Kd();Qe(p,new $E(p))}Ys.STAT_EVENT="statevent";function LE(c,p){ne.call(this,Ys.STAT_EVENT,c),this.stat=p}y(LE,ne);function un(c){const p=Kd();Qe(p,new LE(p,c))}Ys.Ma="timingevent";function ME(c,p){ne.call(this,Ys.Ma,c),this.size=p}y(ME,ne);function Yl(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Jl(){this.g=!0}Jl.prototype.xa=function(){this.g=!1};function lN(c,p,w,C,M,F){c.info(function(){if(c.g)if(F)for(var X="",Ze=F.split("&"),Mt=0;Mt<Ze.length;Mt++){var He=Ze[Mt].split("=");if(1<He.length){var Qt=He[0];He=He[1];var Xt=Qt.split("_");X=2<=Xt.length&&Xt[1]=="type"?X+(Qt+"="+He+"&"):X+(Qt+"=redacted&")}}else X=null;else X=F;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+p+`
`+w+`
`+X})}function cN(c,p,w,C,M,F,X){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+p+`
`+w+`
`+F+" "+X})}function Jo(c,p,w,C){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+dN(c,w)+(C?" "+C:"")})}function uN(c,p){c.info(function(){return"TIMEOUT: "+p})}Jl.prototype.info=function(){};function dN(c,p){if(!c.g)return p;if(!p)return null;try{var w=JSON.parse(p);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var C=w[c];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var X=1;X<M.length;X++)M[X]=""}}}}return Yo(w)}catch{return p}}var Gd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},VE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bg;function Qd(){}y(Qd,_g),Qd.prototype.g=function(){return new XMLHttpRequest},Qd.prototype.i=function(){return{}},bg=new Qd;function Mi(c,p,w,C){this.j=c,this.i=p,this.l=w,this.R=C||1,this.U=new Xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FE}function FE(){this.i=null,this.g="",this.h=!1}var jE={},Sg={};function xg(c,p,w){c.L=1,c.v=Zd(ii(p)),c.m=w,c.P=!0,UE(c,null)}function UE(c,p){c.F=Date.now(),Xd(c),c.A=ii(c.v);var w=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),t1(w.i,"t",C),c.C=0,w=c.j.J,c.h=new FE,c.g=_1(c.j,w?p:null,!c.m),0<c.O&&(c.M=new Kl(h(c.Y,c,c.g),c.O)),p=c.U,w=c.g,C=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(Gl[0]=M.toString()),M=Gl);for(var F=0;F<M.length;F++){var X=rr(w,M[F],C||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Xl(),lN(c.i,c.u,c.A,c.l,c.R,c.m)}Mi.prototype.ca=function(c){c=c.target;const p=this.M;p&&si(c)==3?p.j():this.Y(c)},Mi.prototype.Y=function(c){try{if(c==this.g)e:{const Xt=si(this.g);var p=this.g.Ba();const ta=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||l1(this.g)))){this.J||Xt!=4||p==7||(p==8||0>=ta?Xl(3):Xl(2)),Tg(this);var w=this.g.Z();this.X=w;t:if(zE(this)){var C=l1(this.g);c="";var M=C.length,F=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Js(this),Zl(this);var X="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(C[p],{stream:!(F&&p==M-1)});C.length=0,this.h.g+=c,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=w==200,cN(this.i,this.u,this.A,this.l,this.R,Xt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Mt=this.g;if((Ze=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ze)){var He=Ze;break t}}He=null}if(w=He)Jo(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ig(this,w);else{this.o=!1,this.s=3,un(12),Js(this),Zl(this);break e}}if(this.P){w=!0;let sr;for(;!this.J&&this.C<X.length;)if(sr=fN(this,X),sr==Sg){Xt==4&&(this.s=4,un(14),w=!1),Jo(this.i,this.l,null,"[Incomplete Response]");break}else if(sr==jE){this.s=4,un(15),Jo(this.i,this.l,X,"[Invalid Chunk]"),w=!1;break}else Jo(this.i,this.l,sr,null),Ig(this,sr);if(zE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||X.length!=0||this.h.h||(this.s=1,un(16),w=!1),this.o=this.o&&w,!w)Jo(this.i,this.l,X,"[Invalid Chunked Response]"),Js(this),Zl(this);else if(0<X.length&&!this.W){this.W=!0;var Qt=this.j;Qt.g==this&&Qt.ba&&!Qt.M&&(Qt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),Og(Qt),Qt.M=!0,un(11))}}else Jo(this.i,this.l,X,null),Ig(this,X);Xt==4&&Js(this),this.o&&!this.J&&(Xt==4?m1(this.j,this):(this.o=!1,Xd(this)))}else PN(this.g),w==400&&0<X.indexOf("Unknown SID")?(this.s=3,un(12)):(this.s=0,un(13)),Js(this),Zl(this)}}}catch{}finally{}};function zE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function fN(c,p){var w=c.C,C=p.indexOf(`
`,w);return C==-1?Sg:(w=Number(p.substring(w,C)),isNaN(w)?jE:(C+=1,C+w>p.length?Sg:(p=p.slice(C,C+w),c.C=C+w,p)))}Mi.prototype.cancel=function(){this.J=!0,Js(this)};function Xd(c){c.S=Date.now()+c.I,BE(c,c.I)}function BE(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Yl(h(c.ba,c),p)}function Tg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Mi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(uN(this.i,this.A),this.L!=2&&(Xl(),un(17)),Js(this),this.s=2,Zl(this)):BE(this,this.S-c)};function Zl(c){c.j.G==0||c.J||m1(c.j,c)}function Js(c){Tg(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,qd(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Ig(c,p){try{var w=c.j;if(w.G!=0&&(w.g==c||Cg(w.h,c))){if(!c.K&&Cg(w.h,c)&&w.G==3){try{var C=w.Da.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)sf(w),nf(w);else break e;kg(w),un(18)}}else w.za=M[1],0<w.za-w.T&&37500>M[2]&&w.F&&w.v==0&&!w.C&&(w.C=Yl(h(w.Za,w),6e3));if(1>=qE(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else eo(w,11)}else if((c.K||w.g==c)&&sf(w),!v(p))for(M=w.Da.g.parse(p),p=0;p<M.length;p++){let He=M[p];if(w.T=He[0],He=He[1],w.G==2)if(He[0]=="c"){w.K=He[1],w.ia=He[2];const Qt=He[3];Qt!=null&&(w.la=Qt,w.j.info("VER="+w.la));const Xt=He[4];Xt!=null&&(w.Aa=Xt,w.j.info("SVER="+w.Aa));const ta=He[5];ta!=null&&typeof ta=="number"&&0<ta&&(C=1.5*ta,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const sr=c.g;if(sr){const af=sr.g?sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(af){var F=C.h;F.g||af.indexOf("spdy")==-1&&af.indexOf("quic")==-1&&af.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Rg(F,F.h),F.h=null))}if(C.D){const Ng=sr.g?sr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ng&&(C.ya=Ng,rt(C.I,C.D,Ng))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var X=c;if(C.qa=y1(C,C.J?C.ia:null,C.W),X.K){KE(C.h,X);var Ze=X,Mt=C.L;Mt&&(Ze.I=Mt),Ze.B&&(Tg(Ze),Xd(Ze)),C.g=X}else h1(C);0<w.i.length&&rf(w)}else He[0]!="stop"&&He[0]!="close"||eo(w,7);else w.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?eo(w,7):Ag(w):He[0]!="noop"&&w.l&&w.l.ta(He),w.v=0)}}Xl(4)}catch{}}var hN=class{constructor(c,p){this.g=c,this.map=p}};function WE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function HE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function qE(c){return c.h?1:c.g?c.g.size:0}function Cg(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Rg(c,p){c.g?c.g.add(p):c.h=p}function KE(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}WE.prototype.cancel=function(){if(this.i=GE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function GE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const w of c.g.values())p=p.concat(w.D);return p}return E(c.i)}function pN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],w=c.length,C=0;C<w;C++)p.push(c[C]);return p}p=[],w=0;for(C in c)p[w++]=c[C];return p}function mN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var w=0;w<c;w++)p.push(w);return p}p=[],w=0;for(const C in c)p[w++]=C;return p}}}function QE(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var w=mN(c),C=pN(c),M=C.length,F=0;F<M;F++)p.call(void 0,C[F],w&&w[F],c)}var XE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gN(c,p){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var C=c[w].indexOf("="),M=null;if(0<=C){var F=c[w].substring(0,C);M=c[w].substring(C+1)}else F=c[w];p(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Zs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zs){this.h=c.h,Yd(this,c.j),this.o=c.o,this.g=c.g,Jd(this,c.s),this.l=c.l;var p=c.i,w=new nc;w.i=p.i,p.g&&(w.g=new Map(p.g),w.h=p.h),YE(this,w),this.m=c.m}else c&&(p=String(c).match(XE))?(this.h=!1,Yd(this,p[1]||"",!0),this.o=ec(p[2]||""),this.g=ec(p[3]||"",!0),Jd(this,p[4]),this.l=ec(p[5]||"",!0),YE(this,p[6]||"",!0),this.m=ec(p[7]||"")):(this.h=!1,this.i=new nc(null,this.h))}Zs.prototype.toString=function(){var c=[],p=this.j;p&&c.push(tc(p,JE,!0),":");var w=this.g;return(w||p=="file")&&(c.push("//"),(p=this.o)&&c.push(tc(p,JE,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(tc(w,w.charAt(0)=="/"?_N:yN,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",tc(w,EN)),c.join("")};function ii(c){return new Zs(c)}function Yd(c,p,w){c.j=w?ec(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Jd(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function YE(c,p,w){p instanceof nc?(c.i=p,bN(c.i,c.h)):(w||(p=tc(p,wN)),c.i=new nc(p,c.h))}function rt(c,p,w){c.i.set(p,w)}function Zd(c){return rt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ec(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function tc(c,p,w){return typeof c=="string"?(c=encodeURI(c).replace(p,vN),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var JE=/[#\/\?@]/g,yN=/[#\?:]/g,_N=/[#\?]/g,wN=/[#\?@]/g,EN=/#/g;function nc(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Vi(c){c.g||(c.g=new Map,c.h=0,c.i&&gN(c.i,function(p,w){c.add(decodeURIComponent(p.replace(/\+/g," ")),w)}))}t=nc.prototype,t.add=function(c,p){Vi(this),this.i=null,c=Zo(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(p),this.h+=1,this};function ZE(c,p){Vi(c),p=Zo(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function e1(c,p){return Vi(c),p=Zo(c,p),c.g.has(p)}t.forEach=function(c,p){Vi(this),this.g.forEach(function(w,C){w.forEach(function(M){c.call(p,M,C,this)},this)},this)},t.na=function(){Vi(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),w=[];for(let C=0;C<p.length;C++){const M=c[C];for(let F=0;F<M.length;F++)w.push(p[C])}return w},t.V=function(c){Vi(this);let p=[];if(typeof c=="string")e1(this,c)&&(p=p.concat(this.g.get(Zo(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)p=p.concat(c[w])}return p},t.set=function(c,p){return Vi(this),this.i=null,c=Zo(this,c),e1(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function t1(c,p,w){ZE(c,p),0<w.length&&(c.i=null,c.g.set(Zo(c,p),E(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var w=0;w<p.length;w++){var C=p[w];const F=encodeURIComponent(String(C)),X=this.V(C);for(C=0;C<X.length;C++){var M=F;X[C]!==""&&(M+="="+encodeURIComponent(String(X[C]))),c.push(M)}}return this.i=c.join("&")};function Zo(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function bN(c,p){p&&!c.j&&(Vi(c),c.i=null,c.g.forEach(function(w,C){var M=C.toLowerCase();C!=M&&(ZE(this,C),t1(this,M,w))},c)),c.j=p}function SN(c,p){const w=new Jl;if(a.Image){const C=new Image;C.onload=m(Fi,w,"TestLoadImage: loaded",!0,p,C),C.onerror=m(Fi,w,"TestLoadImage: error",!1,p,C),C.onabort=m(Fi,w,"TestLoadImage: abort",!1,p,C),C.ontimeout=m(Fi,w,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else p(!1)}function xN(c,p){const w=new Jl,C=new AbortController,M=setTimeout(()=>{C.abort(),Fi(w,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:C.signal}).then(F=>{clearTimeout(M),F.ok?Fi(w,"TestPingServer: ok",!0,p):Fi(w,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Fi(w,"TestPingServer: error",!1,p)})}function Fi(c,p,w,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(w)}catch{}}function TN(){this.g=new aN}function IN(c,p,w){const C=w||"";try{QE(c,function(M,F){let X=M;u(M)&&(X=Yo(M)),p.push(C+F+"="+encodeURIComponent(X))})}catch(M){throw p.push(C+"type="+encodeURIComponent("_badmap")),M}}function rc(c){this.l=c.Ub||null,this.j=c.eb||!1}y(rc,_g),rc.prototype.g=function(){return new ef(this.l,this.j)},rc.prototype.i=function(c){return function(){return c}}({});function ef(c,p){Me.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ef,Me),t=ef.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,sc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ic(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,sc(this)),this.g&&(this.readyState=3,sc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;n1(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function n1(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ic(this):sc(this),this.readyState==3&&n1(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ic(this))},t.Qa=function(c){this.g&&(this.response=c,ic(this))},t.ga=function(){this.g&&ic(this)};function ic(c){c.readyState=4,c.l=null,c.j=null,c.v=null,sc(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var w=p.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=p.next();return c.join(`\r
`)};function sc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ef.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function r1(c){let p="";return $(c,function(w,C){p+=C,p+=":",p+=w,p+=`\r
`}),p}function Pg(c,p,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=r1(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):rt(c,p,w))}function gt(c){Me.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(gt,Me);var CN=/^https?$/i,RN=["POST","PUT"];t=gt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bg.g(),this.v=this.o?OE(this.o):OE(bg),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){i1(this,F);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)w.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const F of C.keys())w.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RN,p,void 0))||C||M||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,X]of w)this.g.setRequestHeader(F,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{a1(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){i1(this,F)}};function i1(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,s1(c),tf(c)}function s1(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),tf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tf(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?o1(this):this.bb())},t.bb=function(){o1(this)};function o1(c){if(c.h&&typeof o<"u"&&(!c.v[1]||si(c)!=4||c.Z()!=2)){if(c.u&&si(c)==4)Hd(c.Ea,0,c);else if(Qe(c,"readystatechange"),si(c)==4){c.h=!1;try{const X=c.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var w;if(!(w=p)){var C;if(C=X===0){var M=String(c.D).match(XE)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!CN.test(M?M.toLowerCase():"")}w=C}if(w)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var F=2<si(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",s1(c)}}finally{tf(c)}}}}function tf(c,p){if(c.g){a1(c);const w=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Qe(c,"ready");try{w.onreadystatechange=C}catch{}}}function a1(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function si(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),oN(p)}};function l1(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function PN(c){const p={};c=(c.g&&2<=si(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(v(c[C]))continue;var w=D(c[C]);const M=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=p[M]||[];p[M]=F,F.push(w)}T(p,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oc(c,p,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||p}function c1(c){this.Aa=0,this.i=[],this.j=new Jl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oc("baseRetryDelayMs",5e3,c),this.cb=oc("retryDelaySeedMs",1e4,c),this.Wa=oc("forwardChannelMaxRetries",2,c),this.wa=oc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new WE(c&&c.concurrentRequestLimit),this.Da=new TN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=c1.prototype,t.la=8,t.G=1,t.connect=function(c,p,w,C){un(0),this.W=c,this.H=p||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=y1(this,null,this.W),rf(this)};function Ag(c){if(u1(c),c.G==3){var p=c.U++,w=ii(c.I);if(rt(w,"SID",c.K),rt(w,"RID",p),rt(w,"TYPE","terminate"),ac(c,w),p=new Mi(c,c.j,p),p.L=2,p.v=Zd(ii(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=p.v,w=!0),w||(p.g=_1(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Xd(p)}v1(c)}function nf(c){c.g&&(Og(c),c.g.cancel(),c.g=null)}function u1(c){nf(c),c.u&&(a.clearTimeout(c.u),c.u=null),sf(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function rf(c){if(!HE(c.h)&&!c.s){c.s=!0;var p=c.Ga;le||Z(),W||(le(),W=!0),U.add(p,c),c.B=0}}function AN(c,p){return qE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Yl(h(c.Ga,c,p),g1(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new Mi(this,this.j,c);let F=this.o;if(this.S&&(F?(F=S(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var p=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,4096<p){p=w;break e}if(p===4096||w===this.i.length-1){p=w+1;break e}}p=1e3}else p=1e3;p=f1(this,M,p),w=ii(this.I),rt(w,"RID",c),rt(w,"CVER",22),this.D&&rt(w,"X-HTTP-Session-Id",this.D),ac(this,w),F&&(this.O?p="headers="+encodeURIComponent(String(r1(F)))+"&"+p:this.m&&Pg(w,this.m,F)),Rg(this.h,M),this.Ua&&rt(w,"TYPE","init"),this.P?(rt(w,"$req",p),rt(w,"SID","null"),M.T=!0,xg(M,w,null)):xg(M,w,p),this.G=2}}else this.G==3&&(c?d1(this,c):this.i.length==0||HE(this.h)||d1(this))};function d1(c,p){var w;p?w=p.l:w=c.U++;const C=ii(c.I);rt(C,"SID",c.K),rt(C,"RID",w),rt(C,"AID",c.T),ac(c,C),c.m&&c.o&&Pg(C,c.m,c.o),w=new Mi(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),p&&(c.i=p.D.concat(c.i)),p=f1(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rg(c.h,w),xg(w,C,p)}function ac(c,p){c.H&&$(c.H,function(w,C){rt(p,C,w)}),c.l&&QE({},function(w,C){rt(p,C,w)})}function f1(c,p,w){w=Math.min(c.i.length,w);var C=c.l?h(c.l.Na,c.l,c):null;e:{var M=c.i;let F=-1;for(;;){const X=["count="+w];F==-1?0<w?(F=M[0].g,X.push("ofs="+F)):F=0:X.push("ofs="+F);let Ze=!0;for(let Mt=0;Mt<w;Mt++){let He=M[Mt].g;const Qt=M[Mt].map;if(He-=F,0>He)F=Math.max(0,M[Mt].g-100),Ze=!1;else try{IN(Qt,X,"req"+He+"_")}catch{C&&C(Qt)}}if(Ze){C=X.join("&");break e}}}return c=c.i.splice(0,w),p.D=c,C}function h1(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;le||Z(),W||(le(),W=!0),U.add(p,c),c.v=0}}function kg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Yl(h(c.Fa,c),g1(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,p1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Yl(h(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,un(10),nf(this),p1(this))};function Og(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function p1(c){c.g=new Mi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ii(c.qa);rt(p,"RID","rpc"),rt(p,"SID",c.K),rt(p,"AID",c.T),rt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&rt(p,"TO",c.ja),rt(p,"TYPE","xmlhttp"),ac(c,p),c.m&&c.o&&Pg(p,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Zd(ii(p)),w.m=null,w.P=!0,UE(w,c)}t.Za=function(){this.C!=null&&(this.C=null,nf(this),kg(this),un(19))};function sf(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function m1(c,p){var w=null;if(c.g==p){sf(c),Og(c),c.g=null;var C=2}else if(Cg(c.h,p))w=p.D,KE(c.h,p),C=1;else return;if(c.G!=0){if(p.o)if(C==1){w=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;C=Kd(),Qe(C,new ME(C,w)),rf(c)}else h1(c);else if(M=p.s,M==3||M==0&&0<p.X||!(C==1&&AN(c,p)||C==2&&kg(c)))switch(w&&0<w.length&&(p=c.h,p.i=p.i.concat(w)),M){case 1:eo(c,5);break;case 4:eo(c,10);break;case 3:eo(c,6);break;default:eo(c,2)}}}function g1(c,p){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*p}function eo(c,p){if(c.j.info("Error code "+p),p==2){var w=h(c.fb,c),C=c.Xa;const M=!C;C=new Zs(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yd(C,"https"),Zd(C),M?SN(C.toString(),w):xN(C.toString(),w)}else un(2);c.G=0,c.l&&c.l.sa(p),v1(c),u1(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function v1(c){if(c.G=0,c.ka=[],c.l){const p=GE(c.h);(p.length!=0||c.i.length!=0)&&(b(c.ka,p),b(c.ka,c.i),c.h.i.length=0,E(c.i),c.i.length=0),c.l.ra()}}function y1(c,p,w){var C=w instanceof Zs?ii(w):new Zs(w);if(C.g!="")p&&(C.g=p+"."+C.g),Jd(C,C.s);else{var M=a.location;C=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var F=new Zs(null);C&&Yd(F,C),p&&(F.g=p),M&&Jd(F,M),w&&(F.l=w),C=F}return w=c.D,p=c.ya,w&&p&&rt(C,w,p),rt(C,"VER",c.la),ac(c,C),C}function _1(c,p,w){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new gt(new rc({eb:w})):new gt(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function w1(){}t=w1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function of(){}of.prototype.g=function(c,p){return new Tn(c,p)};function Tn(c,p){Me.call(this),this.g=new c1(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!v(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ea(this)}y(Tn,Me),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Ag(this.g)},Tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Yo(c),c=w);p.i.push(new hN(p.Ya++,c)),p.G==3&&rf(p)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Ag(this.g),delete this.g,Tn.aa.N.call(this)};function E1(c){wg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const w in p){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(E1,wg);function b1(){Eg.call(this),this.status=1}y(b1,Eg);function ea(c){this.g=c}y(ea,w1),ea.prototype.ua=function(){Qe(this.g,"a")},ea.prototype.ta=function(c){Qe(this.g,new E1(c))},ea.prototype.sa=function(c){Qe(this.g,new b1)},ea.prototype.ra=function(){Qe(this.g,"b")},of.prototype.createWebChannel=of.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,fP=function(){return new of},dP=function(){return Kd()},uP=Ys,Ky={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gd.NO_ERROR=0,Gd.TIMEOUT=8,Gd.HTTP_ERROR=6,lh=Gd,VE.COMPLETE="complete",cP=VE,NE.EventType=Ql,Ql.OPEN="a",Ql.CLOSE="b",Ql.ERROR="c",Ql.MESSAGE="d",Me.prototype.listen=Me.prototype.K,Ac=NE,lP=rc,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,aP=gt}).apply(typeof If<"u"?If:typeof self<"u"?self:typeof window<"u"?window:{});const mS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml="10.12.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new Vw("@firebase/firestore");function gc(){return ko.logLevel}function he(t,...e){if(ko.logLevel<=Ve.DEBUG){const n=e.map(Qw);ko.debug(`Firestore (${Ml}): ${t}`,...n)}}function Ci(t,...e){if(ko.logLevel<=Ve.ERROR){const n=e.map(Qw);ko.error(`Firestore (${Ml}): ${t}`,...n)}}function gl(t,...e){if(ko.logLevel<=Ve.WARN){const n=e.map(Qw);ko.warn(`Firestore (${Ml}): ${t}`,...n)}}function Qw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t="Unexpected state"){const e=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: `+t;throw Ci(e),new Error(e)}function nt(t,e){t||xe()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class n4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r4{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ws,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ws)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new hP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new nn(e)}}class i4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class s4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new i4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,he("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new o4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=l4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function vl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Ot(0,0))}static max(){return new Te(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(),r===void 0?r=e.length-n:r>e.length-n&&xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $u.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $u?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends $u{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const c4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends $u{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return c4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}function u4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Cs(i,_e.empty(),e)}function d4(t){return new Cs(t.readTime,t.key,-1)}class Cs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Cs(Te.min(),_e.empty(),-1)}static max(){return new Cs(Te.max(),_e.empty(),-1)}}function f4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==h4)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function m4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ad(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Xw.oe=-1;function jm(t){return t==null}function fp(t){return t===0&&1/t==-1/0}function g4(t){return typeof t=="number"&&Number.isInteger(t)&&!fp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cf(this.root,e,this.comparator,!0)}}class Cf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vS(this.data.getIterator())}getIteratorFrom(e){return new vS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class vS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Bt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new gP("Invalid base64 string: "+s):s}}(e);return new an(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const v4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rs(t){if(nt(!!t),typeof t=="string"){let e=0;const n=v4.exec(t);if(nt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oo(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jw(t){const e=t.mapValue.fields.__previous_value__;return Yw(e)?Jw(e):e}function Lu(t){const e=Rs(t.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Mu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yw(t)?4:_4(t)?9007199254740991:10:xe()}function Xr(t,e){if(t===e)return!0;const n=No(t);if(n!==No(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lu(t).isEqual(Lu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Rs(i.timestampValue),a=Rs(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Oo(i.bytesValue).isEqual(Oo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xt(i.geoPointValue.latitude)===xt(s.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xt(i.integerValue)===xt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=xt(i.doubleValue),a=xt(s.doubleValue);return o===a?fp(o)===fp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return vl(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(gS(o)!==gS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xr(o[l],a[l])))return!1;return!0}(t,e);default:return xe()}}function Vu(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function yl(t,e){if(t===e)return 0;const n=No(t),r=No(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=xt(s.integerValue||s.doubleValue),l=xt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return yS(t.timestampValue,e.timestampValue);case 4:return yS(Lu(t),Lu(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Oo(s),l=Oo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=qe(a[u],l[u]);if(d!==0)return d}return qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=qe(xt(s.latitude),xt(o.latitude));return a!==0?a:qe(xt(s.longitude),xt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const d=yl(a[u],l[u]);if(d)return d}return qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Rf.mapValue&&o===Rf.mapValue)return 0;if(s===Rf.mapValue)return 1;if(o===Rf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=qe(l[f],d[f]);if(h!==0)return h;const m=yl(a[l[f]],u[d[f]]);if(m!==0)return m}return qe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw xe()}}function yS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=Rs(t),r=Rs(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function _l(t){return Gy(t)}function Gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Rs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Gy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Gy(n.fields[o])}`;return i+"}"}(t.mapValue):xe()}function _S(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qy(t){return!!t&&"integerValue"in t}function Zw(t){return!!t&&"arrayValue"in t}function wS(t){return!!t&&"nullValue"in t}function ES(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ch(t){return!!t&&"mapValue"in t}function iu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=iu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=iu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=iu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ch(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){qo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wn(iu(this.value))}}function vP(t){const e=[];return qo(t.fields,(n,r)=>{const i=new Ut([n]);if(ch(r)){const s=vP(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new sn(e,0,Te.min(),Te.min(),Te.min(),wn.empty(),0)}static newFoundDocument(e,n,r,i){return new sn(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new sn(e,2,n,Te.min(),Te.min(),wn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Te.min(),Te.min(),wn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.position=e,this.inclusive=n}}function bS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=yl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function SS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function w4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{}class It extends yP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b4(e,n,r):n==="array-contains"?new T4(e,r):n==="in"?new I4(e,r):n==="not-in"?new C4(e,r):n==="array-contains-any"?new R4(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new S4(e,r):new x4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yl(n,this.value)):n!==null&&No(this.value)===No(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends yP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ir(e,n)}matches(e){return _P(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _P(t){return t.op==="and"}function wP(t){return E4(t)&&_P(t)}function E4(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function Xy(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+_l(t.value);if(wP(t))return t.filters.map(e=>Xy(e)).join(",");{const e=t.filters.map(n=>Xy(n)).join(",");return`${t.op}(${e})`}}function EP(t,e){return t instanceof It?function(r,i){return i instanceof It&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)}(t,e):t instanceof Ir?function(r,i){return i instanceof Ir&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&EP(o,i.filters[a]),!0):!1}(t,e):void xe()}function bP(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(bP).join(" ,")+"}"}(t):"Filter"}class b4 extends It{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class S4 extends It{constructor(e,n){super(e,"in",n),this.keys=SP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x4 extends It{constructor(e,n){super(e,"not-in",n),this.keys=SP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class T4 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zw(n)&&Vu(n.arrayValue,this.value)}}class I4 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vu(this.value.arrayValue,n)}}class C4 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vu(this.value.arrayValue,n)}}class R4 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function xS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new P4(t,e,n,r,i,s,o)}function e0(t){const e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),jm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_l(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_l(r)).join(",")),e.ue=n}return e.ue}function t0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SS(t.startAt,e.startAt)&&SS(t.endAt,e.endAt)}function Yy(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function A4(t,e,n,r,i,s,o,a){return new Vl(t,e,n,r,i,s,o,a)}function n0(t){return new Vl(t)}function TS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xP(t){return t.collectionGroup!==null}function su(t){const e=Ce(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bt(Ut.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fu(s,r))}),n.has(Ut.keyField().canonicalString())||e.ce.push(new Fu(Ut.keyField(),r))}return e.ce}function Kr(t){const e=Ce(t);return e.le||(e.le=k4(e,su(t))),e.le}function k4(t,e){if(t.limitType==="F")return xS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fu(i.field,s)});const n=t.endAt?new hp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hp(t.startAt.position,t.startAt.inclusive):null;return xS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jy(t,e){const n=t.filters.concat([e]);return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pp(t,e,n){return new Vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kd(t,e){return t0(Kr(t),Kr(e))&&t.limitType===e.limitType}function TP(t){return`${e0(Kr(t))}|lt:${t.limitType}`}function fa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bP(i)).join(", ")}]`),jm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_l(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_l(i)).join(",")),`Target(${r})`}(Kr(t))}; limitType=${t.limitType})`}function Um(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of su(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=bS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,su(r),i)||r.endAt&&!function(o,a,l){const u=bS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,su(r),i))}(t,e)}function O4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IP(t){return(e,n)=>{let r=!1;for(const i of su(t)){const s=N4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function N4(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?yl(l,u):xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new mt(_e.comparator);function Ri(){return D4}const CP=new mt(_e.comparator);function kc(...t){let e=CP;for(const n of t)e=e.insert(n.key,n);return e}function RP(t){let e=CP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function co(){return ou()}function PP(){return ou()}function ou(){return new Fl(t=>t.toString(),(t,e)=>t.isEqual(e))}const $4=new mt(_e.comparator),L4=new Bt(_e.comparator);function Le(...t){let e=L4;for(const n of t)e=e.add(n);return e}const M4=new Bt(qe);function V4(){return M4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fp(e)?"-0":e}}function kP(t){return{integerValue:""+t}}function F4(t,e){return g4(e)?kP(e):AP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this._=void 0}}function j4(t,e,n){return t instanceof mp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Yw(s)&&(s=Jw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ju?NP(t,e):t instanceof Uu?DP(t,e):function(i,s){const o=OP(i,s),a=IS(o)+IS(i.Pe);return Qy(o)&&Qy(i.Pe)?kP(a):AP(i.serializer,a)}(t,e)}function U4(t,e,n){return t instanceof ju?NP(t,e):t instanceof Uu?DP(t,e):n}function OP(t,e){return t instanceof gp?function(r){return Qy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mp extends zm{}class ju extends zm{constructor(e){super(),this.elements=e}}function NP(t,e){const n=$P(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Uu extends zm{constructor(e){super(),this.elements=e}}function DP(t,e){let n=$P(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class gp extends zm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function IS(t){return xt(t.integerValue||t.doubleValue)}function $P(t){return Zw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function z4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ju&&i instanceof ju||r instanceof Uu&&i instanceof Uu?vl(r.elements,i.elements,Xr):r instanceof gp&&i instanceof gp?Xr(r.Pe,i.Pe):r instanceof mp&&i instanceof mp}(t.transform,e.transform)}class B4{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bm{}function LP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new r0(t.key,Xn.none()):new Od(t.key,t.data,Xn.none());{const n=t.data,r=wn.empty();let i=new Bt(Ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ks(t.key,r,new Dn(i.toArray()),Xn.none())}}function W4(t,e,n){t instanceof Od?function(i,s,o){const a=i.value.clone(),l=RS(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ks?function(i,s,o){if(!uh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=RS(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(MP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function au(t,e,n,r){return t instanceof Od?function(s,o,a,l){if(!uh(s.precondition,o))return a;const u=s.value.clone(),d=PS(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ks?function(s,o,a,l){if(!uh(s.precondition,o))return a;const u=PS(s.fieldTransforms,l,o),d=o.data;return d.setAll(MP(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return uh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function H4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OP(r.transform,i||null);s!=null&&(n===null&&(n=wn.empty()),n.set(r.field,s))}return n||null}function CS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&vl(r,i,(s,o)=>z4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Od extends Bm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ks extends Bm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function RS(t,e,n){const r=new Map;nt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,U4(o,a,n[i]))}return r}function PS(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,j4(s,o,e))}return r}class r0 extends Bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q4 extends Bm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&W4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=au(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=LP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,(n,r)=>CS(n,r))&&vl(this.baseMutations,e.baseMutations,(n,r)=>CS(n,r))}}class i0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){nt(e.mutations.length===r.length);let i=function(){return $4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new i0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,je;function X4(t){switch(t){default:return xe();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function VP(t){if(t===void 0)return Ci("GRPC error has no .code"),z.UNKNOWN;switch(t){case St.OK:return z.OK;case St.CANCELLED:return z.CANCELLED;case St.UNKNOWN:return z.UNKNOWN;case St.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case St.INTERNAL:return z.INTERNAL;case St.UNAVAILABLE:return z.UNAVAILABLE;case St.UNAUTHENTICATED:return z.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case St.NOT_FOUND:return z.NOT_FOUND;case St.ALREADY_EXISTS:return z.ALREADY_EXISTS;case St.PERMISSION_DENIED:return z.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case St.ABORTED:return z.ABORTED;case St.OUT_OF_RANGE:return z.OUT_OF_RANGE;case St.UNIMPLEMENTED:return z.UNIMPLEMENTED;case St.DATA_LOSS:return z.DATA_LOSS;default:return xe()}}(je=St||(St={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new yo([4294967295,4294967295],0);function AS(t){const e=Y4().encode(t),n=new oP;return n.update(e),new Uint8Array(n.digest())}function kS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yo([n,r],0),new yo([i,s],0)]}class s0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(yo.fromNumber(r)));return i.compare(J4)===1&&(i=new yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=AS(e),[r,i]=kS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new s0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=AS(e),[r,i]=kS(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wm(Te.min(),i,new mt(qe),Ri(),Le())}}class Nd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nd(r,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FP{constructor(e,n){this.targetId=e,this.me=n}}class jP{constructor(e,n,r=an.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OS{constructor(){this.fe=0,this.ge=DS(),this.pe=an.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Le(),n=Le(),r=Le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xe()}}),new Nd(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=DS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Z4{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ri(),this.qe=NS(),this.Qe=new mt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Yy(s))if(r===0){const o=new _e(s.path);this.Ue(n,o,sn.newNoDocument(o,Te.min()))}else nt(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Oo(r).toUint8Array()}catch(l){if(l instanceof gP)return gl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new s0(o,i,s)}catch(l){return gl(l instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Yy(a.target)){const l=new _e(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,sn.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=Le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Wm(e,n,this.Qe,this.ke,r);return this.ke=Ri(),this.qe=NS(),this.Qe=new mt(qe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new OS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Bt(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new OS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function NS(){return new mt(_e.comparator)}function DS(){return new mt(_e.comparator)}const e6={asc:"ASCENDING",desc:"DESCENDING"},t6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},n6={and:"AND",or:"OR"};class r6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zy(t,e){return t.useProto3Json||jm(e)?e:{value:e}}function vp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function i6(t,e){return vp(t,e.toTimestamp())}function Gr(t){return nt(!!t),Te.fromTimestamp(function(n){const r=Rs(n);return new Ot(r.seconds,r.nanos)}(t))}function o0(t,e){return e_(t,e).canonicalString()}function e_(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zP(t){const e=ot.fromString(t);return nt(KP(e)),e}function t_(t,e){return o0(t.databaseId,e.path)}function pv(t,e){const n=zP(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(WP(n))}function BP(t,e){return o0(t.databaseId,e)}function s6(t){const e=zP(t);return e.length===4?ot.emptyPath():WP(e)}function n_(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WP(t){return nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $S(t,e,n){return{name:t_(t,e),fields:n.value.mapValue.fields}}function o6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(nt(d===void 0||typeof d=="string"),an.fromBase64String(d||"")):(nt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),an.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?z.UNKNOWN:VP(u.code);return new oe(d,u.message||"")}(o);n=new jP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pv(t,r.document.name),s=Gr(r.document.updateTime),o=r.document.createTime?Gr(r.document.createTime):Te.min(),a=new wn({mapValue:{fields:r.document.fields}}),l=sn.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new dh(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pv(t,r.document),s=r.readTime?Gr(r.readTime):Te.min(),o=sn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new dh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pv(t,r.document),s=r.removedTargetIds||[];n=new dh([],s,i,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Q4(i,s),a=r.targetId;n=new FP(a,o)}}return n}function a6(t,e){let n;if(e instanceof Od)n={update:$S(t,e.key,e.value)};else if(e instanceof r0)n={delete:t_(t,e.key)};else if(e instanceof Ks)n={update:$S(t,e.key,e.data),updateMask:g6(e.fieldMask)};else{if(!(e instanceof q4))return xe();n={verify:t_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof mp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ju)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gp)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:i6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xe()}(t,e.precondition)),n}function l6(t,e){return t&&t.length>0?(nt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gr(i.updateTime):Gr(s);return o.isEqual(Te.min())&&(o=Gr(s)),new B4(o,i.transformResults||[])}(n,e))):[]}function c6(t,e){return{documents:[BP(t,e.path)]}}function u6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BP(t,i);const s=function(u){if(u.length!==0)return qP(Ir.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:ha(h.field),direction:h6(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function d6(t){let e=s6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){nt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=HP(f);return h instanceof Ir&&wP(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(y){return new Fu(pa(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,jm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new hp(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new hp(m,h)}(n.endAt)),A4(e,i,o,s,a,"F",l,u)}function f6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pa(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pa(n.unaryFilter.field);return It.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=pa(n.unaryFilter.field);return It.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=pa(n.unaryFilter.field);return It.create(o,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(t):t.fieldFilter!==void 0?function(n){return It.create(pa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>HP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xe()}}(n.compositeFilter.op))}(t):xe()}function h6(t){return e6[t]}function p6(t){return t6[t]}function m6(t){return n6[t]}function ha(t){return{fieldPath:t.canonicalString()}}function pa(t){return Ut.fromServerFormat(t.fieldPath)}function qP(t){return t instanceof It?function(n){if(n.op==="=="){if(ES(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NAN"}};if(wS(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ES(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NOT_NAN"}};if(wS(n.value))return{unaryFilter:{field:ha(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ha(n.field),op:p6(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(i=>qP(i));return r.length===1?r[0]:{compositeFilter:{op:m6(n.op),filters:r}}}(t):xe()}function g6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,i,s=Te.min(),o=Te.min(),a=an.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.ct=e}}function y6(t){const e=d6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(){this._n=new w6}addToCollectionParentIndex(e,n){return this._n.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Cs.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class w6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bt(ot.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new wl(0)}static Ln(){return new wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.changes=new Fl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&au(r.mutation,i,Dn.empty(),Ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Le()){const i=co();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=kc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Le()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ri();const o=ou(),a=function(){return ou()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ks)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),au(d.mutation,u,d.mutation.getFieldMask(),Ot.now())):o.set(u.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new b6(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ou();let i=new mt((o,a)=>o-a),s=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Dn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Le()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=PP();d.forEach(h=>{if(!s.has(h)){const m=LP(n.get(h),r.get(h));m!==null&&f.set(h,m),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(co());let a=-1,l=s;return o.next(u=>H.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Le())).next(d=>({batchId:a,changes:RP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=kc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=kc();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const u=function(f,h){return new Vl(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,sn.newInvalidDocument(d)))});let a=kc();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&au(d.mutation,u,Dn.empty(),Ot.now()),Um(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return H.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gr(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:y6(i.bundledQuery),readTime:Gr(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(){this.overlays=new mt(_e.comparator),this.hr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=co();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=co(),s=n.length+1,o=new _e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new mt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=co(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=co(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new G4(n,r));let s=this.hr.get(n);s===void 0&&(s=Le(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.Pr=new Bt(Dt.Ir),this.Tr=new Bt(Dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Dt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new _e(new ot([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new _e(new ot([])),r=new Dt(n,e),i=new Dt(n,e+1);let s=Le();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return _e.comparator(e.key,n.key)||qe(e.pr,n.pr)}static Er(e,n){return qe(e.pr,n.pr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Bt(Dt.Ir)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new K4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bt(qe);return n.forEach(i=>{const s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),H.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new Dt(new _e(s),0);let a=new Bt(qe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),H.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){nt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return H.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Dt(n,0),i=this.wr.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.vr=e,this.docs=function(){return new mt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=Ri();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():sn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ri();const o=n.path,a=new _e(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||f4(d4(d),r)<=0||(i.has(d.key)||Um(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xe()}Fr(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new R6(this)}getSize(e){return H.resolve(this.size)}}class R6 extends E6{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.persistence=e,this.Mr=new Fl(n=>e0(n),t0),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new a0,this.targetCount=0,this.Lr=wl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),H.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new wl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.qn(n),H.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e,n){this.Br={},this.overlays={},this.kr=new Xw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new P6(this),this.indexManager=new _6,this.remoteDocumentCache=function(i){return new C6(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new v6(n),this.$r=new x6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new I6(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new k6(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return H.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class k6 extends p4{constructor(e){super(),this.currentSequenceNumber=e}}class l0{constructor(e){this.persistence=e,this.zr=new a0,this.jr=null}static Hr(e){return new l0(e)}get Jr(){if(this.jr)return this.jr;throw xe()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),H.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Jr,r=>{const i=_e.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return H.or([()=>H.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Le(),i=Le();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new c0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return wM()?8:m4(Ht())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new O6;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(gc()<=Ve.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),H.resolve()):(gc()<=Ve.DEBUG&&he("QueryEngine","Query:",fa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(gc()<=Ve.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kr(n))):H.resolve())}ji(e,n){if(TS(n))return H.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=pp(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Le(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,pp(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return TS(n)||i.isEqual(Te.min())?H.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?H.resolve(null):(gc()<=Ve.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fa(n)),this.es(e,o,n,u4(i,-1)).next(a=>a))})}Zi(e,n){let r=new Bt(IP(e));return n.forEach((i,s)=>{Um(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return gc()<=Ve.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",fa(n)),this.zi.getDocumentsMatchingQuery(e,n,Cs.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new mt(qe),this.rs=new Fl(s=>e0(s),t0),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S6(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function $6(t,e,n,r){return new D6(t,e,n,r)}async function GP(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Le();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function L6(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let m=H.resolve();return h.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(E=>{const b=u.docVersions.get(y);nt(b!==null),E.version.compareTo(b)<0&&(f.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),d.addEntry(E)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Le();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function QP(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function M6(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let m=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(an.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(f,m),function(E,b,_){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,m,d)&&a.push(n.Qr.updateTargetData(s,m))});let l=Ri(),u=Le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(V6(s,o,e.documentUpdates).next(d=>{l=d.cs,u=d.ls})),!r.isEqual(Te.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function V6(t,e,n){let r=Le(),i=Le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ri();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function F6(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j6(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new os(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function r_(t,e,n){const r=Ce(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ad(o))throw o;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function LS(t,e,n){const r=Ce(t);let i=Te.min(),s=Le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=Ce(l),h=f.rs.get(d);return h!==void 0?H.resolve(f.ns.get(h)):f.Qr.getTargetData(u,d)}(r,o,Kr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Te.min(),n?s:Le())).next(a=>(U6(r,O4(e),a),{documents:a,hs:s})))}function U6(t,e,n){let r=t.ss.get(e)||Te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class MS{constructor(){this.activeTargetIds=V4()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z6{constructor(){this.no=new MS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new MS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function mv(){return Pf===null?Pf=function(){return 268435456+Math.round(2147483648*Math.random())}():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class q6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=mv(),l=this.vo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,l,u,i).then(d=>(he("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw gl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ml}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=W6[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=mv();return new Promise((o,a)=>{const l=new aP;l.setWithCredentials(!0),l.listenOnce(cP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lh.NO_ERROR:const d=l.getResponseJson();he(Zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case lh.TIMEOUT:he(Zt,`RPC '${e}' ${s} timed out`),a(new oe(z.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const f=l.getStatus();if(he(Zt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const y=function(b){const _=b.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(m.status);a(new oe(y,m.message))}else a(new oe(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new oe(z.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{he(Zt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);he(Zt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Oo(e,n,r){const i=mv(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fP(),a=dP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new lP({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");he(Zt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let h=!1,m=!1;const y=new H6({lo:b=>{m?he(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(he(Zt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),he(Zt,`RPC '${e}' stream ${i} sending:`,b),f.send(b))},ho:()=>f.close()}),E=(b,_,v)=>{b.listen(_,x=>{try{v(x)}catch(P){setTimeout(()=>{throw P},0)}})};return E(f,Ac.EventType.OPEN,()=>{m||(he(Zt,`RPC '${e}' stream ${i} transport opened.`),y.mo())}),E(f,Ac.EventType.CLOSE,()=>{m||(m=!0,he(Zt,`RPC '${e}' stream ${i} transport closed`),y.po())}),E(f,Ac.EventType.ERROR,b=>{m||(m=!0,gl(Zt,`RPC '${e}' stream ${i} transport errored:`,b),y.po(new oe(z.UNAVAILABLE,"The operation could not be completed")))}),E(f,Ac.EventType.MESSAGE,b=>{var _;if(!m){const v=b.data[0];nt(!!v);const x=v,P=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(P){he(Zt,`RPC '${e}' stream ${i} received error:`,P);const O=P.status;let $=function(I){const R=St[I];if(R!==void 0)return VP(R)}(O),T=P.message;$===void 0&&($=z.INTERNAL,T="Unknown error status: "+O+" with message "+P.message),m=!0,y.po(new oe($,T)),f.close()}else he(Zt,`RPC '${e}' stream ${i} received:`,v),y.yo(v)}}),E(a,uP.STAT_EVENT,b=>{b.stat===Ky.PROXY?he(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Ky.NOPROXY&&he(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function gv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t){return new r6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new XP(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new oe(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K6 extends YP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=o6(this.serializer,e),r=function(s){if(!("targetChange"in s))return Te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?Gr(o.readTime):Te.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=n_(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Yy(l)?{documents:c6(s,l)}:{query:u6(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=UP(s,o.resumeToken);const u=Zy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Te.min())>0){a.readTime=vp(s,o.snapshotVersion.toTimestamp());const u=Zy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=f6(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=n_(this.serializer),n.removeTarget=e,this.i_(n)}}class G6 extends YP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=l6(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.A_(r,n)}return nt(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=n_(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a6(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new oe(z.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,e_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(z.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,e_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(z.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class X6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ci(n),this.y_=!1):he("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{Ko(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.M_.add(4),await Dd(u),u.N_.set("Unknown"),u.M_.delete(4),await qm(u)}(this))})}),this.N_=new X6(r,i)}}async function qm(t){if(Ko(t))for(const e of t.x_)await e(!0)}async function Dd(t){for(const e of t.x_)await e(!1)}function JP(t,e){const n=Ce(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),h0(n)?f0(n):jl(n).Xo()&&d0(n,e))}function u0(t,e){const n=Ce(t),r=jl(n);n.F_.delete(e),r.Xo()&&ZP(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ko(n)&&n.N_.set("Unknown"))}function d0(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).P_(e)}function ZP(t,e){t.L_.xe(e),jl(t).I_(e)}function f0(t){t.L_=new Z4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.N_.w_()}function h0(t){return Ko(t)&&!jl(t).Zo()&&t.F_.size>0}function Ko(t){return Ce(t).M_.size===0}function eA(t){t.L_=void 0}async function J6(t){t.N_.set("Online")}async function Z6(t){t.F_.forEach((e,n)=>{d0(t,e)})}async function ej(t,e){eA(t),h0(t)?(t.N_.D_(e),f0(t)):t.N_.set("Unknown")}async function tj(t,e,n){if(t.N_.set("Online"),e instanceof jP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yp(t,r)}else if(e instanceof dh?t.L_.Ke(e):e instanceof FP?t.L_.He(e):t.L_.We(e),!n.isEqual(Te.min()))try{const r=await QP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(u);d&&s.F_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(an.EMPTY_BYTE_STRING,d.snapshotVersion)),ZP(s,l);const f=new os(d.target,l,u,d.sequenceNumber);d0(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await yp(t,r)}}async function yp(t,e,n){if(!Ad(e))throw e;t.M_.add(1),await Dd(t),t.N_.set("Offline"),n||(n=()=>QP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await qm(t)})}function tA(t,e){return e().catch(n=>yp(t,n,e))}async function Km(t){const e=Ce(t),n=Ps(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;nj(e);)try{const i=await F6(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,rj(e,i)}catch(i){await yp(e,i)}nA(e)&&rA(e)}function nj(t){return Ko(t)&&t.v_.length<10}function rj(t,e){t.v_.push(e);const n=Ps(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function nA(t){return Ko(t)&&!Ps(t).Zo()&&t.v_.length>0}function rA(t){Ps(t).start()}async function ij(t){Ps(t).V_()}async function sj(t){const e=Ps(t);for(const n of t.v_)e.d_(n.mutations)}async function oj(t,e,n){const r=t.v_.shift(),i=i0.from(r,e,n);await tA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Km(t)}async function aj(t,e){e&&Ps(t).E_&&await async function(r,i){if(function(o){return X4(o)&&o!==z.ABORTED}(i.code)){const s=r.v_.shift();Ps(r).t_(),await tA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Km(r)}}(t,e),nA(t)&&rA(t)}async function FS(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Ko(n);n.M_.add(3),await Dd(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await qm(n)}async function lj(t,e){const n=Ce(t);e?(n.M_.delete(2),await qm(n)):e||(n.M_.add(2),await Dd(n),n.N_.set("Unknown"))}function jl(t){return t.B_||(t.B_=function(n,r,i){const s=Ce(n);return s.f_(),new K6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:J6.bind(null,t),To:Z6.bind(null,t),Ao:ej.bind(null,t),h_:tj.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),h0(t)?f0(t):t.N_.set("Unknown")):(await t.B_.stop(),eA(t))})),t.B_}function Ps(t){return t.k_||(t.k_=function(n,r,i){const s=Ce(n);return s.f_(),new G6(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:ij.bind(null,t),Ao:aj.bind(null,t),R_:sj.bind(null,t),A_:oj.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Km(t)):(await t.k_.stop(),t.v_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new p0(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function m0(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),Ad(t))return new oe(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=kc(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new Ka(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.q_=new mt(_e.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):xe():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class El{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new El(e,n,Ka.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class uj{constructor(){this.queries=new Fl(e=>TP(e),kd),this.onlineState="Unknown",this.z_=new Set}}async function iA(t,e){const n=Ce(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new cj,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=m0(o,`Initialization of query '${fa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&g0(n)}async function sA(t,e){const n=Ce(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dj(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&g0(n)}function fj(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function g0(t){t.z_.forEach(e=>{e.next()})}var i_,US;(US=i_||(i_={})).J_="default",US.Cache="cache";class oA{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new El(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==i_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.key=e}}class lA{constructor(e){this.key=e}}class hj{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Le(),this.mutatedKeys=Le(),this.Ia=IP(e),this.Ta=new Ka(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new jS,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),m=Um(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),E=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;h&&m?h.data.isEqual(m.data)?y!==E&&(r.track({type:3,doc:m}),b=!0):this.Ra(h,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.Ia(m,l)>0||u&&this.Ia(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),b=!0):h&&!m&&(r.track({type:1,doc:h}),b=!0,(l||u)&&(a=!0)),b&&(m?(o=o.add(m),s=E?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,f)=>function(m,y){const E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return E(m)-E(y)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new El(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new jS,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Le(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new lA(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new aA(r))}),n}pa(e){this.la=e.hs,this.Pa=Le();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return El.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class pj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mj{constructor(e){this.key=e,this.wa=!1}}class gj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Fl(a=>TP(a),kd),this.Da=new Map,this.Ca=new Set,this.va=new mt(_e.comparator),this.Fa=new Map,this.Ma=new a0,this.xa={},this.Oa=new Map,this.Na=wl.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function vj(t,e,n=!0){const r=pA(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await cA(r,e,n,!0),i}async function yj(t,e){const n=pA(t);await cA(n,e,!0,!1)}async function cA(t,e,n,r){const i=await j6(t.localStore,Kr(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await _j(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&JP(t.remoteStore,i),a}async function _j(t,e,n,r,i){t.Ba=(f,h,m)=>async function(E,b,_,v){let x=b.view.da(_);x.Xi&&(x=await LS(E.localStore,b.query,!1).then(({documents:T})=>b.view.da(T,x)));const P=v&&v.targetChanges.get(b.targetId),O=v&&v.targetMismatches.get(b.targetId)!=null,$=b.view.applyChanges(x,E.isPrimaryClient,P,O);return BS(E,b.targetId,$.fa),$.snapshot}(t,f,h,m);const s=await LS(t.localStore,e,!0),o=new hj(e,s.hs),a=o.da(s.documents),l=Nd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);BS(t,n,u.fa);const d=new pj(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function wj(t,e,n){const r=Ce(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!kd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await r_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&u0(r.remoteStore,i.targetId),s_(r,i.targetId)}).catch(Pd)):(s_(r,i.targetId),await r_(r.localStore,i.targetId,!0))}async function Ej(t,e){const n=Ce(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),u0(n.remoteStore,r.targetId))}async function bj(t,e,n){const r=Pj(t);try{const i=await function(o,a){const l=Ce(o),u=Ot.now(),d=a.reduce((m,y)=>m.add(y.key),Le());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Ri(),E=Le();return l.os.getEntries(m,d).next(b=>{y=b,y.forEach((_,v)=>{v.isValidDocument()||(E=E.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(b=>{f=b;const _=[];for(const v of a){const x=H4(v,f.get(v.key).overlayedDocument);x!=null&&_.push(new Ks(v.key,x,vP(x.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(b=>{h=b;const _=b.applyToLocalDocumentSet(f,E);return l.documentOverlayCache.saveOverlays(m,b.batchId,_)})}).then(()=>({batchId:h.batchId,changes:RP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.xa[o.currentUser.toKey()];u||(u=new mt(qe)),u=u.insert(a,l),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),await $d(r,i.changes),await Km(r.remoteStore)}catch(i){const s=m0(i,"Failed to persist write");n.reject(s)}}async function uA(t,e){const n=Ce(t);try{const r=await M6(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?nt(o.wa):i.removedDocuments.size>0&&(nt(o.wa),o.wa=!1))}),await $d(n,r,e)}catch(r){await Pd(r)}}function zS(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.U_)h.j_(a)&&(u=!0)}),u&&g0(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Sj(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new mt(_e.comparator);o=o.insert(s,sn.newNoDocument(s,Te.min()));const a=Le().add(s),l=new Wm(Te.min(),new Map,new mt(qe),o,a);await uA(r,l),r.va=r.va.remove(s),r.Fa.delete(e),v0(r)}else await r_(r.localStore,e,!1).then(()=>s_(r,e,n)).catch(Pd)}async function xj(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await L6(n.localStore,e);fA(n,r,null),dA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $d(n,i)}catch(i){await Pd(i)}}async function Tj(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(nt(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);fA(r,e,n),dA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $d(r,i)}catch(i){await Pd(i)}}function dA(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function fA(t,e,n){const r=Ce(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function s_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||hA(t,r)})}function hA(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(u0(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),v0(t))}function BS(t,e,n){for(const r of n)r instanceof aA?(t.Ma.addReference(r.key,e),Ij(t,r)):r instanceof lA?(he("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||hA(t,r.key)):xe()}function Ij(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(he("SyncEngine","New document in limbo: "+n),t.Ca.add(r),v0(t))}function v0(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new _e(ot.fromString(e)),r=t.Na.next();t.Fa.set(r,new mj(n)),t.va=t.va.insert(n,r),JP(t.remoteStore,new os(Kr(n0(n.path)),r,"TargetPurposeLimboResolution",Xw.oe))}}async function $d(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const d=c0.Ki(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,u){const d=Ce(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(u,h=>H.forEach(h.qi,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>H.forEach(h.Qi,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Ad(f))throw f;he("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.ns.get(h),y=m.snapshotVersion,E=m.withLastLimboFreeSnapshotVersion(y);d.ns=d.ns.insert(h,E)}}}(r.localStore,s))}async function Cj(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await GP(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new oe(z.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $d(n,r.us)}}function Rj(t,e){const n=Ce(t),r=n.Fa.get(e);if(r&&r.wa)return Le().add(r.key);{let i=Le();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function pA(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sj.bind(null,e),e.Sa.h_=dj.bind(null,e.eventManager),e.Sa.ka=fj.bind(null,e.eventManager),e}function Pj(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tj.bind(null,e),e}class WS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Hm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return $6(this.persistence,new N6,e.initialUser,this.serializer)}createPersistence(e){return new A6(l0.Hr,this.serializer)}createSharedClientState(e){return new z6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Aj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cj.bind(null,this.syncEngine),await lj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uj}()}createDatastore(e){const n=Hm(e.databaseInfo.databaseId),r=function(s){return new q6(s)}(e.databaseInfo);return function(s,o,a,l){return new Q6(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Y6(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>zS(this.syncEngine,n,0),function(){return VS.D()?new VS:new B6}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new gj(i,s,o,a,l,u);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ce(r);he("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Dd(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nn.UNAUTHENTICATED,this.clientId=pP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{he("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(he("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new oe(z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=m0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vv(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function HS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nj(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FS(e.remoteStore,i)),t._onlineComponents=e}function Oj(t){return t.name==="FirebaseError"?t.code===z.FAILED_PRECONDITION||t.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Nj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await vv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Oj(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await vv(t,new WS)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await vv(t,new WS);return t._offlineComponents}async function gA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await HS(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await HS(t,new Aj))),t._onlineComponents}function Dj(t){return gA(t).then(e=>e.syncEngine)}async function o_(t){const e=await gA(t),n=e.eventManager;return n.onListen=vj.bind(null,e.syncEngine),n.onUnlisten=wj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ej.bind(null,e.syncEngine),n}function $j(t,e,n={}){const r=new ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new mA({next:h=>{o.enqueueAndForget(()=>sA(s,f)),h.fromCache&&l.source==="server"?u.reject(new oe(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new oA(a,d,{includeMetadataChanges:!0,ra:!0});return iA(s,f)}(await o_(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t,e,n){if(!n)throw new oe(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Lj(t,e,n,r){if(e===!0&&r===!0)throw new oe(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KS(t){if(!_e.isDocumentKey(t))throw new oe(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GS(t){if(_e.isDocumentKey(t))throw new oe(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe()}function Es(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gm(t);throw new oe(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new oe(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new oe(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QS(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t4;switch(r.type){case"firstParty":return new s4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=qS.get(n);r&&(he("ComponentProvider","Removing Datastore"),qS.delete(n),r.terminate())}(this),Promise.resolve()}}function Mj(t,e,n,r={}){var i;const s=(t=Es(t,Qm))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=nn.MOCK_USER;else{a=pM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new oe(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new nn(u)}t._authCredentials=new n4(new hP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cr(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class bs extends Cr{constructor(e,n,r){super(e,n,n0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new _e(e))}withConverter(e){return new bs(this.firestore,e,this._path)}}function Ga(t,e,...n){if(t=_t(t),yA("collection","path",e),t instanceof Qm){const r=ot.fromString(e,...n);return GS(r),new bs(t,null,r)}{if(!(t instanceof Mn||t instanceof bs))throw new oe(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return GS(r),new bs(t.firestore,null,r)}}function _A(t,e,...n){if(t=_t(t),arguments.length===1&&(e=pP.newId()),yA("doc","path",e),t instanceof Qm){const r=ot.fromString(e,...n);return KS(r),new Mn(t,null,new _e(r))}{if(!(t instanceof Mn||t instanceof bs))throw new oe(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return KS(r),new Mn(t.firestore,t instanceof bs?t.converter:null,new _e(r))}}function Vj(t,e){return t=_t(t),e=_t(e),t instanceof Cr&&e instanceof Cr&&t.firestore===e.firestore&&kd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new XP(this,"async_queue_retry"),this.hu=()=>{const n=gv();n&&he("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=gv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=gv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ws;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Ad(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=p0.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&xe()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function XS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class bl extends Qm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Fj}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wA(this),this._firestoreClient.terminate()}}function jj(t,e){const n=xR(),r="(default)",i=jw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fM("firestore");s&&Mj(i,...s)}return i}function Xm(t){return t._firestoreClient||wA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wA(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new y4(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,vA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new kj(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sl(an.fromBase64String(e))}catch(n){throw new oe(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sl(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=/^__.*__$/;class zj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Od(e,this.data,n,this.fieldTransforms)}}class EA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class w0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new w0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return _p(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(bA(this.fu)&&Uj.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Bj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hm(e)}Fu(e,n,r,i=!1){return new w0({fu:e,methodName:n,vu:r,path:Ut.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E0(t){const e=t._freezeSettings(),n=Hm(t._databaseId);return new Bj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SA(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);b0("Data must be an object, but it was:",o,r);const a=xA(r,o);let l,u;if(s.merge)l=new Dn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const h=a_(e,f,n);if(!o.contains(h))throw new oe(z.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);IA(d,h)||d.push(h)}l=new Dn(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new zj(new wn(a),l,u)}class Jm extends y0{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jm}}function Wj(t,e,n,r){const i=t.Fu(1,e,n);b0("Data must be an object, but it was:",i,r);const s=[],o=wn.empty();qo(r,(l,u)=>{const d=S0(e,l,n);u=_t(u);const f=i.Su(d);if(u instanceof Jm)s.push(d);else{const h=Ld(u,f);h!=null&&(s.push(d),o.set(d,h))}});const a=new Dn(s);return new EA(o,a,i.fieldTransforms)}function Hj(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[a_(e,r,n)],l=[i];if(s.length%2!=0)throw new oe(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(a_(e,s[h])),l.push(s[h+1]);const u=[],d=wn.empty();for(let h=a.length-1;h>=0;--h)if(!IA(u,a[h])){const m=a[h];let y=l[h];y=_t(y);const E=o.Su(m);if(y instanceof Jm)u.push(m);else{const b=Ld(y,E);b!=null&&(u.push(m),d.set(m,b))}}const f=new Dn(u);return new EA(d,f,o.fieldTransforms)}function qj(t,e,n,r=!1){return Ld(n,t.Fu(r?4:3,e))}function Ld(t,e){if(TA(t=_t(t)))return b0("Unsupported field value:",e,t),xA(t,e);if(t instanceof y0)return function(r,i){if(!bA(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ld(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ot.fromDate(r);return{timestampValue:vp(i.serializer,s)}}if(r instanceof Ot){const s=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vp(i.serializer,s)}}if(r instanceof _0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sl)return{bytesValue:UP(i.serializer,r._byteString)};if(r instanceof Mn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:o0(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Gm(r)}`)}(t,e)}function xA(t,e){const n={};return mP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,(r,i)=>{const s=Ld(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function TA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof _0||t instanceof Sl||t instanceof Mn||t instanceof y0)}function b0(t,e,n){if(!TA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Gm(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function a_(t,e,n){if((e=_t(e))instanceof Ym)return e._internalPath;if(typeof e=="string")return S0(t,e);throw _p("Field path arguments must be of type string or ",t,!1,void 0,n)}const Kj=new RegExp("[~\\*/\\[\\]]");function S0(t,e,n){if(e.search(Kj)>=0)throw _p(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ym(...e.split("."))._internalPath}catch{throw _p(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _p(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(z.INVALID_ARGUMENT,a+t+l)}function IA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gj extends CA{data(){return super.data()}}function x0(t,e){return typeof e=="string"?S0(t,e):e instanceof Ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class T0{}class I0 extends T0{}function Qa(t,e,...n){let r=[];e instanceof T0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof R0).length,a=s.filter(l=>l instanceof C0).length;if(o>1||o>0&&a>0)throw new oe(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class C0 extends I0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new C0(e,n,r)}_apply(e){const n=this._parse(e);return PA(e._query,n),new Cr(e.firestore,e.converter,Jy(e._query,n))}_parse(e){const n=E0(e.firestore);return function(s,o,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new oe(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){JS(f,d);const m=[];for(const y of f)m.push(YS(l,s,y));h={arrayValue:{values:m}}}else h=YS(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||JS(f,d),h=qj(a,o,f,d==="in"||d==="not-in");return It.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class R0 extends T0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new R0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)PA(o,l),o=Jy(o,l)}(e._query,n),new Cr(e.firestore,e.converter,Jy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P0 extends I0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new P0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new oe(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new oe(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fu(s,o)}(e._query,this._field,this._direction);return new Cr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Vl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function l_(t,e="asc"){const n=e,r=x0("orderBy",t);return P0._create(r,n)}class A0 extends I0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new A0(e,n,r)}_apply(e){return new Cr(e.firestore,e.converter,pp(e._query,this._limit,this._limitType))}}function c_(t){return A0._create("limit",t,"F")}function YS(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new oe(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xP(e)&&n.indexOf("/")!==-1)throw new oe(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!_e.isDocumentKey(r))throw new oe(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _S(t,new _e(r))}if(n instanceof Mn)return _S(t,n._key);throw new oe(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gm(n)}.`)}function JS(t,e){if(!Array.isArray(t)||t.length===0)throw new oe(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PA(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new oe(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Qj{convertValue(e,n="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw xe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new _0(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const n=Rs(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);nt(KP(r));const i=new Mu(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||Ci(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kA extends CA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(x0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fh extends kA{data(e={}){return super.data(e)}}class OA{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Nc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fh(this._firestore,this._userDataWriter,r.key,r,new Nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new fh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Nc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new fh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Nc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Xj(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Xj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class k0 extends Qj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function Yj(t){t=Es(t,Cr);const e=Es(t.firestore,bl),n=Xm(e),r=new k0(e);return RA(t._query),$j(n,t._query).then(i=>new OA(e,r,t,i))}function wp(t,e){const n=Es(t.firestore,bl),r=_A(t),i=AA(t.converter,e);return NA(n,[SA(E0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function ZS(t,...e){var n,r,i;t=_t(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||XS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(XS(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof Mn)u=Es(t.firestore,bl),d=n0(t._key.path),l={next:f=>{e[o]&&e[o](Jj(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Es(t,Cr);u=Es(f.firestore,bl),d=f._query;const h=new k0(u);l={next:m=>{e[o]&&e[o](new OA(u,h,f,m))},error:e[o+1],complete:e[o+2]},RA(t._query)}return function(h,m,y,E){const b=new mA(E),_=new oA(m,b,y);return h.asyncQueue.enqueueAndForget(async()=>iA(await o_(h),_)),()=>{b.$a(),h.asyncQueue.enqueueAndForget(async()=>sA(await o_(h),_))}}(Xm(u),d,a,l)}function NA(t,e){return function(r,i){const s=new ws;return r.asyncQueue.enqueueAndForget(async()=>bj(await Dj(r),i,s)),s.promise}(Xm(t),e)}function Jj(t,e,n){const r=n.docs.get(e._key),i=new k0(t);return new kA(t,i,e._key,r,new Nc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=E0(e)}set(e,n,r){this._verifyNotCommitted();const i=yv(e,this._firestore),s=AA(i.converter,n,r),o=SA(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Xn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=yv(e,this._firestore);let o;return o=typeof(n=_t(n))=="string"||n instanceof Ym?Hj(this._dataReader,"WriteBatch.update",s._key,n,r,i):Wj(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Xn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=yv(e,this._firestore);return this._mutations=this._mutations.concat(new r0(n._key,Xn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yv(t,e){if((t=_t(t)).firestore!==e)throw new oe(z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){return Xm(t=Es(t,bl)),new Zj(t,e=>NA(t,e))}(function(e,n=!0){(function(i){Ml=i})($l),pl(new Co("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new bl(new r4(r.getProvider("auth-internal")),new a4(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),_s(mS,"4.6.2",e),_s(mS,"4.6.2","esm2017")})();var ra={BASE_URL:"/react-ai-chat-app/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const t9={apiKey:ra.VITE_FIREBASE_API_KEY,authDomain:ra.VITE_FIREBASE_AUTH_DOMAIN,projectId:ra.VITE_FIREBASE_PROJECT_ID,storageBucket:ra.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:ra.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:ra.VITE_FIREBASE_APP_ID};SR(t9);const Md=YF(),Ss=jj();function DA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=DA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function n9(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=DA(t))&&(r&&(r+=" "),r+=e);return r}const O0="-";function r9(t){const e=s9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function i(o){const a=o.split(O0);return a[0]===""&&a.length!==1&&a.shift(),$A(a,e)||i9(o)}function s(o,a){const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:s}}function $A(t,e){var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?$A(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(O0);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId}const ex=/^\[(.+)\]$/;function i9(t){if(ex.test(t)){const e=ex.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function s9(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return a9(Object.entries(t.classGroups),n).forEach(([s,o])=>{u_(o,r,s,e)}),r}function u_(t,e,n,r){t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:tx(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(o9(i)){u_(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{u_(o,tx(e,s),n,r)})})}function tx(t,e){let n=t;return e.split(O0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function o9(t){return t.isThemeGetter}function a9(t,e){return e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t}function l9(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}}const LA="!";function c9(t){const e=t.separator,n=e.length===1,r=e[0],i=e.length;return function(o){const a=[];let l=0,u=0,d;for(let E=0;E<o.length;E++){let b=o[E];if(l===0){if(b===r&&(n||o.slice(E,E+i)===e)){a.push(o.slice(u,E)),u=E+i;continue}if(b==="/"){d=E;continue}}b==="["?l++:b==="]"&&l--}const f=a.length===0?o:o.substring(u),h=f.startsWith(LA),m=h?f.substring(1):f,y=d&&d>u?d-u:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:y}}}function u9(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function d9(t){return{cache:l9(t.cacheSize),splitModifiers:c9(t),...r9(t)}}const f9=/\s+/;function h9(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=new Set;return t.trim().split(f9).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=n(o);let f=r(d?u.substring(0,d):u),h=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:o};if(f=r(u),!f)return{isTailwindClass:!1,originalClassName:o};h=!1}const m=u9(a).join(":");return{isTailwindClass:!0,modifierId:l?m+LA:m,classGroupId:f,originalClassName:o,hasPostfixModifier:h}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:u}=o,d=a+l;return s.has(d)?!1:(s.add(d),i(l,u).forEach(f=>s.add(a+f)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function p9(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MA(e))&&(r&&(r+=" "),r+=n);return r}function MA(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MA(t[r]))&&(n&&(n+=" "),n+=e);return n}function m9(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((d,f)=>f(d),t());return n=d9(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=h9(l,n);return i(l,d),d}return function(){return s(p9.apply(null,arguments))}}function it(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const VA=/^\[(?:([a-z-]+):)?(.+)\]$/i,g9=/^\d+\/\d+$/,v9=new Set(["px","full","screen"]),y9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,E9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,b9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function oi(t){return uo(t)||v9.has(t)||g9.test(t)}function zi(t){return Ul(t,"length",A9)}function uo(t){return!!t&&!Number.isNaN(Number(t))}function Af(t){return Ul(t,"number",uo)}function vc(t){return!!t&&Number.isInteger(Number(t))}function S9(t){return t.endsWith("%")&&uo(t.slice(0,-1))}function Pe(t){return VA.test(t)}function Bi(t){return y9.test(t)}const x9=new Set(["length","size","percentage"]);function T9(t){return Ul(t,x9,FA)}function I9(t){return Ul(t,"position",FA)}const C9=new Set(["image","url"]);function R9(t){return Ul(t,C9,O9)}function P9(t){return Ul(t,"",k9)}function yc(){return!0}function Ul(t,e,n){const r=VA.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function A9(t){return _9.test(t)&&!w9.test(t)}function FA(){return!1}function k9(t){return E9.test(t)}function O9(t){return b9.test(t)}function N9(){const t=it("colors"),e=it("spacing"),n=it("blur"),r=it("brightness"),i=it("borderColor"),s=it("borderRadius"),o=it("borderSpacing"),a=it("borderWidth"),l=it("contrast"),u=it("grayscale"),d=it("hueRotate"),f=it("invert"),h=it("gap"),m=it("gradientColorStops"),y=it("gradientColorStopPositions"),E=it("inset"),b=it("margin"),_=it("opacity"),v=it("padding"),x=it("saturate"),P=it("scale"),O=it("sepia"),$=it("skew"),T=it("space"),S=it("translate"),I=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Pe,e],k=()=>[Pe,e],A=()=>["",oi,zi],G=()=>["auto",uo,Pe],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],pe=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Pe],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[uo,Af],B=()=>[uo,Pe];return{cacheSize:500,separator:":",theme:{colors:[yc],spacing:[oi,zi],blur:["none","",Bi,Pe],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Bi,Pe],borderSpacing:k(),borderWidth:A(),contrast:ce(),grayscale:U(),hueRotate:B(),invert:U(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[S9,zi],inset:D(),margin:D(),opacity:ce(),padding:k(),saturate:ce(),scale:ce(),sepia:U(),skew:B(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[Bi]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Pe]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vc,Pe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",vc,Pe]}],"grid-cols":[{"grid-cols":[yc]}],"col-start-end":[{col:["auto",{span:["full",vc,Pe]},Pe]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[yc]}],"row-start-end":[{row:["auto",{span:[vc,Pe]},Pe]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,e]}],"min-w":[{"min-w":[Pe,e,"min","max","fit"]}],"max-w":[{"max-w":[Pe,e,"none","full","min","max","fit","prose",{screen:[Bi]},Bi]}],h:[{h:[Pe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Bi,zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Af]}],"font-family":[{font:[yc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",uo,Af]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oi,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oi,zi]}],"underline-offset":[{"underline-offset":["auto",oi,Pe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),I9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...pe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:pe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...pe()]}],"outline-offset":[{"outline-offset":[oi,Pe]}],"outline-w":[{outline:[oi,zi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[oi,zi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Bi,P9]}],"shadow-color":[{shadow:[yc]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Bi,Pe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[vc,Pe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[oi,zi,Af]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const D9=m9(N9);function Ye(...t){return D9(n9(t))}function $9(t){if(t.current){const e=t.current.lastElementChild;if(e){const n={behavior:"smooth",block:"end"};e.scrollIntoView(n)}}}const Er=g.forwardRef(({className:t,...e},n)=>N.jsx("div",{ref:n,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Er.displayName="Card";const N0=g.forwardRef(({className:t,...e},n)=>N.jsx("div",{ref:n,className:Ye("flex flex-col space-y-1.5 p-6",t),...e}));N0.displayName="CardHeader";const D0=g.forwardRef(({className:t,...e},n)=>N.jsx("h3",{ref:n,className:Ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));D0.displayName="CardTitle";const zu=g.forwardRef(({className:t,...e},n)=>N.jsx("p",{ref:n,className:Ye("text-sm text-muted-foreground",t),...e}));zu.displayName="CardDescription";const $0=g.forwardRef(({className:t,...e},n)=>N.jsx("div",{ref:n,className:Ye("p-6 pt-0",t),...e}));$0.displayName="CardContent";const L0=g.forwardRef(({className:t,...e},n)=>N.jsx("div",{ref:n,className:Ye("flex items-center p-6 pt-0",t),...e}));L0.displayName="CardFooter";function fe(){return fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fe.apply(this,arguments)}function L9(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Zm(...t){return e=>t.forEach(n=>L9(n,e))}function qt(...t){return g.useCallback(Zm(...t),t)}const As=g.forwardRef((t,e)=>{const{children:n,...r}=t,i=g.Children.toArray(n),s=i.find(M9);if(s){const o=s.props.children,a=i.map(l=>l===s?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return g.createElement(d_,fe({},r,{ref:e}),g.isValidElement(o)?g.cloneElement(o,void 0,a):null)}return g.createElement(d_,fe({},r,{ref:e}),n)});As.displayName="Slot";const d_=g.forwardRef((t,e)=>{const{children:n,...r}=t;return g.isValidElement(n)?g.cloneElement(n,{...V9(r,n.props),ref:e?Zm(e,n.ref):n.ref}):g.Children.count(n)>1?g.Children.only(null):null});d_.displayName="SlotClone";const jA=({children:t})=>g.createElement(g.Fragment,null,t);function M9(t){return g.isValidElement(t)&&t.type===jA}function V9(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function UA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=UA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function F9(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=UA(t))&&(r&&(r+=" "),r+=e);return r}const nx=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,rx=F9,zA=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return rx(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const h=nx(d)||nx(f);return i[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[E,b]=y;return Array.isArray(b)?b.includes({...s,...a}[E]):{...s,...a}[E]===b})?[...u,f,h]:u},[]);return rx(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},j9=zA("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ks=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?As:"button";return N.jsx(o,{className:Ye(j9({variant:e,size:n,className:t})),ref:s,...i})});ks.displayName="Button";var Vd=t=>t.type==="checkbox",Na=t=>t instanceof Date,fn=t=>t==null;const BA=t=>typeof t=="object";var Nt=t=>!fn(t)&&!Array.isArray(t)&&BA(t)&&!Na(t),WA=t=>Nt(t)&&t.target?Vd(t.target)?t.target.checked:t.target.value:t,U9=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,HA=(t,e)=>t.has(U9(e)),z9=t=>{const e=t.constructor&&t.constructor.prototype;return Nt(e)&&e.hasOwnProperty("isPrototypeOf")},M0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(M0&&(t instanceof Blob||t instanceof FileList))&&(n||Nt(t)))if(e=n?[]:{},!n&&!z9(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=vn(t[r]));else return t;return e}var Fd=t=>Array.isArray(t)?t.filter(Boolean):[],yt=t=>t===void 0,J=(t,e,n)=>{if(!e||!Nt(t))return n;const r=Fd(e.split(/[,[\].]+?/)).reduce((i,s)=>fn(i)?i:i[s],t);return yt(r)||r===t?yt(t[e])?n:t[e]:r},mr=t=>typeof t=="boolean";const Ep={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},gr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qA=we.createContext(null),eg=()=>we.useContext(qA),B9=t=>{const{children:e,...n}=t;return we.createElement(qA.Provider,{value:n},e)};var KA=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==gr.all&&(e._proxyFormState[o]=!r||gr.all),n&&(n[o]=!0),t[o]}});return i},Pn=t=>Nt(t)&&!Object.keys(t).length,GA=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Pn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||gr.all))},hh=t=>Array.isArray(t)?t:[t],QA=(t,e,n)=>!t||!e||t===e||hh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function V0(t){const e=we.useRef(t);e.current=t,we.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function W9(t){const e=eg(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=we.useState(n._formState),l=we.useRef(!0),u=we.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=we.useRef(i);return d.current=i,V0({disabled:r,next:f=>l.current&&QA(d.current,f.name,s)&&GA(f,u.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),we.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),KA(o,n,u.current,!1)}var jr=t=>typeof t=="string",XA=(t,e,n,r,i)=>jr(t)?(r&&e.watch.add(t),J(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),J(n,s))):(r&&(e.watchAll=!0),n);function H9(t){const e=eg(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=we.useRef(r);a.current=r,V0({disabled:s,subject:n._subjects.values,next:d=>{QA(a.current,d.name,o)&&u(vn(XA(a.current,n._names,d.values||n._formValues,!1,i)))}});const[l,u]=we.useState(n._getWatch(r,i));return we.useEffect(()=>n._removeUnmounted()),l}var F0=t=>/^\w*$/.test(t),YA=t=>Fd(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ke=(t,e,n)=>{let r=-1;const i=F0(e)?[e]:YA(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Nt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t};function q9(t){const e=eg(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=HA(i._names.array,n),a=H9({control:i,name:n,defaultValue:J(i._formValues,n,J(i._defaultValues,n,t.defaultValue)),exact:!0}),l=W9({control:i,name:n}),u=we.useRef(i.register(n,{...t.rules,value:a,...mr(t.disabled)?{disabled:t.disabled}:{}}));return we.useEffect(()=>{const d=i._options.shouldUnregister||s,f=(h,m)=>{const y=J(i._fields,h);y&&(y._f.mount=m)};if(f(n,!0),d){const h=vn(J(i._options.defaultValues,n));Ke(i._defaultValues,n,h),yt(J(i._formValues,n))&&Ke(i._formValues,n,h)}return()=>{(o?d&&!i._state.action:d)?i.unregister(n):f(n,!1)}},[n,i,o,s]),we.useEffect(()=>{J(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:J(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...mr(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:we.useCallback(d=>u.current.onChange({target:{value:WA(d),name:n},type:Ep.CHANGE}),[n]),onBlur:we.useCallback(()=>u.current.onBlur({target:{value:J(i._formValues,n),name:n},type:Ep.BLUR}),[n,i]),ref:d=>{const f=J(i._fields,n);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:h=>d.setCustomValidity(h),reportValidity:()=>d.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!J(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!J(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!J(l.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!J(l.validatingFields,n)},error:{enumerable:!0,get:()=>J(l.errors,n)}})}}const K9=t=>t.render(q9(t));var JA=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},ix=t=>({isOnSubmit:!t||t===gr.onSubmit,isOnBlur:t===gr.onBlur,isOnChange:t===gr.onChange,isOnAll:t===gr.all,isOnTouch:t===gr.onTouched}),sx=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const lu=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=J(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;lu(a,e)}else Nt(a)&&lu(a,e)}}};var G9=(t,e,n)=>{const r=Fd(J(t,n));return Ke(r,"root",e[n]),Ke(t,n,r),t},j0=t=>t.type==="file",as=t=>typeof t=="function",bp=t=>{if(!M0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ph=t=>jr(t),U0=t=>t.type==="radio",Sp=t=>t instanceof RegExp;const ox={value:!1,isValid:!1},ax={value:!0,isValid:!0};var ZA=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!yt(t[0].attributes.value)?yt(t[0].value)||t[0].value===""?ax:{value:t[0].value,isValid:!0}:ax:ox}return ox};const lx={isValid:!1,value:null};var ek=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,lx):lx;function cx(t,e,n="validate"){if(ph(t)||Array.isArray(t)&&t.every(ph)||mr(t)&&!t)return{type:n,message:ph(t)?t:"",ref:e}}var ia=t=>Nt(t)&&!Sp(t)?t:{value:t,message:""},ux=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:d,max:f,pattern:h,validate:m,name:y,valueAsNumber:E,mount:b,disabled:_}=t._f,v=J(e,y);if(!b||_)return{};const x=o?o[0]:s,P=k=>{r&&x.reportValidity&&(x.setCustomValidity(mr(k)?"":k||""),x.reportValidity())},O={},$=U0(s),T=Vd(s),S=$||T,I=(E||j0(s))&&yt(s.value)&&yt(v)||bp(s)&&s.value===""||v===""||Array.isArray(v)&&!v.length,R=JA.bind(null,y,n,O),D=(k,A,G,Y=ai.maxLength,pe=ai.minLength)=>{const le=k?A:G;O[y]={type:k?Y:pe,message:le,ref:s,...R(k?Y:pe,le)}};if(i?!Array.isArray(v)||!v.length:a&&(!S&&(I||fn(v))||mr(v)&&!v||T&&!ZA(o).isValid||$&&!ek(o).isValid)){const{value:k,message:A}=ph(a)?{value:!!a,message:a}:ia(a);if(k&&(O[y]={type:ai.required,message:A,ref:x,...R(ai.required,A)},!n))return P(A),O}if(!I&&(!fn(d)||!fn(f))){let k,A;const G=ia(f),Y=ia(d);if(!fn(v)&&!isNaN(v)){const pe=s.valueAsNumber||v&&+v;fn(G.value)||(k=pe>G.value),fn(Y.value)||(A=pe<Y.value)}else{const pe=s.valueAsDate||new Date(v),le=Z=>new Date(new Date().toDateString()+" "+Z),W=s.type=="time",U=s.type=="week";jr(G.value)&&v&&(k=W?le(v)>le(G.value):U?v>G.value:pe>new Date(G.value)),jr(Y.value)&&v&&(A=W?le(v)<le(Y.value):U?v<Y.value:pe<new Date(Y.value))}if((k||A)&&(D(!!k,G.message,Y.message,ai.max,ai.min),!n))return P(O[y].message),O}if((l||u)&&!I&&(jr(v)||i&&Array.isArray(v))){const k=ia(l),A=ia(u),G=!fn(k.value)&&v.length>+k.value,Y=!fn(A.value)&&v.length<+A.value;if((G||Y)&&(D(G,k.message,A.message),!n))return P(O[y].message),O}if(h&&!I&&jr(v)){const{value:k,message:A}=ia(h);if(Sp(k)&&!v.match(k)&&(O[y]={type:ai.pattern,message:A,ref:s,...R(ai.pattern,A)},!n))return P(A),O}if(m){if(as(m)){const k=await m(v,e),A=cx(k,x);if(A&&(O[y]={...A,...R(ai.validate,A.message)},!n))return P(A.message),O}else if(Nt(m)){let k={};for(const A in m){if(!Pn(k)&&!n)break;const G=cx(await m[A](v,e),x,A);G&&(k={...G,...R(A,G.message)},P(G.message),n&&(O[y]=k))}if(!Pn(k)&&(O[y]={ref:x,...k},!n))return O}}return P(!0),O};function Q9(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=yt(t)?r++:t[e[r++]];return t}function X9(t){for(const e in t)if(t.hasOwnProperty(e)&&!yt(t[e]))return!1;return!0}function Pt(t,e){const n=Array.isArray(e)?e:F0(e)?[e]:YA(e),r=n.length===1?t:Q9(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Nt(r)&&Pn(r)||Array.isArray(r)&&X9(r))&&Pt(t,n.slice(0,-1)),t}var _v=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},xp=t=>fn(t)||!BA(t);function fo(t,e){if(xp(t)||xp(e))return t===e;if(Na(t)&&Na(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Na(s)&&Na(o)||Nt(s)&&Nt(o)||Array.isArray(s)&&Array.isArray(o)?!fo(s,o):s!==o)return!1}}return!0}var tk=t=>t.type==="select-multiple",Y9=t=>U0(t)||Vd(t),wv=t=>bp(t)&&t.isConnected,nk=t=>{for(const e in t)if(as(t[e]))return!0;return!1};function Tp(t,e={}){const n=Array.isArray(t);if(Nt(t)||n)for(const r in t)Array.isArray(t[r])||Nt(t[r])&&!nk(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Tp(t[r],e[r])):fn(t[r])||(e[r]=!0);return e}function rk(t,e,n){const r=Array.isArray(t);if(Nt(t)||r)for(const i in t)Array.isArray(t[i])||Nt(t[i])&&!nk(t[i])?yt(e)||xp(n[i])?n[i]=Array.isArray(t[i])?Tp(t[i],[]):{...Tp(t[i])}:rk(t[i],fn(e)?{}:e[i],n[i]):n[i]=!fo(t[i],e[i]);return n}var kf=(t,e)=>rk(t,e,Tp(e)),ik=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>yt(t)?t:e?t===""?NaN:t&&+t:n&&jr(t)?new Date(t):r?r(t):t;function Ev(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return j0(e)?e.files:U0(e)?ek(t.refs).value:tk(e)?[...e.selectedOptions].map(({value:n})=>n):Vd(e)?ZA(t.refs).value:ik(yt(e.value)?t.ref.value:e.value,t)}var J9=(t,e,n,r)=>{const i={};for(const s of t){const o=J(e,s);o&&Ke(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},_c=t=>yt(t)?t:Sp(t)?t.source:Nt(t)?Sp(t.value)?t.value.source:t.value:t,Z9=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function dx(t,e,n){const r=J(t,n);if(r||F0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=J(e,s),a=J(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var e5=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,t5=(t,e)=>!Fd(J(t,e)).length&&Pt(t,e);const n5={mode:gr.onSubmit,reValidateMode:gr.onChange,shouldFocusError:!0};function r5(t={}){let e={...n5,...t},n={submitCount:0,isDirty:!1,isLoading:as(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Nt(e.defaultValues)||Nt(e.values)?vn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:vn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:_v(),array:_v(),state:_v()},h=ix(e.mode),m=ix(e.reValidateMode),y=e.criteriaMode===gr.all,E=L=>V=>{clearTimeout(u),u=setTimeout(L,V)},b=async L=>{if(d.isValid||L){const V=e.resolver?Pn((await S()).errors):await R(r,!0);V!==n.isValid&&f.state.next({isValid:V})}},_=(L,V)=>{(d.isValidating||d.validatingFields)&&((L||Array.from(a.mount)).forEach(j=>{j&&(V?Ke(n.validatingFields,j,V):Pt(n.validatingFields,j))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Pn(n.validatingFields)}))},v=(L,V=[],j,te,ee=!0,Q=!0)=>{if(te&&j){if(o.action=!0,Q&&Array.isArray(J(r,L))){const ge=j(J(r,L),te.argA,te.argB);ee&&Ke(r,L,ge)}if(Q&&Array.isArray(J(n.errors,L))){const ge=j(J(n.errors,L),te.argA,te.argB);ee&&Ke(n.errors,L,ge),t5(n.errors,L)}if(d.touchedFields&&Q&&Array.isArray(J(n.touchedFields,L))){const ge=j(J(n.touchedFields,L),te.argA,te.argB);ee&&Ke(n.touchedFields,L,ge)}d.dirtyFields&&(n.dirtyFields=kf(i,s)),f.state.next({name:L,isDirty:k(L,V),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ke(s,L,V)},x=(L,V)=>{Ke(n.errors,L,V),f.state.next({errors:n.errors})},P=L=>{n.errors=L,f.state.next({errors:n.errors,isValid:!1})},O=(L,V,j,te)=>{const ee=J(r,L);if(ee){const Q=J(s,L,yt(j)?J(i,L):j);yt(Q)||te&&te.defaultChecked||V?Ke(s,L,V?Q:Ev(ee._f)):Y(L,Q),o.mount&&b()}},$=(L,V,j,te,ee)=>{let Q=!1,ge=!1;const We={name:L},Me=!!(J(r,L)&&J(r,L)._f.disabled);if(!j||te){d.isDirty&&(ge=n.isDirty,n.isDirty=We.isDirty=k(),Q=ge!==We.isDirty);const Qe=Me||fo(J(i,L),V);ge=!!(!Me&&J(n.dirtyFields,L)),Qe||Me?Pt(n.dirtyFields,L):Ke(n.dirtyFields,L,!0),We.dirtyFields=n.dirtyFields,Q=Q||d.dirtyFields&&ge!==!Qe}if(j){const Qe=J(n.touchedFields,L);Qe||(Ke(n.touchedFields,L,j),We.touchedFields=n.touchedFields,Q=Q||d.touchedFields&&Qe!==j)}return Q&&ee&&f.state.next(We),Q?We:{}},T=(L,V,j,te)=>{const ee=J(n.errors,L),Q=d.isValid&&mr(V)&&n.isValid!==V;if(t.delayError&&j?(l=E(()=>x(L,j)),l(t.delayError)):(clearTimeout(u),l=null,j?Ke(n.errors,L,j):Pt(n.errors,L)),(j?!fo(ee,j):ee)||!Pn(te)||Q){const ge={...te,...Q&&mr(V)?{isValid:V}:{},errors:n.errors,name:L};n={...n,...ge},f.state.next(ge)}},S=async L=>{_(L,!0);const V=await e.resolver(s,e.context,J9(L||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(L),V},I=async L=>{const{errors:V}=await S(L);if(L)for(const j of L){const te=J(V,j);te?Ke(n.errors,j,te):Pt(n.errors,j)}else n.errors=V;return V},R=async(L,V,j={valid:!0})=>{for(const te in L){const ee=L[te];if(ee){const{_f:Q,...ge}=ee;if(Q){const We=a.array.has(Q.name);_([te],!0);const Me=await ux(ee,s,y,e.shouldUseNativeValidation&&!V,We);if(_([te]),Me[Q.name]&&(j.valid=!1,V))break;!V&&(J(Me,Q.name)?We?G9(n.errors,Me,Q.name):Ke(n.errors,Q.name,Me[Q.name]):Pt(n.errors,Q.name))}ge&&await R(ge,V,j)}}return j.valid},D=()=>{for(const L of a.unMount){const V=J(r,L);V&&(V._f.refs?V._f.refs.every(j=>!wv(j)):!wv(V._f.ref))&&re(L)}a.unMount=new Set},k=(L,V)=>(L&&V&&Ke(s,L,V),!fo(ce(),i)),A=(L,V,j)=>XA(L,a,{...o.mount?s:yt(V)?i:jr(L)?{[L]:V}:V},j,V),G=L=>Fd(J(o.mount?s:i,L,t.shouldUnregister?J(i,L,[]):[])),Y=(L,V,j={})=>{const te=J(r,L);let ee=V;if(te){const Q=te._f;Q&&(!Q.disabled&&Ke(s,L,ik(V,Q)),ee=bp(Q.ref)&&fn(V)?"":V,tk(Q.ref)?[...Q.ref.options].forEach(ge=>ge.selected=ee.includes(ge.value)):Q.refs?Vd(Q.ref)?Q.refs.length>1?Q.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(ee)?!!ee.find(We=>We===ge.value):ee===ge.value)):Q.refs[0]&&(Q.refs[0].checked=!!ee):Q.refs.forEach(ge=>ge.checked=ge.value===ee):j0(Q.ref)?Q.ref.value="":(Q.ref.value=ee,Q.ref.type||f.values.next({name:L,values:{...s}})))}(j.shouldDirty||j.shouldTouch)&&$(L,ee,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&Z(L)},pe=(L,V,j)=>{for(const te in V){const ee=V[te],Q=`${L}.${te}`,ge=J(r,Q);(a.array.has(L)||!xp(ee)||ge&&!ge._f)&&!Na(ee)?pe(Q,ee,j):Y(Q,ee,j)}},le=(L,V,j={})=>{const te=J(r,L),ee=a.array.has(L),Q=vn(V);Ke(s,L,Q),ee?(f.array.next({name:L,values:{...s}}),(d.isDirty||d.dirtyFields)&&j.shouldDirty&&f.state.next({name:L,dirtyFields:kf(i,s),isDirty:k(L,Q)})):te&&!te._f&&!fn(Q)?pe(L,Q,j):Y(L,Q,j),sx(L,a)&&f.state.next({...n}),f.values.next({name:o.mount?L:void 0,values:{...s}})},W=async L=>{o.mount=!0;const V=L.target;let j=V.name,te=!0;const ee=J(r,j),Q=()=>V.type?Ev(ee._f):WA(L),ge=We=>{te=Number.isNaN(We)||We===J(s,j,We)};if(ee){let We,Me;const Qe=Q(),ir=L.type===Ep.BLUR||L.type===Ep.FOCUS_OUT,Hd=!Z9(ee._f)&&!e.resolver&&!J(n.errors,j)&&!ee._f.deps||e5(ir,J(n.touchedFields,j),n.isSubmitted,m,h),Xo=sx(j,a,ir);Ke(s,j,Qe),ir?(ee._f.onBlur&&ee._f.onBlur(L),l&&l(0)):ee._f.onChange&&ee._f.onChange(L);const Kl=$(j,Qe,ir,!1),Xs=!Pn(Kl)||Xo;if(!ir&&f.values.next({name:j,type:L.type,values:{...s}}),Hd)return d.isValid&&b(),Xs&&f.state.next({name:j,...Xo?{}:Kl});if(!ir&&Xo&&f.state.next({...n}),e.resolver){const{errors:Gl}=await S([j]);if(ge(Qe),te){const qd=dx(n.errors,r,j),Yo=dx(Gl,r,qd.name||j);We=Yo.error,j=Yo.name,Me=Pn(Gl)}}else _([j],!0),We=(await ux(ee,s,y,e.shouldUseNativeValidation))[j],_([j]),ge(Qe),te&&(We?Me=!1:d.isValid&&(Me=await R(r,!0)));te&&(ee._f.deps&&Z(ee._f.deps),T(j,Me,We,Kl))}},U=(L,V)=>{if(J(n.errors,V)&&L.focus)return L.focus(),1},Z=async(L,V={})=>{let j,te;const ee=hh(L);if(e.resolver){const Q=await I(yt(L)?L:ee);j=Pn(Q),te=L?!ee.some(ge=>J(Q,ge)):j}else L?(te=(await Promise.all(ee.map(async Q=>{const ge=J(r,Q);return await R(ge&&ge._f?{[Q]:ge}:ge)}))).every(Boolean),!(!te&&!n.isValid)&&b()):te=j=await R(r);return f.state.next({...!jr(L)||d.isValid&&j!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:j}:{},errors:n.errors}),V.shouldFocus&&!te&&lu(r,U,L?ee:a.mount),te},ce=L=>{const V={...o.mount?s:i};return yt(L)?V:jr(L)?J(V,L):L.map(j=>J(V,j))},B=(L,V)=>({invalid:!!J((V||n).errors,L),isDirty:!!J((V||n).dirtyFields,L),isTouched:!!J((V||n).touchedFields,L),isValidating:!!J((V||n).validatingFields,L),error:J((V||n).errors,L)}),ne=L=>{L&&hh(L).forEach(V=>Pt(n.errors,V)),f.state.next({errors:L?n.errors:{}})},ue=(L,V,j)=>{const te=(J(r,L,{_f:{}})._f||{}).ref;Ke(n.errors,L,{...V,ref:te}),f.state.next({name:L,errors:n.errors,isValid:!1}),j&&j.shouldFocus&&te&&te.focus&&te.focus()},de=(L,V)=>as(L)?f.values.subscribe({next:j=>L(A(void 0,V),j)}):A(L,V,!0),re=(L,V={})=>{for(const j of L?hh(L):a.mount)a.mount.delete(j),a.array.delete(j),V.keepValue||(Pt(r,j),Pt(s,j)),!V.keepError&&Pt(n.errors,j),!V.keepDirty&&Pt(n.dirtyFields,j),!V.keepTouched&&Pt(n.touchedFields,j),!V.keepIsValidating&&Pt(n.validatingFields,j),!e.shouldUnregister&&!V.keepDefaultValue&&Pt(i,j);f.values.next({values:{...s}}),f.state.next({...n,...V.keepDirty?{isDirty:k()}:{}}),!V.keepIsValid&&b()},me=({disabled:L,name:V,field:j,fields:te,value:ee})=>{if(mr(L)){const Q=L?void 0:yt(ee)?Ev(j?j._f:J(te,V)._f):ee;Ke(s,V,Q),$(V,Q,!1,!1,!0)}},Ne=(L,V={})=>{let j=J(r,L);const te=mr(V.disabled);return Ke(r,L,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:L}},name:L,mount:!0,...V}}),a.mount.add(L),j?me({field:j,disabled:V.disabled,name:L,value:V.value}):O(L,!0,V.value),{...te?{disabled:V.disabled}:{},...e.progressive?{required:!!V.required,min:_c(V.min),max:_c(V.max),minLength:_c(V.minLength),maxLength:_c(V.maxLength),pattern:_c(V.pattern)}:{},name:L,onChange:W,onBlur:W,ref:ee=>{if(ee){Ne(L,V),j=J(r,L);const Q=yt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ge=Y9(Q),We=j._f.refs||[];if(ge?We.find(Me=>Me===Q):Q===j._f.ref)return;Ke(r,L,{_f:{...j._f,...ge?{refs:[...We.filter(wv),Q,...Array.isArray(J(i,L))?[{}]:[]],ref:{type:Q.type,name:L}}:{ref:Q}}}),O(L,!1,void 0,Q)}else j=J(r,L,{}),j._f&&(j._f.mount=!1),(e.shouldUnregister||V.shouldUnregister)&&!(HA(a.array,L)&&o.action)&&a.unMount.add(L)}}},Ae=()=>e.shouldFocusError&&lu(r,U,a.mount),Je=L=>{mr(L)&&(f.state.next({disabled:L}),lu(r,(V,j)=>{let te=L;const ee=J(r,j);ee&&mr(ee._f.disabled)&&(te||(te=ee._f.disabled)),V.disabled=te},0,!1))},Ge=(L,V)=>async j=>{let te;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let ee=vn(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Q,values:ge}=await S();n.errors=Q,ee=ge}else await R(r);if(Pt(n.errors,"root"),Pn(n.errors)){f.state.next({errors:{}});try{await L(ee,j)}catch(Q){te=Q}}else V&&await V({...n.errors},j),Ae(),setTimeout(Ae);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pn(n.errors)&&!te,submitCount:n.submitCount+1,errors:n.errors}),te)throw te},Fe=(L,V={})=>{J(r,L)&&(yt(V.defaultValue)?le(L,vn(J(i,L))):(le(L,V.defaultValue),Ke(i,L,vn(V.defaultValue))),V.keepTouched||Pt(n.touchedFields,L),V.keepDirty||(Pt(n.dirtyFields,L),n.isDirty=V.defaultValue?k(L,vn(J(i,L))):k()),V.keepError||(Pt(n.errors,L),d.isValid&&b()),f.state.next({...n}))},ct=(L,V={})=>{const j=L?vn(L):i,te=vn(j),ee=Pn(L),Q=ee?i:te;if(V.keepDefaultValues||(i=j),!V.keepValues){if(V.keepDirtyValues)for(const ge of a.mount)J(n.dirtyFields,ge)?Ke(Q,ge,J(s,ge)):le(ge,J(Q,ge));else{if(M0&&yt(L))for(const ge of a.mount){const We=J(r,ge);if(We&&We._f){const Me=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(bp(Me)){const Qe=Me.closest("form");if(Qe){Qe.reset();break}}}}r={}}s=t.shouldUnregister?V.keepDefaultValues?vn(i):{}:vn(Q),f.array.next({values:{...Q}}),f.values.next({values:{...Q}})}a={mount:V.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!V.keepIsValid||!!V.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:V.keepSubmitCount?n.submitCount:0,isDirty:ee?!1:V.keepDirty?n.isDirty:!!(V.keepDefaultValues&&!fo(L,i)),isSubmitted:V.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ee?[]:V.keepDirtyValues?V.keepDefaultValues&&s?kf(i,s):n.dirtyFields:V.keepDefaultValues&&L?kf(i,L):{},touchedFields:V.keepTouched?n.touchedFields:{},errors:V.keepErrors?n.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Gt=(L,V)=>ct(as(L)?L(s):L,V);return{control:{register:Ne,unregister:re,getFieldState:B,handleSubmit:Ge,setError:ue,_executeSchema:S,_getWatch:A,_getDirty:k,_updateValid:b,_removeUnmounted:D,_updateFieldArray:v,_updateDisabledField:me,_getFieldArray:G,_reset:ct,_resetDefaultValues:()=>as(e.defaultValues)&&e.defaultValues().then(L=>{Gt(L,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:Je,_subjects:f,_proxyFormState:d,_setErrors:P,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(L){o=L},get _defaultValues(){return i},get _names(){return a},set _names(L){a=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:Z,register:Ne,handleSubmit:Ge,watch:de,setValue:le,getValues:ce,reset:Gt,resetField:Fe,clearErrors:ne,unregister:re,setError:ue,setFocus:(L,V={})=>{const j=J(r,L),te=j&&j._f;if(te){const ee=te.refs?te.refs[0]:te.ref;ee.focus&&(ee.focus(),V.shouldSelect&&ee.select())}},getFieldState:B}}function sk(t={}){const e=we.useRef(),n=we.useRef(),[r,i]=we.useState({isDirty:!1,isValidating:!1,isLoading:as(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:as(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...r5(t),formState:r});const s=e.current.control;return s._options=t,V0({subject:s._subjects.state,next:o=>{GA(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),we.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),we.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),we.useEffect(()=>{t.values&&!fo(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),we.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),we.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),we.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=KA(r,s),e.current}const i5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Rt=i5.reduce((t,e)=>{const n=g.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?As:e;return g.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),g.createElement(a,fe({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ok(t,e){t&&wd.flushSync(()=>t.dispatchEvent(e))}const s5=g.forwardRef((t,e)=>g.createElement(Rt.label,fe({},t,{ref:e,onMouseDown:n=>{var r;(r=t.onMouseDown)===null||r===void 0||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),ak=s5,o5=zA("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),lk=g.forwardRef(({className:t,...e},n)=>N.jsx(ak,{ref:n,className:Ye(o5(),t),...e}));lk.displayName=ak.displayName;const ck=B9,uk=g.createContext({}),cu=({...t})=>N.jsx(uk.Provider,{value:{name:t.name},children:N.jsx(K9,{...t})}),tg=()=>{const t=g.useContext(uk),e=g.useContext(dk),{getFieldState:n,formState:r}=eg(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},dk=g.createContext({}),Xa=g.forwardRef(({className:t,...e},n)=>{const r=g.useId();return N.jsx(dk.Provider,{value:{id:r},children:N.jsx("div",{ref:n,className:Ye("space-y-2",t),...e})})});Xa.displayName="FormItem";const Ya=g.forwardRef(({className:t,...e},n)=>{const{formItemId:r}=tg();return N.jsx(lk,{ref:n,className:t,htmlFor:r,...e})});Ya.displayName="FormLabel";const Ja=g.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=tg();return N.jsx(As,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Ja.displayName="FormControl";const a5=g.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=tg();return N.jsx("p",{ref:n,id:r,className:Ye("text-sm text-muted-foreground",t),...e})});a5.displayName="FormDescription";const Za=g.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=tg(),o=i?String(i==null?void 0:i.message):e;return o?N.jsx("p",{ref:r,id:s,className:Ye("text-sm font-medium text-destructive",t),...n,children:o}):null});Za.displayName="FormMessage";const Do=g.forwardRef(({className:t,type:e,...n},r)=>N.jsx("input",{type:e,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Do.displayName="Input";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fk=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...c5,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fk("lucide",i),...a},[...o.map(([u,d])=>g.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=(t,e)=>{const n=g.forwardRef(({className:r,...i},s)=>g.createElement(u5,{ref:s,iconNode:e,className:fk(`lucide-${l5(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=Zn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=Zn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=Zn("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=Zn("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=Zn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=Zn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=Zn("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=Zn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=Zn("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=Zn("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Zn("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=Zn("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),z0=g.forwardRef(({className:t,...e},n)=>{const[r,i]=g.useState(!1);return N.jsxs("div",{className:"relative",children:[N.jsx(Do,{type:r?"text":"password",className:t,ref:n,...e}),r?N.jsx(m5,{className:"absolute top-1/2 right-3 -translate-y-1/2 stroke-gray-500 cursor-pointer w-5",onClick:()=>i(!1)}):N.jsx(p5,{className:"absolute top-1/2 right-3 -translate-y-1/2 stroke-gray-500 cursor-pointer w-5",onClick:()=>i(!0)})]})});z0.displayName="InputPassword";var ze;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ze||(ze={}));var f_;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(f_||(f_={}));const se=ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ts=t=>{switch(typeof t){case"undefined":return se.undefined;case"string":return se.string;case"number":return isNaN(t)?se.nan:se.number;case"boolean":return se.boolean;case"function":return se.function;case"bigint":return se.bigint;case"symbol":return se.symbol;case"object":return Array.isArray(t)?se.array:t===null?se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?se.promise:typeof Map<"u"&&t instanceof Map?se.map:typeof Set<"u"&&t instanceof Set?se.set:typeof Date<"u"&&t instanceof Date?se.date:se.object;default:return se.unknown}},K=ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),E5=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Vn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Vn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vn.create=t=>new Vn(t);const xl=(t,e)=>{let n;switch(t.code){case K.invalid_type:t.received===se.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case K.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ze.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:n=`Unrecognized key(s) in object: ${ze.joinValues(t.keys,", ")}`;break;case K.invalid_union:n="Invalid input";break;case K.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ze.joinValues(t.options)}`;break;case K.invalid_enum_value:n=`Invalid enum value. Expected ${ze.joinValues(t.options)}, received '${t.received}'`;break;case K.invalid_arguments:n="Invalid function arguments";break;case K.invalid_return_type:n="Invalid function return type";break;case K.invalid_date:n="Invalid date";break;case K.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ze.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case K.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case K.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case K.custom:n="Invalid input";break;case K.invalid_intersection_types:n="Intersection results could not be merged";break;case K.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case K.not_finite:n="Number must be finite";break;default:n=e.defaultError,ze.assertNever(t)}return{message:n}};let mk=xl;function b5(t){mk=t}function Ip(){return mk}const Cp=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},S5=[];function ie(t,e){const n=Ip(),r=Cp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===xl?void 0:xl].filter(i=>!!i)});t.common.issues.push(r)}class ln{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Se;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return ln.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Se;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Se=Object.freeze({status:"aborted"}),Da=t=>({status:"dirty",value:t}),pn=t=>({status:"valid",value:t}),h_=t=>t.status==="aborted",p_=t=>t.status==="dirty",Bu=t=>t.status==="valid",Wu=t=>typeof Promise<"u"&&t instanceof Promise;function Rp(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function gk(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ve;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));var Dc,$c;class Yr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fx=(t,e)=>{if(Bu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vn(t.common.issues);return this._error=n,this._error}}};function Re(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:i}}class ke{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ts(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ts(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ln,ctx:{common:e.parent.common,data:e.data,parsedType:ts(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Wu(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ts(e)},s=this._parseSync({data:e,path:i.path,parent:i});return fx(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ts(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Wu(i)?i:Promise.resolve(i));return fx(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:K.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Rr({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Qr.create(this,this._def)}nullable(){return $s.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return br.create(this,this._def)}promise(){return Il.create(this,this._def)}or(e){return Gu.create([this,e],this._def)}and(e){return Qu.create(this,e,this._def)}transform(e){return new Rr({...Re(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new ed({...Re(this._def),innerType:this,defaultValue:n,typeName:Ee.ZodDefault})}brand(){return new B0({typeName:Ee.ZodBranded,type:this,...Re(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new td({...Re(this._def),innerType:this,catchValue:n,typeName:Ee.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return jd.create(this,e)}readonly(){return nd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const x5=/^c[^\s-]{8,}$/i,T5=/^[0-9a-z]+$/,I5=/^[0-9A-HJKMNP-TV-Z]{26}$/,C5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,R5=/^[a-z0-9_-]{21}$/i,P5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,A5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,k5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let bv;const O5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N5=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,D5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$5=new RegExp(`^${vk}$`);function yk(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function L5(t){return new RegExp(`^${yk(t)}$`)}function _k(t){let e=`${vk}T${yk(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function M5(t,e){return!!((e==="v4"||!e)&&O5.test(t)||(e==="v6"||!e)&&N5.test(t))}class vr extends ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==se.string){const s=this._getOrReturnCtx(e);return ie(s,{code:K.invalid_type,expected:se.string,received:s.parsedType}),Se}const r=new ln;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:K.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:K.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ie(i,{code:K.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ie(i,{code:K.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")A5.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"email",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")bv||(bv=new RegExp(k5,"u")),bv.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"emoji",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")C5.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"uuid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")R5.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"nanoid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")x5.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"cuid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")T5.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"cuid2",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")I5.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"ulid",code:K.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ie(i,{validation:"url",code:K.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"regex",code:K.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ie(i,{code:K.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ie(i,{code:K.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ie(i,{code:K.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?_k(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{code:K.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?$5.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{code:K.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?L5(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{code:K.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?P5.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"duration",code:K.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?M5(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"ip",code:K.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?D5.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"base64",code:K.invalid_string,message:s.message}),r.dirty()):ze.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:K.invalid_string,...ve.errToObj(r)})}_addCheck(e){return new vr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ve.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ve.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ve.errToObj(n)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new vr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vr.create=t=>{var e;return new vr({checks:[],typeName:Ee.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Re(t)})};function V5(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Os extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==se.number){const s=this._getOrReturnCtx(e);return ie(s,{code:K.invalid_type,expected:se.number,received:s.parsedType}),Se}let r;const i=new ln;for(const s of this._def.checks)s.kind==="int"?ze.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:K.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:K.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:K.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?V5(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ie(r,{code:K.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:K.not_finite,message:s.message}),i.dirty()):ze.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,i){return new Os({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(i)}]})}_addCheck(e){return new Os({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ze.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Os.create=t=>new Os({checks:[],typeName:Ee.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Re(t)});class Ns extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==se.bigint){const s=this._getOrReturnCtx(e);return ie(s,{code:K.invalid_type,expected:se.bigint,received:s.parsedType}),Se}let r;const i=new ln;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:K.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:K.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:K.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ze.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ve.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ve.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ve.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ve.toString(n))}setLimit(e,n,r,i){return new Ns({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ve.toString(i)}]})}_addCheck(e){return new Ns({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ns.create=t=>{var e;return new Ns({checks:[],typeName:Ee.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Re(t)})};class Hu extends ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==se.boolean){const r=this._getOrReturnCtx(e);return ie(r,{code:K.invalid_type,expected:se.boolean,received:r.parsedType}),Se}return pn(e.data)}}Hu.create=t=>new Hu({typeName:Ee.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Re(t)});class $o extends ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==se.date){const s=this._getOrReturnCtx(e);return ie(s,{code:K.invalid_type,expected:se.date,received:s.parsedType}),Se}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ie(s,{code:K.invalid_date}),Se}const r=new ln;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:K.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:K.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ze.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $o({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}$o.create=t=>new $o({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ee.ZodDate,...Re(t)});class Pp extends ke{_parse(e){if(this._getType(e)!==se.symbol){const r=this._getOrReturnCtx(e);return ie(r,{code:K.invalid_type,expected:se.symbol,received:r.parsedType}),Se}return pn(e.data)}}Pp.create=t=>new Pp({typeName:Ee.ZodSymbol,...Re(t)});class qu extends ke{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:K.invalid_type,expected:se.undefined,received:r.parsedType}),Se}return pn(e.data)}}qu.create=t=>new qu({typeName:Ee.ZodUndefined,...Re(t)});class Ku extends ke{_parse(e){if(this._getType(e)!==se.null){const r=this._getOrReturnCtx(e);return ie(r,{code:K.invalid_type,expected:se.null,received:r.parsedType}),Se}return pn(e.data)}}Ku.create=t=>new Ku({typeName:Ee.ZodNull,...Re(t)});class Tl extends ke{constructor(){super(...arguments),this._any=!0}_parse(e){return pn(e.data)}}Tl.create=t=>new Tl({typeName:Ee.ZodAny,...Re(t)});class _o extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return pn(e.data)}}_o.create=t=>new _o({typeName:Ee.ZodUnknown,...Re(t)});class Pi extends ke{_parse(e){const n=this._getOrReturnCtx(e);return ie(n,{code:K.invalid_type,expected:se.never,received:n.parsedType}),Se}}Pi.create=t=>new Pi({typeName:Ee.ZodNever,...Re(t)});class Ap extends ke{_parse(e){if(this._getType(e)!==se.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:K.invalid_type,expected:se.void,received:r.parsedType}),Se}return pn(e.data)}}Ap.create=t=>new Ap({typeName:Ee.ZodVoid,...Re(t)});class br extends ke{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==se.array)return ie(n,{code:K.invalid_type,expected:se.array,received:n.parsedType}),Se;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(ie(n,{code:o?K.too_big:K.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ie(n,{code:K.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ie(n,{code:K.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Yr(n,o,n.path,a)))).then(o=>ln.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Yr(n,o,n.path,a)));return ln.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new br({...this._def,minLength:{value:e,message:ve.toString(n)}})}max(e,n){return new br({...this._def,maxLength:{value:e,message:ve.toString(n)}})}length(e,n){return new br({...this._def,exactLength:{value:e,message:ve.toString(n)}})}nonempty(e){return this.min(1,e)}}br.create=(t,e)=>new br({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...Re(e)});function ma(t){if(t instanceof dt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Qr.create(ma(r))}return new dt({...t._def,shape:()=>e})}else return t instanceof br?new br({...t._def,type:ma(t.element)}):t instanceof Qr?Qr.create(ma(t.unwrap())):t instanceof $s?$s.create(ma(t.unwrap())):t instanceof Jr?Jr.create(t.items.map(e=>ma(e))):t}class dt extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ze.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==se.object){const u=this._getOrReturnCtx(e);return ie(u,{code:K.invalid_type,expected:se.object,received:u.parsedType}),Se}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Pi&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=s[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Yr(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Pi){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(ie(i,{code:K.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Yr(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ln.mergeObjectSync(r,u)):ln.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new dt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ve.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new dt({...this._def,unknownKeys:"strip"})}passthrough(){return new dt({...this._def,unknownKeys:"passthrough"})}extend(e){return new dt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ee.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new dt({...this._def,catchall:e})}pick(e){const n={};return ze.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}omit(e){const n={};return ze.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new dt({...this._def,shape:()=>n})}deepPartial(){return ma(this)}partial(e){const n={};return ze.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new dt({...this._def,shape:()=>n})}required(e){const n={};return ze.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Qr;)s=s._def.innerType;n[r]=s}}),new dt({...this._def,shape:()=>n})}keyof(){return wk(ze.objectKeys(this.shape))}}dt.create=(t,e)=>new dt({shape:()=>t,unknownKeys:"strip",catchall:Pi.create(),typeName:Ee.ZodObject,...Re(e)});dt.strictCreate=(t,e)=>new dt({shape:()=>t,unknownKeys:"strict",catchall:Pi.create(),typeName:Ee.ZodObject,...Re(e)});dt.lazycreate=(t,e)=>new dt({shape:t,unknownKeys:"strip",catchall:Pi.create(),typeName:Ee.ZodObject,...Re(e)});class Gu extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Vn(a.ctx.common.issues));return ie(n,{code:K.invalid_union,unionErrors:o}),Se}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Vn(l));return ie(n,{code:K.invalid_union,unionErrors:a}),Se}}get options(){return this._def.options}}Gu.create=(t,e)=>new Gu({options:t,typeName:Ee.ZodUnion,...Re(e)});const ci=t=>t instanceof Yu?ci(t.schema):t instanceof Rr?ci(t.innerType()):t instanceof Ju?[t.value]:t instanceof Ds?t.options:t instanceof Zu?ze.objectValues(t.enum):t instanceof ed?ci(t._def.innerType):t instanceof qu?[void 0]:t instanceof Ku?[null]:t instanceof Qr?[void 0,...ci(t.unwrap())]:t instanceof $s?[null,...ci(t.unwrap())]:t instanceof B0||t instanceof nd?ci(t.unwrap()):t instanceof td?ci(t._def.innerType):[];class ng extends ke{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.object)return ie(n,{code:K.invalid_type,expected:se.object,received:n.parsedType}),Se;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ie(n,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Se)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ci(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new ng({typeName:Ee.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Re(r)})}}function m_(t,e){const n=ts(t),r=ts(e);if(t===e)return{valid:!0,data:t};if(n===se.object&&r===se.object){const i=ze.objectKeys(e),s=ze.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=m_(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===se.array&&r===se.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=m_(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===se.date&&r===se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Qu extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(h_(s)||h_(o))return Se;const a=m_(s.value,o.value);return a.valid?((p_(s)||p_(o))&&n.dirty(),{status:n.value,value:a.data}):(ie(r,{code:K.invalid_intersection_types}),Se)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Qu.create=(t,e,n)=>new Qu({left:t,right:e,typeName:Ee.ZodIntersection,...Re(n)});class Jr extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.array)return ie(r,{code:K.invalid_type,expected:se.array,received:r.parsedType}),Se;if(r.data.length<this._def.items.length)return ie(r,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Se;!this._def.rest&&r.data.length>this._def.items.length&&(ie(r,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Yr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>ln.mergeArray(n,o)):ln.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Jr({...this._def,rest:e})}}Jr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jr({items:t,typeName:Ee.ZodTuple,rest:null,...Re(e)})};class Xu extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.object)return ie(r,{code:K.invalid_type,expected:se.object,received:r.parsedType}),Se;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new Yr(r,a,r.path,a)),value:o._parse(new Yr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?ln.mergeObjectAsync(n,i):ln.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ke?new Xu({keyType:e,valueType:n,typeName:Ee.ZodRecord,...Re(r)}):new Xu({keyType:vr.create(),valueType:e,typeName:Ee.ZodRecord,...Re(n)})}}class kp extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.map)return ie(r,{code:K.invalid_type,expected:se.map,received:r.parsedType}),Se;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new Yr(r,a,r.path,[u,"key"])),value:s._parse(new Yr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Se;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Se;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}kp.create=(t,e,n)=>new kp({valueType:e,keyType:t,typeName:Ee.ZodMap,...Re(n)});class Lo extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==se.set)return ie(r,{code:K.invalid_type,expected:se.set,received:r.parsedType}),Se;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ie(r,{code:K.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ie(r,{code:K.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Se;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new Yr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Lo({...this._def,minSize:{value:e,message:ve.toString(n)}})}max(e,n){return new Lo({...this._def,maxSize:{value:e,message:ve.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Lo.create=(t,e)=>new Lo({valueType:t,minSize:null,maxSize:null,typeName:Ee.ZodSet,...Re(e)});class el extends ke{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.function)return ie(n,{code:K.invalid_type,expected:se.function,received:n.parsedType}),Se;function r(a,l){return Cp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ip(),xl].filter(u=>!!u),issueData:{code:K.invalid_arguments,argumentsError:l}})}function i(a,l){return Cp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ip(),xl].filter(u=>!!u),issueData:{code:K.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Il){const a=this;return pn(async function(...l){const u=new Vn([]),d=await a._def.args.parseAsync(l,s).catch(m=>{throw u.addIssue(r(l,m)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,s).catch(m=>{throw u.addIssue(i(f,m)),u})})}else{const a=this;return pn(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new Vn([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,s);if(!f.success)throw new Vn([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new el({...this._def,args:Jr.create(e).rest(_o.create())})}returns(e){return new el({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new el({args:e||Jr.create([]).rest(_o.create()),returns:n||_o.create(),typeName:Ee.ZodFunction,...Re(r)})}}class Yu extends ke{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Yu.create=(t,e)=>new Yu({getter:t,typeName:Ee.ZodLazy,...Re(e)});class Ju extends ke{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ie(n,{received:n.data,code:K.invalid_literal,expected:this._def.value}),Se}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ju.create=(t,e)=>new Ju({value:t,typeName:Ee.ZodLiteral,...Re(e)});function wk(t,e){return new Ds({values:t,typeName:Ee.ZodEnum,...Re(e)})}class Ds extends ke{constructor(){super(...arguments),Dc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ie(n,{expected:ze.joinValues(r),received:n.parsedType,code:K.invalid_type}),Se}if(Rp(this,Dc)||gk(this,Dc,new Set(this._def.values)),!Rp(this,Dc).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ie(n,{received:n.data,code:K.invalid_enum_value,options:r}),Se}return pn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Ds.create(e,{...this._def,...n})}exclude(e,n=this._def){return Ds.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Dc=new WeakMap;Ds.create=wk;class Zu extends ke{constructor(){super(...arguments),$c.set(this,void 0)}_parse(e){const n=ze.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==se.string&&r.parsedType!==se.number){const i=ze.objectValues(n);return ie(r,{expected:ze.joinValues(i),received:r.parsedType,code:K.invalid_type}),Se}if(Rp(this,$c)||gk(this,$c,new Set(ze.getValidEnumValues(this._def.values))),!Rp(this,$c).has(e.data)){const i=ze.objectValues(n);return ie(r,{received:r.data,code:K.invalid_enum_value,options:i}),Se}return pn(e.data)}get enum(){return this._def.values}}$c=new WeakMap;Zu.create=(t,e)=>new Zu({values:t,typeName:Ee.ZodNativeEnum,...Re(e)});class Il extends ke{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==se.promise&&n.common.async===!1)return ie(n,{code:K.invalid_type,expected:se.promise,received:n.parsedType}),Se;const r=n.parsedType===se.promise?n.data:Promise.resolve(n.data);return pn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Il.create=(t,e)=>new Il({type:t,typeName:Ee.ZodPromise,...Re(e)});class Rr extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{ie(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Se;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Se:l.status==="dirty"||n.value==="dirty"?Da(l.value):l});{if(n.value==="aborted")return Se;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Se:a.status==="dirty"||n.value==="dirty"?Da(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Se:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Se:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Bu(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Bu(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);ze.assertNever(i)}}Rr.create=(t,e,n)=>new Rr({schema:t,typeName:Ee.ZodEffects,effect:e,...Re(n)});Rr.createWithPreprocess=(t,e,n)=>new Rr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ee.ZodEffects,...Re(n)});class Qr extends ke{_parse(e){return this._getType(e)===se.undefined?pn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qr.create=(t,e)=>new Qr({innerType:t,typeName:Ee.ZodOptional,...Re(e)});class $s extends ke{_parse(e){return this._getType(e)===se.null?pn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$s.create=(t,e)=>new $s({innerType:t,typeName:Ee.ZodNullable,...Re(e)});class ed extends ke{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===se.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}ed.create=(t,e)=>new ed({innerType:t,typeName:Ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Re(e)});class td extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Wu(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Vn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}td.create=(t,e)=>new td({innerType:t,typeName:Ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Re(e)});class Op extends ke{_parse(e){if(this._getType(e)!==se.nan){const r=this._getOrReturnCtx(e);return ie(r,{code:K.invalid_type,expected:se.nan,received:r.parsedType}),Se}return{status:"valid",value:e.data}}}Op.create=t=>new Op({typeName:Ee.ZodNaN,...Re(t)});const F5=Symbol("zod_brand");class B0 extends ke{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class jd extends ke{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Se:s.status==="dirty"?(n.dirty(),Da(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Se:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new jd({in:e,out:n,typeName:Ee.ZodPipeline})}}class nd extends ke{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Bu(i)&&(i.value=Object.freeze(i.value)),i);return Wu(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}nd.create=(t,e)=>new nd({innerType:t,typeName:Ee.ZodReadonly,...Re(e)});function Ek(t,e={},n){return t?Tl.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):Tl.create()}const j5={object:dt.lazycreate};var Ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const U5=(t,e={message:`Input not instance of ${t.name}`})=>Ek(n=>n instanceof t,e),bk=vr.create,Sk=Os.create,z5=Op.create,B5=Ns.create,xk=Hu.create,W5=$o.create,H5=Pp.create,q5=qu.create,K5=Ku.create,G5=Tl.create,Q5=_o.create,X5=Pi.create,Y5=Ap.create,J5=br.create,Z5=dt.create,eU=dt.strictCreate,tU=Gu.create,nU=ng.create,rU=Qu.create,iU=Jr.create,sU=Xu.create,oU=kp.create,aU=Lo.create,lU=el.create,cU=Yu.create,uU=Ju.create,dU=Ds.create,fU=Zu.create,hU=Il.create,hx=Rr.create,pU=Qr.create,mU=$s.create,gU=Rr.createWithPreprocess,vU=jd.create,yU=()=>bk().optional(),_U=()=>Sk().optional(),wU=()=>xk().optional(),EU={string:t=>vr.create({...t,coerce:!0}),number:t=>Os.create({...t,coerce:!0}),boolean:t=>Hu.create({...t,coerce:!0}),bigint:t=>Ns.create({...t,coerce:!0}),date:t=>$o.create({...t,coerce:!0})},bU=Se;var ho=Object.freeze({__proto__:null,defaultErrorMap:xl,setErrorMap:b5,getErrorMap:Ip,makeIssue:Cp,EMPTY_PATH:S5,addIssueToContext:ie,ParseStatus:ln,INVALID:Se,DIRTY:Da,OK:pn,isAborted:h_,isDirty:p_,isValid:Bu,isAsync:Wu,get util(){return ze},get objectUtil(){return f_},ZodParsedType:se,getParsedType:ts,ZodType:ke,datetimeRegex:_k,ZodString:vr,ZodNumber:Os,ZodBigInt:Ns,ZodBoolean:Hu,ZodDate:$o,ZodSymbol:Pp,ZodUndefined:qu,ZodNull:Ku,ZodAny:Tl,ZodUnknown:_o,ZodNever:Pi,ZodVoid:Ap,ZodArray:br,ZodObject:dt,ZodUnion:Gu,ZodDiscriminatedUnion:ng,ZodIntersection:Qu,ZodTuple:Jr,ZodRecord:Xu,ZodMap:kp,ZodSet:Lo,ZodFunction:el,ZodLazy:Yu,ZodLiteral:Ju,ZodEnum:Ds,ZodNativeEnum:Zu,ZodPromise:Il,ZodEffects:Rr,ZodTransformer:Rr,ZodOptional:Qr,ZodNullable:$s,ZodDefault:ed,ZodCatch:td,ZodNaN:Op,BRAND:F5,ZodBranded:B0,ZodPipeline:jd,ZodReadonly:nd,custom:Ek,Schema:ke,ZodSchema:ke,late:j5,get ZodFirstPartyTypeKind(){return Ee},coerce:EU,any:G5,array:J5,bigint:B5,boolean:xk,date:W5,discriminatedUnion:nU,effect:hx,enum:dU,function:lU,instanceof:U5,intersection:rU,lazy:cU,literal:uU,map:oU,nan:z5,nativeEnum:fU,never:X5,null:K5,nullable:mU,number:Sk,object:Z5,oboolean:wU,onumber:_U,optional:pU,ostring:yU,pipeline:vU,preprocess:gU,promise:hU,record:sU,set:aU,strictObject:eU,string:bk,symbol:H5,transformer:hx,tuple:iU,undefined:q5,union:tU,unknown:Q5,void:Y5,NEVER:bU,ZodIssueCode:K,quotelessJson:E5,ZodError:Vn});const SU=ho.object({email:ho.string().email({message:"Please enter a valid Email Address"}),password:ho.string().min(6,{message:"Password must contain at least 6 character(s)"}).max(35,{message:"Password must contain at most 35 character(s)"})}),xU=ho.object({username:ho.string().min(6,{message:"Username must contain at least 6 character(s)"}).max(35,{message:"Username must contain at most 35 character(s)"}),email:ho.string().email({message:"Please enter a valid Email Address"}),password:ho.string().min(6,{message:"Password must contain at least 6 character(s)"}).max(35,{message:"Password must contain at most 35 character(s)"})});var px=function(t,e,n){if(t&&"reportValidity"in t){var r=J(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Tk=function(t,e){var n=function(i){var s=e.fields[i];s&&s.ref&&"reportValidity"in s.ref?px(s.ref,i,t):s.refs&&s.refs.forEach(function(o){return px(o,i,t)})};for(var r in e.fields)n(r)},TU=function(t,e){e.shouldUseNativeValidation&&Tk(t,e);var n={};for(var r in t){var i=J(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(IU(e.names||Object.keys(t),r)){var o=Object.assign({},J(n,r));Ke(o,"root",s),Ke(n,r,o)}else Ke(n,r,s)}return n},IU=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},CU=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=JA(o,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},Ik=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&Tk({},s),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return a.errors!=null}(o))return{values:{},errors:TU(CU(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},RU=["title"],PU=["title"];function Np(){return Np=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Np.apply(this,arguments)}function Ck(t,e){if(t==null)return{};var n=AU(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var kU=function(e){var n=e.title,r=Ck(e,RU);return we.createElement("svg",Np({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 513 342"},r),n&&we.createElement("title",null,n),we.createElement("g",{fill:"#FFF"},we.createElement("path",{d:"M0 0h513v341.3H0V0z"}),we.createElement("path",{d:"M311.7 230 513 341.3v-31.5L369.3 230h-57.6zM200.3 111.3 0 0v31.5l143.7 79.8h56.6z"})),we.createElement("path",{d:"M393.8 230 513 295.7V230H393.8zm-82.1 0L513 341.3v-31.5L369.3 230h-57.6zm146.9 111.3-147-81.7v81.7h147zM90.3 230 0 280.2V230h90.3zm110 14.2v97.2H25.5l174.8-97.2zm-82.1-132.9L0 45.6v65.7h118.2zm82.1 0L0 0v31.5l143.7 79.8h56.6zM53.4 0l147 81.7V0h-147zm368.3 111.3L513 61.1v50.2h-91.3zm-110-14.2V0h174.9L311.7 97.1z",fill:"#0052B4"}),we.createElement("g",{fill:"#D80027"},we.createElement("path",{d:"M288 0h-64v138.7H0v64h224v138.7h64V202.7h224v-64H288V0z"}),we.createElement("path",{d:"M311.7 230 513 341.3v-31.5L369.3 230h-57.6zm-168 0L0 309.9v31.5L200.3 230h-56.6zm56.6-118.7L0 0v31.5l143.7 79.8h56.6zm168 0L513 31.5V0L311.7 111.3h56.6z"})))},OU=function(e){var n=e.title,r=Ck(e,PU);return we.createElement("svg",Np({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 85.333 512 341.333"},r),n&&we.createElement("title",null,n),we.createElement("path",{fill:"#FFDA44",d:"M0 85.337h512v341.326H0z"}),we.createElement("path",{fill:"#338AF3",d:"M0 85.337h512V256H0z"}))};function Fn(t){"@babel/helpers - typeof";return Fn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fn(t)}function NU(t,e){if(Fn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rk(t){var e=NU(t,"string");return Fn(e)=="symbol"?e:e+""}function ri(t,e,n){return e=Rk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DU(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}var mx={};function g_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&mx[e[0]]||(typeof e[0]=="string"&&(mx[e[0]]=new Date),DU.apply(void 0,e))}var Pk=function(e,n){return function(){if(e.isInitialized)n();else{var r=function i(){setTimeout(function(){e.off("initialized",i)},0),n()};e.on("initialized",r)}}};function gx(t,e,n){t.loadNamespaces(e,Pk(t,n))}function vx(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(function(i){t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Pk(t,r))}function $U(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;var o=function(l,u){var d=e.services.backendConnector.state["".concat(l,"|").concat(u)];return d===-1||d===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(r,t)&&(!i||o(s,t)))}function LU(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return g_("i18n.languages were undefined or empty",e.languages),!0;var r=e.options.ignoreJSONStructure!==void 0;return r?e.hasLoadedNamespace(t,{lng:n.lng,precheck:function(s,o){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,t))return!1}}):$U(t,e,n)}var MU=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,VU={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},FU=function(e){return VU[e]},jU=function(e){return e.replace(MU,FU)};function yx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var v_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:jU};function UU(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};v_=_x(_x({},v_),t)}function zU(){return v_}var Ak;function BU(t){Ak=t}function WU(){return Ak}function er(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rk(r.key),r)}}function tr(t,e,n){return e&&wx(t.prototype,e),n&&wx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var HU={type:"3rdParty",init:function(e){UU(e.options.react),BU(e)}},qU=g.createContext(),KU=function(){function t(){er(this,t),this.usedNamespaces={}}return tr(t,[{key:"addUsedNamespaces",value:function(n){var r=this;n.forEach(function(i){r.usedNamespaces[i]||(r.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}();function kk(t){if(Array.isArray(t))return t}function GU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}}function Ex(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ok(t,e){if(t){if(typeof t=="string")return Ex(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ex(t,e)}}function Nk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QU(t,e){return kk(t)||GU(t,e)||Ok(t,e)||Nk()}function bx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bx(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var XU=function(e,n){var r=g.useRef();return g.useEffect(function(){r.current=e},[e,n]),r.current};function $i(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,r=g.useContext(qU)||{},i=r.i18n,s=r.defaultNS,o=n||i||WU();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new KU),!o){g_("You will need to pass in an i18next instance by using initReactI18next");var a=function(I,R){return typeof R=="string"?R:R&&Fn(R)==="object"&&typeof R.defaultValue=="string"?R.defaultValue:Array.isArray(I)?I[I.length-1]:I},l=[a,{},!1];return l.t=a,l.i18n={},l.ready=!1,l}o.options.react&&o.options.react.wait!==void 0&&g_("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var u=Sv(Sv(Sv({},zU()),o.options.react),e),d=u.useSuspense,f=u.keyPrefix,h=s||o.options&&o.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(h);var m=(o.isInitialized||o.initializedStoreOnce)&&h.every(function(S){return LU(S,o,u)});function y(){return o.getFixedT(e.lng||null,u.nsMode==="fallback"?h:h[0],f)}var E=g.useState(y),b=QU(E,2),_=b[0],v=b[1],x=h.join();e.lng&&(x="".concat(e.lng).concat(x));var P=XU(x),O=g.useRef(!0);g.useEffect(function(){var S=u.bindI18n,I=u.bindI18nStore;O.current=!0,!m&&!d&&(e.lng?vx(o,e.lng,h,function(){O.current&&v(y)}):gx(o,h,function(){O.current&&v(y)})),m&&P&&P!==x&&O.current&&v(y);function R(){O.current&&v(y)}return S&&o&&o.on(S,R),I&&o&&o.store.on(I,R),function(){O.current=!1,S&&o&&S.split(" ").forEach(function(D){return o.off(D,R)}),I&&o&&I.split(" ").forEach(function(D){return o.store.off(D,R)})}},[o,x]);var $=g.useRef(!0);g.useEffect(function(){O.current&&!$.current&&v(y),$.current=!1},[o,f]);var T=[_,o,m];if(T.t=_,T.i18n=o,T.ready=m,m||!m&&!d)return T;throw new Promise(function(S){e.lng?vx(o,e.lng,h,function(){return S()}):gx(o,h,function(){return S()})})}const W0=({className:t})=>{const[e,n]=g.useState(localStorage.getItem("language")||"en"),{i18n:r}=$i(),i=s=>{n(s),r.changeLanguage(s),localStorage.setItem("language",s)};return N.jsxs("div",{className:`${t} flex gap-2`,children:[N.jsxs(ks,{className:`${e==="uk"&&"border-[1px]"} flex gap-1 p-3`,variant:e==="uk"?"default":"outline",onClick:()=>i("uk"),children:[N.jsx(OU,{className:"w-5 rounded-sm"}),N.jsx("span",{children:"Ukr"})]}),N.jsxs(ks,{className:`${e==="en"&&"border-[1px]"} flex gap-1 p-3`,variant:e==="en"?"default":"outline",onClick:()=>i("en"),children:[N.jsx(kU,{className:"w-5 rounded-sm"}),N.jsx("span",{children:"Eng"})]})]})};function Ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Gs(t,e=[]){let n=[];function r(s,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:h,children:m,...y}=f,E=(h==null?void 0:h[t][l])||a,b=g.useMemo(()=>y,Object.values(y));return g.createElement(E.Provider,{value:b},m)}function d(f,h){const m=(h==null?void 0:h[t][l])||a,y=g.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,YU(i,...e)]}function YU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Pr(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function rg({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=JU({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Pr(n),l=g.useCallback(u=>{if(s){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else i(u)},[s,t,i,a]);return[o,l]}function JU({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,i=g.useRef(r),s=Pr(e);return g.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function Dk(t){const e=t+"CollectionProvider",[n,r]=Gs(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:y,children:E}=m,b=we.useRef(null),_=we.useRef(new Map).current;return we.createElement(i,{scope:y,itemMap:_,collectionRef:b},E)},a=t+"CollectionSlot",l=we.forwardRef((m,y)=>{const{scope:E,children:b}=m,_=s(a,E),v=qt(y,_.collectionRef);return we.createElement(As,{ref:v},b)}),u=t+"CollectionItemSlot",d="data-radix-collection-item",f=we.forwardRef((m,y)=>{const{scope:E,children:b,..._}=m,v=we.useRef(null),x=qt(y,v),P=s(u,E);return we.useEffect(()=>(P.itemMap.set(v,{ref:v,..._}),()=>void P.itemMap.delete(v))),we.createElement(As,{[d]:"",ref:x},b)});function h(m){const y=s(t+"CollectionConsumer",m);return we.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const _=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((P,O)=>_.indexOf(P.ref.current)-_.indexOf(O.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},h,r]}const ZU=g.createContext(void 0);function $k(t){const e=g.useContext(ZU);return t||e||"ltr"}function e7(t,e=globalThis==null?void 0:globalThis.document){const n=Pr(t);g.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const y_="dismissableLayer.update",t7="dismissableLayer.pointerDownOutside",n7="dismissableLayer.focusOutside";let Sx;const r7=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),H0=g.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...u}=t,d=g.useContext(r7),[f,h]=g.useState(null),m=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=g.useState({}),E=qt(e,S=>h(S)),b=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(_),x=f?b.indexOf(f):-1,P=d.layersWithOutsidePointerEventsDisabled.size>0,O=x>=v,$=i7(S=>{const I=S.target,R=[...d.branches].some(D=>D.contains(I));!O||R||(s==null||s(S),a==null||a(S),S.defaultPrevented||l==null||l())},m),T=s7(S=>{const I=S.target;[...d.branches].some(D=>D.contains(I))||(o==null||o(S),a==null||a(S),S.defaultPrevented||l==null||l())},m);return e7(S=>{x===d.layers.size-1&&(i==null||i(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),g.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Sx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),xx(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Sx)}},[f,m,r,d]),g.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),xx())},[f,d]),g.useEffect(()=>{const S=()=>y({});return document.addEventListener(y_,S),()=>document.removeEventListener(y_,S)},[]),g.createElement(Rt.div,fe({},u,{ref:E,style:{pointerEvents:P?O?"auto":"none":void 0,...t.style},onFocusCapture:Ie(t.onFocusCapture,T.onFocusCapture),onBlurCapture:Ie(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ie(t.onPointerDownCapture,$.onPointerDownCapture)}))});function i7(t,e=globalThis==null?void 0:globalThis.document){const n=Pr(t),r=g.useRef(!1),i=g.useRef(()=>{});return g.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let d=function(){Lk(t7,n,u,{discrete:!0})};var l=d;const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function s7(t,e=globalThis==null?void 0:globalThis.document){const n=Pr(t),r=g.useRef(!1);return g.useEffect(()=>{const i=s=>{s.target&&!r.current&&Lk(n7,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function xx(){const t=new CustomEvent(y_);document.dispatchEvent(t)}function Lk(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ok(i,s):i.dispatchEvent(s)}let xv=0;function Mk(){g.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:Tx()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:Tx()),xv++,()=>{xv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),xv--}},[])}function Tx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const Tv="focusScope.autoFocusOnMount",Iv="focusScope.autoFocusOnUnmount",Ix={bubbles:!1,cancelable:!0},Vk=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=g.useState(null),u=Pr(i),d=Pr(s),f=g.useRef(null),h=qt(e,E=>l(E)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function($){if(m.paused||!a)return;const T=$.target;a.contains(T)?f.current=T:qi(f.current,{select:!0})},x=function($){if(m.paused||!a)return;const T=$.relatedTarget;T!==null&&(a.contains(T)||qi(f.current,{select:!0}))},P=function($){if(document.activeElement===document.body)for(const S of $)S.removedNodes.length>0&&qi(a)};var E=v,b=x,_=P;document.addEventListener("focusin",v),document.addEventListener("focusout",x);const O=new MutationObserver(P);return a&&O.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),O.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){Rx.add(m);const E=document.activeElement;if(!a.contains(E)){const _=new CustomEvent(Tv,Ix);a.addEventListener(Tv,u),a.dispatchEvent(_),_.defaultPrevented||(o7(d7(Fk(a)),{select:!0}),document.activeElement===E&&qi(a))}return()=>{a.removeEventListener(Tv,u),setTimeout(()=>{const _=new CustomEvent(Iv,Ix);a.addEventListener(Iv,d),a.dispatchEvent(_),_.defaultPrevented||qi(E??document.body,{select:!0}),a.removeEventListener(Iv,d),Rx.remove(m)},0)}}},[a,u,d,m]);const y=g.useCallback(E=>{if(!n&&!r||m.paused)return;const b=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,_=document.activeElement;if(b&&_){const v=E.currentTarget,[x,P]=a7(v);x&&P?!E.shiftKey&&_===P?(E.preventDefault(),n&&qi(x,{select:!0})):E.shiftKey&&_===x&&(E.preventDefault(),n&&qi(P,{select:!0})):_===v&&E.preventDefault()}},[n,r,m.paused]);return g.createElement(Rt.div,fe({tabIndex:-1},o,{ref:h,onKeyDown:y}))});function o7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(qi(r,{select:e}),document.activeElement!==n)return}function a7(t){const e=Fk(t),n=Cx(e,t),r=Cx(e.reverse(),t);return[n,r]}function Fk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cx(t,e){for(const n of t)if(!l7(n,{upTo:e}))return n}function l7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function c7(t){return t instanceof HTMLInputElement&&"select"in t}function qi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&c7(t)&&e&&t.select()}}const Rx=u7();function u7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Px(t,e),t.unshift(e)},remove(e){var n;t=Px(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function Px(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function d7(t){return t.filter(e=>e.tagName!=="A")}const Ls=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},f7=ym.useId||(()=>{});let h7=0;function rd(t){const[e,n]=g.useState(f7());return Ls(()=>{n(r=>r??String(h7++))},[t]),e?`radix-${e}`:""}const p7=["top","right","bottom","left"],Ms=Math.min,On=Math.max,Dp=Math.round,Of=Math.floor,Vs=t=>({x:t,y:t}),m7={left:"right",right:"left",bottom:"top",top:"bottom"},g7={start:"end",end:"start"};function __(t,e,n){return On(t,Ms(e,n))}function Ai(t,e){return typeof t=="function"?t(e):t}function ki(t){return t.split("-")[0]}function zl(t){return t.split("-")[1]}function q0(t){return t==="x"?"y":"x"}function K0(t){return t==="y"?"height":"width"}function Bl(t){return["top","bottom"].includes(ki(t))?"y":"x"}function G0(t){return q0(Bl(t))}function v7(t,e,n){n===void 0&&(n=!1);const r=zl(t),i=G0(t),s=K0(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=$p(o)),[o,$p(o)]}function y7(t){const e=$p(t);return[w_(t),e,w_(e)]}function w_(t){return t.replace(/start|end/g,e=>g7[e])}function _7(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function w7(t,e,n,r){const i=zl(t);let s=_7(ki(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(w_)))),s}function $p(t){return t.replace(/left|right|bottom|top/g,e=>m7[e])}function E7(t){return{top:0,right:0,bottom:0,left:0,...t}}function jk(t){return typeof t!="number"?E7(t):{top:t,right:t,bottom:t,left:t}}function Lp(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ax(t,e,n){let{reference:r,floating:i}=t;const s=Bl(e),o=G0(e),a=K0(o),l=ki(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(zl(e)){case"start":m[o]-=h*(n&&u?-1:1);break;case"end":m[o]+=h*(n&&u?-1:1);break}return m}const b7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Ax(u,r,l),h=r,m={},y=0;for(let E=0;E<a.length;E++){const{name:b,fn:_}=a[E],{x:v,y:x,data:P,reset:O}=await _({x:d,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:t,floating:e}});d=v??d,f=x??f,m={...m,[b]:{...m[b],...P}},O&&y<=50&&(y++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:f}=Ax(u,h,l)),E=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function id(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ai(e,t),y=jk(m),b=a[h?f==="floating"?"reference":"floating":f],_=Lp(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},O=Lp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(_.top-O.top+y.top)/P.y,bottom:(O.bottom-_.bottom+y.bottom)/P.y,left:(_.left-O.left+y.left)/P.x,right:(O.right-_.right+y.right)/P.x}}const S7=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:d=0}=Ai(t,e)||{};if(u==null)return{};const f=jk(d),h={x:n,y:r},m=G0(i),y=K0(m),E=await o.getDimensions(u),b=m==="y",_=b?"top":"left",v=b?"bottom":"right",x=b?"clientHeight":"clientWidth",P=s.reference[y]+s.reference[m]-h[m]-s.floating[y],O=h[m]-s.reference[m],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=$?$[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement($)))&&(T=a.floating[x]||s.floating[y]);const S=P/2-O/2,I=T/2-E[y]/2-1,R=Ms(f[_],I),D=Ms(f[v],I),k=R,A=T-E[y]-D,G=T/2-E[y]/2+S,Y=__(k,G,A),pe=!l.arrow&&zl(i)!=null&&G!==Y&&s.reference[y]/2-(G<k?R:D)-E[y]/2<0,le=pe?G<k?G-k:G-A:0;return{[m]:h[m]+le,data:{[m]:Y,centerOffset:G-Y-le,...pe&&{alignmentOffset:le}},reset:pe}}}),x7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:E=!0,...b}=Ai(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=ki(i),v=ki(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=h||(v||!E?[$p(a)]:y7(a));!h&&y!=="none"&&P.push(...w7(a,E,y,x));const O=[a,...P],$=await id(e,b),T=[];let S=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&T.push($[_]),f){const k=v7(i,o,x);T.push($[k[0]],$[k[1]])}if(S=[...S,{placement:i,overflows:T}],!T.every(k=>k<=0)){var I,R;const k=(((I=s.flip)==null?void 0:I.index)||0)+1,A=O[k];if(A)return{data:{index:k,overflows:S},reset:{placement:A}};let G=(R=S.filter(Y=>Y.overflows[0]<=0).sort((Y,pe)=>Y.overflows[1]-pe.overflows[1])[0])==null?void 0:R.placement;if(!G)switch(m){case"bestFit":{var D;const Y=(D=S.map(pe=>[pe.placement,pe.overflows.filter(le=>le>0).reduce((le,W)=>le+W,0)]).sort((pe,le)=>pe[1]-le[1])[0])==null?void 0:D[0];Y&&(G=Y);break}case"initialPlacement":G=a;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function kx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ox(t){return p7.some(e=>t[e]>=0)}const T7=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ai(t,e);switch(r){case"referenceHidden":{const s=await id(e,{...i,elementContext:"reference"}),o=kx(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Ox(o)}}}case"escaped":{const s=await id(e,{...i,altBoundary:!0}),o=kx(s,n.floating);return{data:{escapedOffsets:o,escaped:Ox(o)}}}default:return{}}}}};async function I7(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ki(n),a=zl(n),l=Bl(n)==="y",u=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,f=Ai(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const C7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await I7(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},R7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:_,y:v}=b;return{x:_,y:v}}},...l}=Ai(t,e),u={x:n,y:r},d=await id(e,l),f=Bl(ki(i)),h=q0(f);let m=u[h],y=u[f];if(s){const b=h==="y"?"top":"left",_=h==="y"?"bottom":"right",v=m+d[b],x=m-d[_];m=__(v,m,x)}if(o){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=y+d[b],x=y-d[_];y=__(v,y,x)}const E=a.fn({...e,[h]:m,[f]:y});return{...E,data:{x:E.x-n,y:E.y-r}}}}},P7=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ai(t,e),d={x:n,y:r},f=Bl(i),h=q0(f);let m=d[h],y=d[f];const E=Ai(a,e),b=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(l){const x=h==="y"?"height":"width",P=s.reference[h]-s.floating[x]+b.mainAxis,O=s.reference[h]+s.reference[x]-b.mainAxis;m<P?m=P:m>O&&(m=O)}if(u){var _,v;const x=h==="y"?"width":"height",P=["top","left"].includes(ki(i)),O=s.reference[f]-s.floating[x]+(P&&((_=o.offset)==null?void 0:_[f])||0)+(P?0:b.crossAxis),$=s.reference[f]+s.reference[x]+(P?0:((v=o.offset)==null?void 0:v[f])||0)-(P?b.crossAxis:0);y<O?y=O:y>$&&(y=$)}return{[h]:m,[f]:y}}}},A7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Ai(t,e),l=await id(e,a),u=ki(n),d=zl(n),f=Bl(n)==="y",{width:h,height:m}=r.floating;let y,E;u==="top"||u==="bottom"?(y=u,E=d===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(E=u,y=d==="end"?"top":"bottom");const b=m-l[y],_=h-l[E],v=!e.middlewareData.shift;let x=b,P=_;if(f){const $=h-l.left-l.right;P=d||v?Ms(_,$):$}else{const $=m-l.top-l.bottom;x=d||v?Ms(b,$):$}if(v&&!d){const $=On(l.left,0),T=On(l.right,0),S=On(l.top,0),I=On(l.bottom,0);f?P=h-2*($!==0||T!==0?$+T:On(l.left,l.right)):x=m-2*(S!==0||I!==0?S+I:On(l.top,l.bottom))}await o({...e,availableWidth:P,availableHeight:x});const O=await i.getDimensions(s.floating);return h!==O.width||m!==O.height?{reset:{rects:!0}}:{}}}};function Wl(t){return Uk(t)?(t.nodeName||"").toLowerCase():"#document"}function jn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Li(t){var e;return(e=(Uk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Uk(t){return t instanceof Node||t instanceof jn(t).Node}function Zr(t){return t instanceof Element||t instanceof jn(t).Element}function ei(t){return t instanceof HTMLElement||t instanceof jn(t).HTMLElement}function Nx(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof jn(t).ShadowRoot}function Ud(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function k7(t){return["table","td","th"].includes(Wl(t))}function Q0(t){const e=X0(),n=Ar(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function O7(t){let e=Fs(t);for(;ei(e)&&!Cl(e);){if(Q0(e))return e;e=Fs(e)}return null}function X0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cl(t){return["html","body","#document"].includes(Wl(t))}function Ar(t){return jn(t).getComputedStyle(t)}function ig(t){return Zr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Fs(t){if(Wl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Nx(t)&&t.host||Li(t);return Nx(e)?e.host:e}function zk(t){const e=Fs(t);return Cl(e)?t.ownerDocument?t.ownerDocument.body:t.body:ei(e)&&Ud(e)?e:zk(e)}function sd(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=zk(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=jn(i);return s?e.concat(o,o.visualViewport||[],Ud(i)?i:[],o.frameElement&&n?sd(o.frameElement):[]):e.concat(i,sd(i,[],n))}function Bk(t){const e=Ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ei(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Dp(n)!==s||Dp(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Y0(t){return Zr(t)?t:t.contextElement}function tl(t){const e=Y0(t);if(!ei(e))return Vs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Bk(e);let o=(s?Dp(n.width):n.width)/r,a=(s?Dp(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const N7=Vs(0);function Wk(t){const e=jn(t);return!X0()||!e.visualViewport?N7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==jn(t)?!1:e}function Mo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Y0(t);let o=Vs(1);e&&(r?Zr(r)&&(o=tl(r)):o=tl(t));const a=D7(s,n,r)?Wk(s):Vs(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const h=jn(s),m=r&&Zr(r)?jn(r):r;let y=h,E=y.frameElement;for(;E&&r&&m!==y;){const b=tl(E),_=E.getBoundingClientRect(),v=Ar(E),x=_.left+(E.clientLeft+parseFloat(v.paddingLeft))*b.x,P=_.top+(E.clientTop+parseFloat(v.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,f*=b.y,l+=x,u+=P,y=jn(E),E=y.frameElement}}return Lp({width:d,height:f,x:l,y:u})}const $7=[":popover-open",":modal"];function J0(t){return $7.some(e=>{try{return t.matches(e)}catch{return!1}})}function L7(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Li(r),a=e?J0(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Vs(1);const d=Vs(0),f=ei(r);if((f||!f&&!s)&&((Wl(r)!=="body"||Ud(o))&&(l=ig(r)),ei(r))){const h=Mo(r);u=tl(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x,y:n.y*u.y-l.scrollTop*u.y+d.y}}function M7(t){return Array.from(t.getClientRects())}function Hk(t){return Mo(Li(t)).left+ig(t).scrollLeft}function V7(t){const e=Li(t),n=ig(t),r=t.ownerDocument.body,i=On(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=On(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Hk(t);const a=-n.scrollTop;return Ar(r).direction==="rtl"&&(o+=On(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function F7(t,e){const n=jn(t),r=Li(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=X0();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function j7(t,e){const n=Mo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ei(t)?tl(t):Vs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Dx(t,e,n){let r;if(e==="viewport")r=F7(t,n);else if(e==="document")r=V7(Li(t));else if(Zr(e))r=j7(e,n);else{const i=Wk(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Lp(r)}function qk(t,e){const n=Fs(t);return n===e||!Zr(n)||Cl(n)?!1:Ar(n).position==="fixed"||qk(n,e)}function U7(t,e){const n=e.get(t);if(n)return n;let r=sd(t,[],!1).filter(a=>Zr(a)&&Wl(a)!=="body"),i=null;const s=Ar(t).position==="fixed";let o=s?Fs(t):t;for(;Zr(o)&&!Cl(o);){const a=Ar(o),l=Q0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ud(o)&&!l&&qk(t,o))?r=r.filter(d=>d!==o):i=a,o=Fs(o)}return e.set(t,r),r}function z7(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?J0(e)?[]:U7(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,d)=>{const f=Dx(e,d,i);return u.top=On(f.top,u.top),u.right=Ms(f.right,u.right),u.bottom=Ms(f.bottom,u.bottom),u.left=On(f.left,u.left),u},Dx(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function B7(t){const{width:e,height:n}=Bk(t);return{width:e,height:n}}function W7(t,e,n){const r=ei(e),i=Li(e),s=n==="fixed",o=Mo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Vs(0);if(r||!r&&!s)if((Wl(e)!=="body"||Ud(i))&&(a=ig(e)),r){const f=Mo(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=Hk(i));const u=o.left+a.scrollLeft-l.x,d=o.top+a.scrollTop-l.y;return{x:u,y:d,width:o.width,height:o.height}}function Cv(t){return Ar(t).position==="static"}function $x(t,e){return!ei(t)||Ar(t).position==="fixed"?null:e?e(t):t.offsetParent}function Kk(t,e){const n=jn(t);if(J0(t))return n;if(!ei(t)){let i=Fs(t);for(;i&&!Cl(i);){if(Zr(i)&&!Cv(i))return i;i=Fs(i)}return n}let r=$x(t,e);for(;r&&k7(r)&&Cv(r);)r=$x(r,e);return r&&Cl(r)&&Cv(r)&&!Q0(r)?n:r||O7(t)||n}const H7=async function(t){const e=this.getOffsetParent||Kk,n=this.getDimensions,r=await n(t.floating);return{reference:W7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function q7(t){return Ar(t).direction==="rtl"}const K7={convertOffsetParentRelativeRectToViewportRelativeRect:L7,getDocumentElement:Li,getClippingRect:z7,getOffsetParent:Kk,getElementRects:H7,getClientRects:M7,getDimensions:B7,getScale:tl,isElement:Zr,isRTL:q7};function G7(t,e){let n=null,r;const i=Li(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const m=Of(d),y=Of(i.clientWidth-(u+f)),E=Of(i.clientHeight-(d+h)),b=Of(u),v={rootMargin:-m+"px "+-y+"px "+-E+"px "+-b+"px",threshold:On(0,Ms(1,l))||1};let x=!0;function P(O){const $=O[0].intersectionRatio;if($!==l){if(!x)return o();$?o(!1,$):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(P,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,v)}n.observe(t)}return o(!0),s}function Q7(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Y0(t),d=i||s?[...u?sd(u):[],...sd(e)]:[];d.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const f=u&&a?G7(u,n):null;let h=-1,m=null;o&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(e)})),n()}),u&&!l&&m.observe(u),m.observe(e));let y,E=l?Mo(t):null;l&&b();function b(){const _=Mo(t);E&&(_.x!==E.x||_.y!==E.y||_.width!==E.width||_.height!==E.height)&&n(),E=_,y=requestAnimationFrame(b)}return n(),()=>{var _;d.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const X7=C7,Y7=R7,J7=x7,Z7=A7,e8=T7,Lx=S7,t8=P7,n8=(t,e,n)=>{const r=new Map,i={platform:K7,...n},s={...i.platform,_c:r};return b7(t,e,{...i,platform:s})},r8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Lx({element:r.current,padding:i}).fn(n):{}:r?Lx({element:r,padding:i}).fn(n):{}}}};var mh=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Mp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Mp(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Mp(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Gk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Mx(t,e){const n=Gk(t);return Math.round(e*n)/n}function Vx(t){const e=g.useRef(t);return mh(()=>{e.current=t}),e}function i8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(r);Mp(h,r)||m(r);const[y,E]=g.useState(null),[b,_]=g.useState(null),v=g.useCallback(le=>{le!==$.current&&($.current=le,E(le))},[]),x=g.useCallback(le=>{le!==T.current&&(T.current=le,_(le))},[]),P=s||y,O=o||b,$=g.useRef(null),T=g.useRef(null),S=g.useRef(d),I=l!=null,R=Vx(l),D=Vx(i),k=g.useCallback(()=>{if(!$.current||!T.current)return;const le={placement:e,strategy:n,middleware:h};D.current&&(le.platform=D.current),n8($.current,T.current,le).then(W=>{const U={...W,isPositioned:!0};A.current&&!Mp(S.current,U)&&(S.current=U,wd.flushSync(()=>{f(U)}))})},[h,e,n,D]);mh(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(le=>({...le,isPositioned:!1})))},[u]);const A=g.useRef(!1);mh(()=>(A.current=!0,()=>{A.current=!1}),[]),mh(()=>{if(P&&($.current=P),O&&(T.current=O),P&&O){if(R.current)return R.current(P,O,k);k()}},[P,O,k,R,I]);const G=g.useMemo(()=>({reference:$,floating:T,setReference:v,setFloating:x}),[v,x]),Y=g.useMemo(()=>({reference:P,floating:O}),[P,O]),pe=g.useMemo(()=>{const le={position:n,left:0,top:0};if(!Y.floating)return le;const W=Mx(Y.floating,d.x),U=Mx(Y.floating,d.y);return a?{...le,transform:"translate("+W+"px, "+U+"px)",...Gk(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:U}},[n,a,Y.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:k,refs:G,elements:Y,floatingStyles:pe}),[d,k,G,Y,pe])}function s8(t){const[e,n]=g.useState(void 0);return Ls(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const Qk="Popper",[Xk,Hl]=Gs(Qk),[o8,Yk]=Xk(Qk),a8=t=>{const{__scopePopper:e,children:n}=t,[r,i]=g.useState(null);return g.createElement(o8,{scope:e,anchor:r,onAnchorChange:i},n)},l8="PopperAnchor",c8=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Yk(l8,n),o=g.useRef(null),a=qt(e,o);return g.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.createElement(Rt.div,fe({},i,{ref:a}))}),Jk="PopperContent",[u8,oK]=Xk(Jk),d8=g.forwardRef((t,e)=>{var n,r,i,s,o,a,l,u;const{__scopePopper:d,side:f="bottom",sideOffset:h=0,align:m="center",alignOffset:y=0,arrowPadding:E=0,avoidCollisions:b=!0,collisionBoundary:_=[],collisionPadding:v=0,sticky:x="partial",hideWhenDetached:P=!1,updatePositionStrategy:O="optimized",onPlaced:$,...T}=t,S=Yk(Jk,d),[I,R]=g.useState(null),D=qt(e,bt=>R(bt)),[k,A]=g.useState(null),G=s8(k),Y=(n=G==null?void 0:G.width)!==null&&n!==void 0?n:0,pe=(r=G==null?void 0:G.height)!==null&&r!==void 0?r:0,le=f+(m!=="center"?"-"+m:""),W=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},U=Array.isArray(_)?_:[_],Z=U.length>0,ce={padding:W,boundary:U.filter(f8),altBoundary:Z},{refs:B,floatingStyles:ne,placement:ue,isPositioned:de,middlewareData:re}=i8({strategy:"fixed",placement:le,whileElementsMounted:(...bt)=>Q7(...bt,{animationFrame:O==="always"}),elements:{reference:S.anchor},middleware:[X7({mainAxis:h+pe,alignmentAxis:y}),b&&Y7({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?t8():void 0,...ce}),b&&J7({...ce}),Z7({...ce,apply:({elements:bt,rects:rr,availableWidth:Hn,availableHeight:L})=>{const{width:V,height:j}=rr.reference,te=bt.floating.style;te.setProperty("--radix-popper-available-width",`${Hn}px`),te.setProperty("--radix-popper-available-height",`${L}px`),te.setProperty("--radix-popper-anchor-width",`${V}px`),te.setProperty("--radix-popper-anchor-height",`${j}px`)}}),k&&r8({element:k,padding:E}),h8({arrowWidth:Y,arrowHeight:pe}),P&&e8({strategy:"referenceHidden",...ce})]}),[me,Ne]=Zk(ue),Ae=Pr($);Ls(()=>{de&&(Ae==null||Ae())},[de,Ae]);const Je=(i=re.arrow)===null||i===void 0?void 0:i.x,Ge=(s=re.arrow)===null||s===void 0?void 0:s.y,Fe=((o=re.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[ct,Gt]=g.useState();return Ls(()=>{I&&Gt(window.getComputedStyle(I).zIndex)},[I]),g.createElement("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:de?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ct,"--radix-popper-transform-origin":[(a=re.transformOrigin)===null||a===void 0?void 0:a.x,(l=re.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},g.createElement(u8,{scope:d,placedSide:me,onArrowChange:A,arrowX:Je,arrowY:Ge,shouldHideArrow:Fe},g.createElement(Rt.div,fe({"data-side":me,"data-align":Ne},T,{ref:D,style:{...T.style,animation:de?void 0:"none",opacity:(u=re.hide)!==null&&u!==void 0&&u.referenceHidden?0:void 0}}))))});function f8(t){return t!==null}const h8=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:u}=e,f=((n=u.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,h=f?0:t.arrowWidth,m=f?0:t.arrowHeight,[y,E]=Zk(a),b={start:"0%",center:"50%",end:"100%"}[E],_=((r=(i=u.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+h/2,v=((s=(o=u.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+m/2;let x="",P="";return y==="bottom"?(x=f?b:`${_}px`,P=`${-m}px`):y==="top"?(x=f?b:`${_}px`,P=`${l.floating.height+m}px`):y==="right"?(x=`${-m}px`,P=f?b:`${v}px`):y==="left"&&(x=`${l.floating.width+m}px`,P=f?b:`${v}px`),{data:{x,y:P}}}});function Zk(t){const[e,n="center"]=t.split("-");return[e,n]}const Z0=a8,eE=c8,tE=d8,e2=g.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?rL.createPortal(g.createElement(Rt.div,fe({},i,{ref:e})),r):null});function p8(t,e){return g.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const Qs=t=>{const{present:e,children:n}=t,r=m8(e),i=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),s=qt(r.ref,i.ref);return typeof n=="function"||r.isPresent?g.cloneElement(i,{ref:s}):null};Qs.displayName="Presence";function m8(t){const[e,n]=g.useState(),r=g.useRef({}),i=g.useRef(t),s=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=p8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Nf(r.current);s.current=a==="mounted"?u:"none"},[a]),Ls(()=>{const u=r.current,d=i.current;if(d!==t){const h=s.current,m=Nf(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Ls(()=>{if(e){const u=f=>{const m=Nf(r.current).includes(f.animationName);f.target===e&&m&&wd.flushSync(()=>l("ANIMATION_END"))},d=f=>{f.target===e&&(s.current=Nf(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Nf(t){return(t==null?void 0:t.animationName)||"none"}const Rv="rovingFocusGroup.onEntryFocus",g8={bubbles:!1,cancelable:!0},nE="RovingFocusGroup",[E_,t2,v8]=Dk(nE),[y8,n2]=Gs(nE,[v8]),[_8,w8]=y8(nE),E8=g.forwardRef((t,e)=>g.createElement(E_.Provider,{scope:t.__scopeRovingFocusGroup},g.createElement(E_.Slot,{scope:t.__scopeRovingFocusGroup},g.createElement(b8,fe({},t,{ref:e}))))),b8=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,...d}=t,f=g.useRef(null),h=qt(e,f),m=$k(s),[y=null,E]=rg({prop:o,defaultProp:a,onChange:l}),[b,_]=g.useState(!1),v=Pr(u),x=t2(n),P=g.useRef(!1),[O,$]=g.useState(0);return g.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Rv,v),()=>T.removeEventListener(Rv,v)},[v]),g.createElement(_8,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:y,onItemFocus:g.useCallback(T=>E(T),[E]),onItemShiftTab:g.useCallback(()=>_(!0),[]),onFocusableItemAdd:g.useCallback(()=>$(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>$(T=>T-1),[])},g.createElement(Rt.div,fe({tabIndex:b||O===0?-1:0,"data-orientation":r},d,{ref:h,style:{outline:"none",...t.style},onMouseDown:Ie(t.onMouseDown,()=>{P.current=!0}),onFocus:Ie(t.onFocus,T=>{const S=!P.current;if(T.target===T.currentTarget&&S&&!b){const I=new CustomEvent(Rv,g8);if(T.currentTarget.dispatchEvent(I),!I.defaultPrevented){const R=x().filter(Y=>Y.focusable),D=R.find(Y=>Y.active),k=R.find(Y=>Y.id===y),G=[D,k,...R].filter(Boolean).map(Y=>Y.ref.current);r2(G)}}P.current=!1}),onBlur:Ie(t.onBlur,()=>_(!1))})))}),S8="RovingFocusGroupItem",x8=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=rd(),l=s||a,u=w8(S8,n),d=u.currentTabStopId===l,f=t2(n),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return g.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),g.createElement(E_.ItemSlot,{scope:n,id:l,focusable:r,active:i},g.createElement(Rt.span,fe({tabIndex:d?0:-1,"data-orientation":u.orientation},o,{ref:e,onMouseDown:Ie(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:Ie(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:Ie(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const E=C8(y,u.orientation,u.dir);if(E!==void 0){y.preventDefault();let _=f().filter(v=>v.focusable).map(v=>v.ref.current);if(E==="last")_.reverse();else if(E==="prev"||E==="next"){E==="prev"&&_.reverse();const v=_.indexOf(y.currentTarget);_=u.loop?R8(_,v+1):_.slice(v+1)}setTimeout(()=>r2(_))}})})))}),T8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function I8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function C8(t,e,n){const r=I8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return T8[r]}function r2(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function R8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const P8=E8,A8=x8;var k8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sa=new WeakMap,Df=new WeakMap,$f={},Pv=0,i2=function(t){return t&&(t.host||i2(t.parentNode))},O8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=i2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},N8=function(t,e,n,r){var i=O8(e,Array.isArray(t)?t:[t]);$f[n]||($f[n]=new WeakMap);var s=$f[n],o=[],a=new Set,l=new Set(i),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),y=m!==null&&m!=="false",E=(sa.get(h)||0)+1,b=(s.get(h)||0)+1;sa.set(h,E),s.set(h,b),o.push(h),E===1&&y&&Df.set(h,!0),b===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",h,_)}})};return d(e),a.clear(),Pv++,function(){o.forEach(function(f){var h=sa.get(f)-1,m=s.get(f)-1;sa.set(f,h),s.set(f,m),h||(Df.has(f)||f.removeAttribute(r),Df.delete(f)),m||f.removeAttribute(n)}),Pv--,Pv||(sa=new WeakMap,sa=new WeakMap,Df=new WeakMap,$f={})}},s2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=k8(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),N8(r,i,n,"aria-hidden")):function(){return null}},gh="right-scroll-bar-position",vh="width-before-scroll-bar",D8="with-scroll-bars-hidden",$8="--removed-body-scroll-bar-size";function Av(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function L8(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var M8=typeof window<"u"?g.useLayoutEffect:g.useEffect,Fx=new WeakMap;function V8(t,e){var n=L8(null,function(r){return t.forEach(function(i){return Av(i,r)})});return M8(function(){var r=Fx.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Av(a,null)}),s.forEach(function(a){i.has(a)||Av(a,o)})}Fx.set(n,t)},[t]),n}function F8(t){return t}function j8(t,e){e===void 0&&(e=F8);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function U8(t){t===void 0&&(t={});var e=j8(null);return e.options=Vr({async:!0,ssr:!1},t),e}var o2=function(t){var e=t.sideCar,n=xd(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Vr({},n))};o2.isSideCarExport=!0;function z8(t,e){return t.useMedium(e),o2}var a2=U8(),kv=function(){},sg=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:kv,onWheelCapture:kv,onTouchMoveCapture:kv}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noIsolation,y=t.inert,E=t.allowPinchZoom,b=t.as,_=b===void 0?"div":b,v=xd(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=h,P=V8([n,e]),O=Vr(Vr({},v),i);return g.createElement(g.Fragment,null,d&&g.createElement(x,{sideCar:a2,removeScrollBar:u,shards:f,noIsolation:m,inert:y,setCallbacks:s,allowPinchZoom:!!E,lockRef:n}),o?g.cloneElement(g.Children.only(a),Vr(Vr({},O),{ref:P})):g.createElement(_,Vr({},O,{className:l,ref:P}),a))});sg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sg.classNames={fullWidth:vh,zeroRight:gh};var B8=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W8(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=B8();return e&&t.setAttribute("nonce",e),t}function H8(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function q8(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var K8=function(){var t=0,e=null;return{add:function(n){t==0&&(e=W8())&&(H8(e,n),q8(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},G8=function(){var t=K8();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},l2=function(){var t=G8(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Q8={left:0,top:0,right:0,gap:0},Ov=function(t){return parseInt(t||"",10)||0},X8=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Ov(n),Ov(r),Ov(i)]},Y8=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Q8;var e=X8(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},J8=l2(),nl="data-scroll-locked",Z8=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(D8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(nl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gh," .").concat(gh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vh," .").concat(vh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(nl,`] {
    `).concat($8,": ").concat(a,`px;
  }
`)},jx=function(){var t=parseInt(document.body.getAttribute(nl)||"0",10);return isFinite(t)?t:0},ez=function(){g.useEffect(function(){return document.body.setAttribute(nl,(jx()+1).toString()),function(){var t=jx()-1;t<=0?document.body.removeAttribute(nl):document.body.setAttribute(nl,t.toString())}},[])},tz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;ez();var s=g.useMemo(function(){return Y8(i)},[i]);return g.createElement(J8,{styles:Z8(s,!e,i,n?"":"!important")})},b_=!1;if(typeof window<"u")try{var Lf=Object.defineProperty({},"passive",{get:function(){return b_=!0,!0}});window.addEventListener("test",Lf,Lf),window.removeEventListener("test",Lf,Lf)}catch{b_=!1}var oa=b_?{passive:!1}:!1,nz=function(t){return t.tagName==="TEXTAREA"},c2=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!nz(t)&&n[e]==="visible")},rz=function(t){return c2(t,"overflowY")},iz=function(t){return c2(t,"overflowX")},Ux=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=u2(t,n);if(r){var i=d2(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},sz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},oz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},u2=function(t,e){return t==="v"?rz(e):iz(e)},d2=function(t,e){return t==="v"?sz(e):oz(e)},az=function(t,e){return t==="h"&&e==="rtl"?-1:1},lz=function(t,e,n,r,i){var s=az(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,d=o>0,f=0,h=0;do{var m=d2(t,a),y=m[0],E=m[1],b=m[2],_=E-b-s*y;(y||_)&&u2(t,a)&&(f+=_,h+=y),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(f===0||!i)||!d&&(h===0||!i))&&(u=!0),u},Mf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zx=function(t){return[t.deltaX,t.deltaY]},Bx=function(t){return t&&"current"in t?t.current:t},cz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},uz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},dz=0,aa=[];function fz(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),i=g.useState(dz++)[0],s=g.useState(function(){return l2()})[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=LV([t.lockRef.current],(t.shards||[]).map(Bx),!0).filter(Boolean);return E.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(E,b){if("touches"in E&&E.touches.length===2)return!o.current.allowPinchZoom;var _=Mf(E),v=n.current,x="deltaX"in E?E.deltaX:v[0]-_[0],P="deltaY"in E?E.deltaY:v[1]-_[1],O,$=E.target,T=Math.abs(x)>Math.abs(P)?"h":"v";if("touches"in E&&T==="h"&&$.type==="range")return!1;var S=Ux(T,$);if(!S)return!0;if(S?O=T:(O=T==="v"?"h":"v",S=Ux(T,$)),!S)return!1;if(!r.current&&"changedTouches"in E&&(x||P)&&(r.current=O),!O)return!0;var I=r.current||O;return lz(I,b,E,I==="h"?x:P,!0)},[]),l=g.useCallback(function(E){var b=E;if(!(!aa.length||aa[aa.length-1]!==s)){var _="deltaY"in b?zx(b):Mf(b),v=e.current.filter(function(O){return O.name===b.type&&O.target===b.target&&cz(O.delta,_)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var x=(o.current.shards||[]).map(Bx).filter(Boolean).filter(function(O){return O.contains(b.target)}),P=x.length>0?a(b,x[0]):!o.current.noIsolation;P&&b.cancelable&&b.preventDefault()}}},[]),u=g.useCallback(function(E,b,_,v){var x={name:E,delta:b,target:_,should:v};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(P){return P!==x})},1)},[]),d=g.useCallback(function(E){n.current=Mf(E),r.current=void 0},[]),f=g.useCallback(function(E){u(E.type,zx(E),E.target,a(E,t.lockRef.current))},[]),h=g.useCallback(function(E){u(E.type,Mf(E),E.target,a(E,t.lockRef.current))},[]);g.useEffect(function(){return aa.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",l,oa),document.addEventListener("touchmove",l,oa),document.addEventListener("touchstart",d,oa),function(){aa=aa.filter(function(E){return E!==s}),document.removeEventListener("wheel",l,oa),document.removeEventListener("touchmove",l,oa),document.removeEventListener("touchstart",d,oa)}},[]);var m=t.removeScrollBar,y=t.inert;return g.createElement(g.Fragment,null,y?g.createElement(s,{styles:uz(i)}):null,m?g.createElement(tz,{gapMode:"margin"}):null)}const hz=z8(a2,fz);var rE=g.forwardRef(function(t,e){return g.createElement(sg,Vr({},t,{ref:e,sideCar:hz}))});rE.classNames=sg.classNames;const S_=["Enter"," "],pz=["ArrowDown","PageUp","Home"],f2=["ArrowUp","PageDown","End"],mz=[...pz,...f2],gz={ltr:[...S_,"ArrowRight"],rtl:[...S_,"ArrowLeft"]},vz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},og="Menu",[od,yz,_z]=Dk(og),[Go,h2]=Gs(og,[_z,Hl,n2]),iE=Hl(),p2=n2(),[wz,Qo]=Go(og),[Ez,zd]=Go(og),bz=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=iE(e),[l,u]=g.useState(null),d=g.useRef(!1),f=Pr(s),h=$k(i);return g.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),g.createElement(Z0,a,g.createElement(wz,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:u},g.createElement(Ez,{scope:e,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o},r)))},m2=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=iE(n);return g.createElement(eE,fe({},i,r,{ref:e}))}),g2="MenuPortal",[Sz,v2]=Go(g2,{forceMount:void 0}),xz=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Qo(g2,e);return g.createElement(Sz,{scope:e,forceMount:n},g.createElement(Qs,{present:n||s.open},g.createElement(e2,{asChild:!0,container:i},r)))},Sr="MenuContent",[Tz,sE]=Go(Sr),Iz=g.forwardRef((t,e)=>{const n=v2(Sr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Qo(Sr,t.__scopeMenu),o=zd(Sr,t.__scopeMenu);return g.createElement(od.Provider,{scope:t.__scopeMenu},g.createElement(Qs,{present:r||s.open},g.createElement(od.Slot,{scope:t.__scopeMenu},o.modal?g.createElement(Cz,fe({},i,{ref:e})):g.createElement(Rz,fe({},i,{ref:e})))))}),Cz=g.forwardRef((t,e)=>{const n=Qo(Sr,t.__scopeMenu),r=g.useRef(null),i=qt(e,r);return g.useEffect(()=>{const s=r.current;if(s)return s2(s)},[]),g.createElement(oE,fe({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ie(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),Rz=g.forwardRef((t,e)=>{const n=Qo(Sr,t.__scopeMenu);return g.createElement(oE,fe({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),oE=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...E}=t,b=Qo(Sr,n),_=zd(Sr,n),v=iE(n),x=p2(n),P=yz(n),[O,$]=g.useState(null),T=g.useRef(null),S=qt(e,T,b.onContentChange),I=g.useRef(0),R=g.useRef(""),D=g.useRef(0),k=g.useRef(null),A=g.useRef("right"),G=g.useRef(0),Y=y?rE:g.Fragment,pe=y?{as:As,allowPinchZoom:!0}:void 0,le=U=>{var Z,ce;const B=R.current+U,ne=P().filter(Ae=>!Ae.disabled),ue=document.activeElement,de=(Z=ne.find(Ae=>Ae.ref.current===ue))===null||Z===void 0?void 0:Z.textValue,re=ne.map(Ae=>Ae.textValue),me=Wz(re,B,de),Ne=(ce=ne.find(Ae=>Ae.textValue===me))===null||ce===void 0?void 0:ce.ref.current;(function Ae(Je){R.current=Je,window.clearTimeout(I.current),Je!==""&&(I.current=window.setTimeout(()=>Ae(""),1e3))})(B),Ne&&setTimeout(()=>Ne.focus())};g.useEffect(()=>()=>window.clearTimeout(I.current),[]),Mk();const W=g.useCallback(U=>{var Z,ce;return A.current===((Z=k.current)===null||Z===void 0?void 0:Z.side)&&qz(U,(ce=k.current)===null||ce===void 0?void 0:ce.area)},[]);return g.createElement(Tz,{scope:n,searchRef:R,onItemEnter:g.useCallback(U=>{W(U)&&U.preventDefault()},[W]),onItemLeave:g.useCallback(U=>{var Z;W(U)||((Z=T.current)===null||Z===void 0||Z.focus(),$(null))},[W]),onTriggerLeave:g.useCallback(U=>{W(U)&&U.preventDefault()},[W]),pointerGraceTimerRef:D,onPointerGraceIntentChange:g.useCallback(U=>{k.current=U},[])},g.createElement(Y,pe,g.createElement(Vk,{asChild:!0,trapped:i,onMountAutoFocus:Ie(s,U=>{var Z;U.preventDefault(),(Z=T.current)===null||Z===void 0||Z.focus()}),onUnmountAutoFocus:o},g.createElement(H0,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m},g.createElement(P8,fe({asChild:!0},x,{dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:$,onEntryFocus:Ie(l,U=>{_.isUsingKeyboardRef.current||U.preventDefault()})}),g.createElement(tE,fe({role:"menu","aria-orientation":"vertical","data-state":b2(b.open),"data-radix-menu-content":"",dir:_.dir},v,E,{ref:S,style:{outline:"none",...E.style},onKeyDown:Ie(E.onKeyDown,U=>{const ce=U.target.closest("[data-radix-menu-content]")===U.currentTarget,B=U.ctrlKey||U.altKey||U.metaKey,ne=U.key.length===1;ce&&(U.key==="Tab"&&U.preventDefault(),!B&&ne&&le(U.key));const ue=T.current;if(U.target!==ue||!mz.includes(U.key))return;U.preventDefault();const re=P().filter(me=>!me.disabled).map(me=>me.ref.current);f2.includes(U.key)&&re.reverse(),zz(re)}),onBlur:Ie(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(I.current),R.current="")}),onPointerMove:Ie(t.onPointerMove,ad(U=>{const Z=U.target,ce=G.current!==U.clientX;if(U.currentTarget.contains(Z)&&ce){const B=U.clientX>G.current?"right":"left";A.current=B,G.current=U.clientX}}))})))))))}),Pz=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.createElement(Rt.div,fe({},r,{ref:e}))}),x_="MenuItem",Wx="menu.itemSelect",aE=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=g.useRef(null),o=zd(x_,t.__scopeMenu),a=sE(x_,t.__scopeMenu),l=qt(e,s),u=g.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const h=new CustomEvent(Wx,{bubbles:!0,cancelable:!0});f.addEventListener(Wx,m=>r==null?void 0:r(m),{once:!0}),ok(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return g.createElement(y2,fe({},i,{ref:l,disabled:n,onClick:Ie(t.onClick,d),onPointerDown:f=>{var h;(h=t.onPointerDown)===null||h===void 0||h.call(t,f),u.current=!0},onPointerUp:Ie(t.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)===null||h===void 0||h.click()}),onKeyDown:Ie(t.onKeyDown,f=>{const h=a.searchRef.current!=="";n||h&&f.key===" "||S_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),y2=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=sE(x_,n),a=p2(n),l=g.useRef(null),u=qt(e,l),[d,f]=g.useState(!1),[h,m]=g.useState("");return g.useEffect(()=>{const y=l.current;if(y){var E;m(((E=y.textContent)!==null&&E!==void 0?E:"").trim())}},[s.children]),g.createElement(od.ItemSlot,{scope:n,disabled:r,textValue:i??h},g.createElement(A8,fe({asChild:!0},a,{focusable:!r}),g.createElement(Rt.div,fe({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s,{ref:u,onPointerMove:Ie(t.onPointerMove,ad(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus())})),onPointerLeave:Ie(t.onPointerLeave,ad(y=>o.onItemLeave(y))),onFocus:Ie(t.onFocus,()=>f(!0)),onBlur:Ie(t.onBlur,()=>f(!1))}))))}),Az=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return g.createElement(w2,{scope:t.__scopeMenu,checked:n},g.createElement(aE,fe({role:"menuitemcheckbox","aria-checked":Vp(n)?"mixed":n},i,{ref:e,"data-state":lE(n),onSelect:Ie(i.onSelect,()=>r==null?void 0:r(Vp(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),kz="MenuRadioGroup",[aK,Oz]=Go(kz,{value:void 0,onValueChange:()=>{}}),Nz="MenuRadioItem",Dz=g.forwardRef((t,e)=>{const{value:n,...r}=t,i=Oz(Nz,t.__scopeMenu),s=n===i.value;return g.createElement(w2,{scope:t.__scopeMenu,checked:s},g.createElement(aE,fe({role:"menuitemradio","aria-checked":s},r,{ref:e,"data-state":lE(s),onSelect:Ie(r.onSelect,()=>{var o;return(o=i.onValueChange)===null||o===void 0?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})))}),_2="MenuItemIndicator",[w2,$z]=Go(_2,{checked:!1}),Lz=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=$z(_2,n);return g.createElement(Qs,{present:r||Vp(s.checked)||s.checked===!0},g.createElement(Rt.span,fe({},i,{ref:e,"data-state":lE(s.checked)})))}),Mz=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return g.createElement(Rt.div,fe({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),Vz="MenuSub",[lK,E2]=Go(Vz),Vf="MenuSubTrigger",Fz=g.forwardRef((t,e)=>{const n=Qo(Vf,t.__scopeMenu),r=zd(Vf,t.__scopeMenu),i=E2(Vf,t.__scopeMenu),s=sE(Vf,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),g.createElement(m2,fe({asChild:!0},u),g.createElement(y2,fe({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":b2(n.open)},t,{ref:Zm(e,i.onTriggerChange),onClick:f=>{var h;(h=t.onClick)===null||h===void 0||h.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ie(t.onPointerMove,ad(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Ie(t.onPointerLeave,ad(f=>{var h;d();const m=(h=n.content)===null||h===void 0?void 0:h.getBoundingClientRect();if(m){var y;const E=(y=n.content)===null||y===void 0?void 0:y.dataset.side,b=E==="right",_=b?-5:5,v=m[b?"left":"right"],x=m[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:v,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:v,y:m.bottom}],side:E}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(t.onKeyDown,f=>{const h=s.searchRef.current!=="";if(!(t.disabled||h&&f.key===" ")&&gz[r.dir].includes(f.key)){var m;n.onOpenChange(!0),(m=n.content)===null||m===void 0||m.focus(),f.preventDefault()}})})))}),jz="MenuSubContent",Uz=g.forwardRef((t,e)=>{const n=v2(Sr,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Qo(Sr,t.__scopeMenu),o=zd(Sr,t.__scopeMenu),a=E2(jz,t.__scopeMenu),l=g.useRef(null),u=qt(e,l);return g.createElement(od.Provider,{scope:t.__scopeMenu},g.createElement(Qs,{present:r||s.open},g.createElement(od.Slot,{scope:t.__scopeMenu},g.createElement(oE,fe({id:a.contentId,"aria-labelledby":a.triggerId},i,{ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)===null||f===void 0||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ie(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ie(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ie(t.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),h=vz[o.dir].includes(d.key);if(f&&h){var m;s.onOpenChange(!1),(m=a.trigger)===null||m===void 0||m.focus(),d.preventDefault()}})})))))});function b2(t){return t?"open":"closed"}function Vp(t){return t==="indeterminate"}function lE(t){return Vp(t)?"indeterminate":t?"checked":"unchecked"}function zz(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Bz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Wz(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Bz(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Hz(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function qz(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Hz(n,e)}function ad(t){return e=>e.pointerType==="mouse"?t(e):void 0}const Kz=bz,Gz=m2,Qz=xz,Xz=Iz,Yz=Pz,Jz=aE,Zz=Az,eB=Dz,tB=Lz,nB=Mz,rB=Fz,iB=Uz,S2="DropdownMenu",[sB,cK]=Gs(S2,[h2]),nr=h2(),[oB,x2]=sB(S2),aB=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=nr(e),u=g.useRef(null),[d=!1,f]=rg({prop:i,defaultProp:s,onChange:o});return g.createElement(oB,{scope:e,triggerId:rd(),triggerRef:u,contentId:rd(),open:d,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(h=>!h),[f]),modal:a},g.createElement(Kz,fe({},l,{open:d,onOpenChange:f,dir:r,modal:a}),n))},lB="DropdownMenuTrigger",cB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=x2(lB,n),o=nr(n);return g.createElement(Gz,fe({asChild:!0},o),g.createElement(Rt.button,fe({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:Zm(e,s.triggerRef),onPointerDown:Ie(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ie(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),uB=t=>{const{__scopeDropdownMenu:e,...n}=t,r=nr(e);return g.createElement(Qz,fe({},r,n))},dB="DropdownMenuContent",fB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=x2(dB,n),s=nr(n),o=g.useRef(!1);return g.createElement(Xz,fe({id:i.contentId,"aria-labelledby":i.triggerId},s,r,{ref:e,onCloseAutoFocus:Ie(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)===null||l===void 0||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ie(t.onInteractOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),hB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nr(n);return g.createElement(Yz,fe({},i,r,{ref:e}))}),pB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nr(n);return g.createElement(Jz,fe({},i,r,{ref:e}))}),mB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nr(n);return g.createElement(Zz,fe({},i,r,{ref:e}))}),gB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nr(n);return g.createElement(eB,fe({},i,r,{ref:e}))}),vB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nr(n);return g.createElement(tB,fe({},i,r,{ref:e}))}),yB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nr(n);return g.createElement(nB,fe({},i,r,{ref:e}))}),_B=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nr(n);return g.createElement(rB,fe({},i,r,{ref:e}))}),wB=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nr(n);return g.createElement(iB,fe({},i,r,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),EB=aB,bB=cB,SB=uB,T2=fB,I2=hB,C2=pB,R2=mB,P2=gB,A2=vB,k2=yB,O2=_B,N2=wB,xB=EB,TB=bB,IB=g.forwardRef(({className:t,inset:e,children:n,...r},i)=>N.jsxs(O2,{ref:i,className:Ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,N.jsx(f5,{className:"ml-auto h-4 w-4"})]}));IB.displayName=O2.displayName;const CB=g.forwardRef(({className:t,...e},n)=>N.jsx(N2,{ref:n,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));CB.displayName=N2.displayName;const D2=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>N.jsx(SB,{children:N.jsx(T2,{ref:r,sideOffset:e,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));D2.displayName=T2.displayName;const yh=g.forwardRef(({className:t,inset:e,...n},r)=>N.jsx(C2,{ref:r,className:Ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));yh.displayName=C2.displayName;const RB=g.forwardRef(({className:t,children:e,checked:n,...r},i)=>N.jsxs(R2,{ref:i,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[N.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:N.jsx(A2,{children:N.jsx(d5,{className:"h-4 w-4"})})}),e]}));RB.displayName=R2.displayName;const PB=g.forwardRef(({className:t,children:e,...n},r)=>N.jsxs(P2,{ref:r,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[N.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:N.jsx(A2,{children:N.jsx(h5,{className:"h-2 w-2 fill-current"})})}),e]}));PB.displayName=P2.displayName;const AB=g.forwardRef(({className:t,inset:e,...n},r)=>N.jsx(I2,{ref:r,className:Ye("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));AB.displayName=I2.displayName;const kB=g.forwardRef(({className:t,...e},n)=>N.jsx(k2,{ref:n,className:Ye("-mx-1 my-1 h-px bg-muted",t),...e}));kB.displayName=k2.displayName;const OB={theme:"system",setTheme:()=>null},$2=g.createContext(OB);function NB({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[i,s]=g.useState(()=>localStorage.getItem(n)||e);g.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l);return}a.classList.add(i)},[i]);const o={theme:i,setTheme:a=>{localStorage.setItem(n,a),s(a)}};return N.jsx($2.Provider,{...r,value:o,children:t})}const DB=()=>{const t=g.useContext($2);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function cE({className:t,...e}){const{setTheme:n}=DB(),{t:r}=$i();return N.jsx("div",{className:t,...e,children:N.jsxs(xB,{children:[N.jsx(TB,{asChild:!0,children:N.jsxs(ks,{variant:"outline",size:"icon",children:[N.jsx(w5,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),N.jsx(_5,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),N.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),N.jsxs(D2,{align:"end",children:[N.jsx(yh,{onClick:()=>n("light"),children:r("lightTheme")}),N.jsx(yh,{onClick:()=>n("dark"),children:r("darkTheme")}),N.jsx(yh,{onClick:()=>n("system"),children:r("systemTheme")})]})]})})}const $B=()=>{const t=Dl(),{t:e}=$i(),n=Ga(Ss,"users"),r=async o=>{await wp(n,{uid:o.uid,username:o.displayName,email:o.email,photoURL:o.photoURL,createdAt:new Date})},i=async o=>{try{const l=(await N3(Md,o.email,o.password)).user;await L3(l,{displayName:o.username}),localStorage.setItem("token",l.accessToken),localStorage.setItem("user",JSON.stringify(l)),await r(l),t("/")}catch(a){console.error(a)}},s=sk({resolver:Ik(xU),defaultValues:{username:"",email:"",password:""}});return N.jsxs("div",{className:"flex justify-center items-center h-full",children:[N.jsx(cE,{className:"absolute top-6 right-6"}),N.jsx(W0,{className:"absolute bottom-6 right-6"}),N.jsxs(Er,{className:"w-[350px]",children:[N.jsxs(N0,{children:[N.jsx(D0,{className:"text-center text-3xl",children:e("registerTitle")}),N.jsx(zu,{className:"text-center",children:e("registerSubtitle")})]}),N.jsx($0,{children:N.jsx(ck,{...s,children:N.jsxs("form",{onSubmit:s.handleSubmit(i),children:[N.jsx(cu,{control:s.control,name:"username",render:({field:o})=>N.jsxs(Xa,{className:"mb-3",children:[N.jsx(Ya,{children:e("usernameField")}),N.jsx(Ja,{children:N.jsx(Do,{placeholder:e("usernameField"),...o})}),N.jsx(Za,{})]})}),N.jsx(cu,{control:s.control,name:"email",render:({field:o})=>N.jsxs(Xa,{className:"mb-3",children:[N.jsx(Ya,{children:e("emailField")}),N.jsx(Ja,{children:N.jsx(Do,{type:"email",placeholder:e("emailField"),...o})}),N.jsx(Za,{})]})}),N.jsx(cu,{control:s.control,name:"password",render:({field:o})=>N.jsxs(Xa,{children:[N.jsx(Ya,{children:e("passwordField")}),N.jsx(Ja,{children:N.jsx(z0,{placeholder:e("passwordField"),...o})}),N.jsx(Za,{})]})}),N.jsx(ks,{className:"w-full mt-6",type:"submit",children:e("registerSubmitButton")})]})})}),N.jsx(L0,{className:"block",children:N.jsxs(zu,{className:"text-center",children:[e("navigateToLoginTitle")," ",N.jsx(pR,{to:"/login",className:"text-white font-semibold hover:underline",children:e("navigateToLoginUrl")})]})})]})]})},LB=()=>{const t=Dl(),{t:e}=$i(),n=async i=>{try{const o=(await D3(Md,i.email,i.password)).user;localStorage.setItem("token",o.accessToken),localStorage.setItem("user",JSON.stringify(o)),t("/")}catch(s){console.error(s)}},r=sk({resolver:Ik(SU),defaultValues:{email:"",password:""}});return N.jsxs("div",{className:"flex justify-center items-center h-full",children:[N.jsx(cE,{className:"absolute top-6 right-6"}),N.jsx(W0,{className:"absolute bottom-6 right-6"}),N.jsxs(Er,{className:"w-[350px]",children:[N.jsxs(N0,{children:[N.jsx(D0,{className:"text-center text-3xl",children:e("loginTitle")}),N.jsx(zu,{className:"text-center",children:e("loginSubtitle")})]}),N.jsx($0,{children:N.jsx(ck,{...r,children:N.jsxs("form",{onSubmit:r.handleSubmit(n),children:[N.jsx(cu,{control:r.control,name:"email",render:({field:i})=>N.jsxs(Xa,{children:[N.jsx(Ya,{children:e("emailField")}),N.jsx(Ja,{children:N.jsx(Do,{placeholder:e("emailField"),...i})}),N.jsx(Za,{})]})}),N.jsx(cu,{control:r.control,name:"password",render:({field:i})=>N.jsxs(Xa,{className:" mt-3",children:[N.jsx(Ya,{children:e("passwordField")}),N.jsx(Ja,{children:N.jsx(z0,{placeholder:e("passwordField"),...i})}),N.jsx(Za,{})]})}),N.jsx(ks,{className:"w-full mt-6",type:"submit",children:e("loginSubmitButton")})]})})}),N.jsx(L0,{className:"block",children:N.jsxs(zu,{className:"text-center",children:[e("navigateToRegisterTitle")," ",N.jsx(pR,{to:"/signup",className:"text-white font-semibold hover:underline",children:e("navigateToRegisterUrl")})]})})]})]})},MB=()=>localStorage.getItem("token")?N.jsx(qL,{}):N.jsx(hR,{to:"/login"}),VB=t=>g.createElement("svg",{className:"{props.className}",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2,...t},g.createElement("path",{d:"M474.123 209.81c11.525-34.577 7.569-72.423-10.838-103.904-27.696-48.168-83.433-72.94-137.794-61.414a127.14 127.14 0 00-95.475-42.49c-55.564 0-104.936 35.781-122.139 88.593-35.781 7.397-66.574 29.76-84.637 61.414-27.868 48.167-21.503 108.72 15.826 150.007-11.525 34.578-7.569 72.424 10.838 103.733 27.696 48.34 83.433 73.111 137.966 61.585 24.084 27.18 58.833 42.835 95.303 42.663 55.564 0 104.936-35.782 122.139-88.594 35.782-7.397 66.574-29.76 84.465-61.413 28.04-48.168 21.676-108.722-15.654-150.008v-.172zm-39.567-87.218c11.01 19.267 15.139 41.803 11.354 63.65-.688-.516-2.064-1.204-2.924-1.72l-101.152-58.49a16.965 16.965 0 00-16.687 0L206.621 194.5v-50.232l97.883-56.597c45.587-26.32 103.732-10.666 130.052 34.921zm-227.935 104.42l49.888-28.9 49.887 28.9v57.63l-49.887 28.9-49.888-28.9v-57.63zm23.223-191.81c22.364 0 43.867 7.742 61.07 22.02-.688.344-2.064 1.204-3.097 1.72L186.666 117.26c-5.161 2.925-8.258 8.43-8.258 14.45v136.934l-43.523-25.116V130.333c0-52.64 42.491-95.13 95.131-95.302l-.172.172zM52.14 168.697c11.182-19.268 28.557-34.062 49.544-41.803V247.14c0 6.02 3.097 11.354 8.258 14.45l118.354 68.295-43.695 25.288-97.711-56.425c-45.415-26.32-61.07-84.465-34.75-130.052zm26.665 220.71c-11.182-19.095-15.139-41.802-11.354-63.65.688.516 2.064 1.204 2.924 1.72l101.152 58.49a16.965 16.965 0 0016.687 0l118.354-68.467v50.232l-97.883 56.425c-45.587 26.148-103.732 10.665-130.052-34.75h.172zm204.54 87.39c-22.192 0-43.867-7.741-60.898-22.02a62.439 62.439 0 003.097-1.72l101.152-58.317c5.16-2.924 8.429-8.43 8.257-14.45V243.527l43.523 25.116v113.022c0 52.64-42.663 95.303-95.131 95.303v-.172zM461.22 343.303c-11.182 19.267-28.729 34.061-49.544 41.63V264.687c0-6.021-3.097-11.526-8.257-14.45L284.893 181.77l43.523-25.116 97.883 56.424c45.587 26.32 61.07 84.466 34.75 130.053l.172.172z",fillRule:"nonzero"})),L2="Avatar",[FB,uK]=Gs(L2),[jB,M2]=FB(L2),UB=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=g.useState("idle");return g.createElement(jB,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s},g.createElement(Rt.span,fe({},r,{ref:e})))}),zB="AvatarImage",BB=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=M2(zB,n),a=qB(r),l=Pr(u=>{i(u),o.onImageLoadingStatusChange(u)});return Ls(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?g.createElement(Rt.img,fe({},s,{ref:e,src:r})):null}),WB="AvatarFallback",HB=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=M2(WB,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?g.createElement(Rt.span,fe({},i,{ref:e})):null});function qB(t){const[e,n]=g.useState("idle");return Ls(()=>{if(!t){n("error");return}let r=!0;const i=new window.Image,s=o=>()=>{r&&n(o)};return n("loading"),i.onload=s("loaded"),i.onerror=s("error"),i.src=t,()=>{r=!1}},[t]),e}const V2=UB,F2=BB,j2=HB,Vo=g.forwardRef(({className:t,...e},n)=>N.jsx(V2,{ref:n,className:Ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Vo.displayName=V2.displayName;const Fo=g.forwardRef(({className:t,...e},n)=>N.jsx(F2,{ref:n,className:Ye("aspect-square h-full w-full",t),...e}));Fo.displayName=F2.displayName;const jo=g.forwardRef(({className:t,...e},n)=>N.jsx(j2,{ref:n,className:Ye("flex h-full w-full items-center justify-center rounded-full bg-secondary",t),...e}));jo.displayName=j2.displayName;const KB=(t,e=20)=>{const[n,r]=g.useState(""),i=g.useRef(-1);return g.useEffect(()=>{const s=setInterval(()=>{i.current<t.length?(i.current+=1,r(o=>o+t.charAt(i.current))):clearInterval(s)},e);return()=>{clearInterval(s)}},[t,e]),n},GB=({text:t,speed:e,...n})=>{const r=KB(t,e);return N.jsx(Er,{...n,children:r})},ga="4.47.1";let Hx=!1,uu,U2,z2,T_,B2,W2,H2,q2,K2;function QB(t,e={auto:!1}){if(Hx)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(uu)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${uu}'\``);Hx=e.auto,uu=t.kind,U2=t.fetch,z2=t.FormData,T_=t.File,B2=t.ReadableStream,W2=t.getMultipartRequestOptions,H2=t.getDefaultAgent,q2=t.fileFromPath,K2=t.isFsReadStream}class XB{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function YB({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,r,i,s;try{n=fetch,r=Request,i=Response,s=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:r,Response:i,Headers:s,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new XB(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}uu||QB(YB(),{auto:!0});class Ue extends Error{}class Kt extends Ue{constructor(e,n,r,i){super(`${Kt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.request_id=i==null?void 0:i["x-request-id"];const s=n;this.error=s,this.code=s==null?void 0:s.code,this.param=s==null?void 0:s.param,this.type=s==null?void 0:s.type}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e)return new ag({cause:C_(n)});const s=n==null?void 0:n.error;return e===400?new G2(e,s,r,i):e===401?new Q2(e,s,r,i):e===403?new X2(e,s,r,i):e===404?new Y2(e,s,r,i):e===409?new J2(e,s,r,i):e===422?new Z2(e,s,r,i):e===429?new eO(e,s,r,i):e>=500?new tO(e,s,r,i):new Kt(e,s,r,i)}}class $n extends Kt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class ag extends Kt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class uE extends ag{constructor({message:e}={}){super({message:e??"Request timed out."})}}class G2 extends Kt{constructor(){super(...arguments),this.status=400}}class Q2 extends Kt{constructor(){super(...arguments),this.status=401}}class X2 extends Kt{constructor(){super(...arguments),this.status=403}}class Y2 extends Kt{constructor(){super(...arguments),this.status=404}}class J2 extends Kt{constructor(){super(...arguments),this.status=409}}class Z2 extends Kt{constructor(){super(...arguments),this.status=422}}class eO extends Kt{constructor(){super(...arguments),this.status=429}}class tO extends Kt{}class Ur{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let r=!1;async function*i(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{for await(const o of JB(e,n))if(!s){if(o.data.startsWith("[DONE]")){s=!0;continue}if(o.event===null){let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(a&&a.error)throw new Kt(void 0,a.error,void 0,void 0);yield a}else{let a;try{a=JSON.parse(o.data)}catch(l){throw console.error("Could not parse message into JSON:",o.data),console.error("From chunk:",o.raw),l}if(o.event=="error")throw new Kt(void 0,a.error,a.message,void 0);yield{event:o.event,data:a}}}s=!0}catch(o){if(o instanceof Error&&o.name==="AbortError")return;throw o}finally{s||n.abort()}}return new Ur(i,n)}static fromReadableStream(e,n){let r=!1;async function*i(){const o=new Uo,a=nO(e);for await(const l of a)for(const u of o.decode(l))yield u;for(const l of o.flush())yield l}async function*s(){if(r)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let o=!1;try{for await(const a of i())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Ur(s,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new Ur(()=>i(e),this.controller),new Ur(()=>i(n),this.controller)]}toReadableStream(){const e=this;let n;const r=new TextEncoder;return new B2({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:o}=await n.next();if(o)return i.close();const a=r.encode(JSON.stringify(s)+`
`);i.enqueue(a)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)==null?void 0:i.call(n))}})}}async function*JB(t,e){if(!t.body)throw e.abort(),new Ue("Attempted to iterate over a response with no body");const n=new tW,r=new Uo,i=nO(t.body);for await(const s of ZB(i))for(const o of r.decode(s)){const a=n.decode(o);a&&(yield a)}for(const s of r.flush()){const o=n.decode(s);o&&(yield o)}}async function*ZB(t){let e=new Uint8Array;for await(const n of t){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?new TextEncoder().encode(n):n;let i=new Uint8Array(e.length+r.length);i.set(e),i.set(r,e.length),e=i;let s;for(;(s=eW(e))!==-1;)yield e.slice(0,s),e=e.slice(s)}e.length>0&&(yield e)}function eW(t){for(let r=0;r<t.length-2;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}class tW{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=nW(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}class Uo{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const r=Uo.NEWLINE_CHARS.has(n[n.length-1]||"");let i=n.split(Uo.NEWLINE_REGEXP);return r&&i.pop(),i.length===1&&!r?(this.buffer.push(i[0]),[]):(this.buffer.length>0&&(i=[this.buffer.join("")+i[0],...i.slice(1)],this.buffer=[]),r||(this.buffer=[i.pop()||""]),i)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new Ue(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new Ue(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new Ue("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Uo.NEWLINE_CHARS=new Set([`
`,"\r"]);Uo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function nW(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function nO(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const rO=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",iO=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&sO(t),sO=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",rW=t=>iO(t)||rO(t)||K2(t);async function oO(t,e,n){var i;if(t=await t,n??(n=iO(t)?{lastModified:t.lastModified,type:t.type}:{}),rO(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new T_([s],e,n)}const r=await iW(t);if(e||(e=oW(t)??"unknown_file"),!n.type){const s=(i=r[0])==null?void 0:i.type;typeof s=="string"&&(n={...n,type:s})}return new T_(r,e,n)}async function iW(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(sO(t))e.push(await t.arrayBuffer());else if(aW(t))for await(const r of t)e.push(r);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${sW(t)}`);return e}function sW(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function oW(t){var e;return Nv(t.name)||Nv(t.filename)||((e=Nv(t.path))==null?void 0:e.split(/[\\/]/).pop())}const Nv=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},aW=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",qx=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",ld=async t=>{const e=await lW(t.body);return W2(e,t)},lW=async t=>{const e=new z2;return await Promise.all(Object.entries(t||{}).map(([n,r])=>I_(e,n,r))),e},I_=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(rW(n)){const r=await oO(n);t.append(e,r)}else if(Array.isArray(n))await Promise.all(n.map(r=>I_(t,e+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,i])=>I_(t,`${e}[${r}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var rl={},cW=function(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n},uW=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},Ff;async function aO(t){const{response:e}=t;if(t.options.stream)return il("response",e.status,e.url,e.headers,e.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(e,t.controller):Ur.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if((n==null?void 0:n.includes("application/json"))||(n==null?void 0:n.includes("application/vnd.api+json"))){const s=await e.json();return il("response",e.status,e.url,e.headers,s),s}const i=await e.text();return il("response",e.status,e.url,e.headers,i),i}class lg extends Promise{constructor(e,n=aO){super(r=>{r(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new lg(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class dW{constructor({baseURL:e,maxRetries:n=2,timeout:r=6e5,httpAgent:i,fetch:s}){this.baseURL=e,this.maxRetries=Dv("maxRetries",n),this.timeout=Dv("timeout",r),this.httpAgent=i,this.fetch=s??U2}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...vW(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${EW()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>({method:e,path:n,...i})))}getAPIList(e,n,r){return this.requestAPIList(n,{method:"get",path:e,...r})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var y;const{method:n,path:r,query:i,headers:s={}}=e,o=qx(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,a=this.calculateContentLength(o),l=this.buildURL(r,i);"timeout"in e&&Dv("timeout",e.timeout);const u=e.timeout??this.timeout,d=e.httpAgent??this.httpAgent??H2(l),f=u+1e3;typeof((y=d==null?void 0:d.options)==null?void 0:y.timeout)=="number"&&f>(d.options.timeout??0)&&(d.options.timeout=f),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const h=this.buildHeaders({options:e,headers:s,contentLength:a});return{req:{method:n,...o&&{body:o},headers:h,...d&&{agent:d},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:n,contentLength:r}){const i={};r&&(i["content-length"]=r);const s=this.defaultHeaders(e);return Xx(i,s),Xx(i,n),qx(e.body)&&uu!=="node"&&delete i["content-type"],this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,{url:n,options:r}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,r,i){return Kt.generate(e,n,r,i)}request(e,n=null){return new lg(this.makeRequest(e,n))}async makeRequest(e,n){var d,f;const r=await e;n==null&&(n=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:i,url:s,timeout:o}=this.buildRequest(r);if(await this.prepareRequest(i,{url:s,options:r}),il("request",s,r,i.headers),(d=r.signal)!=null&&d.aborted)throw new $n;const a=new AbortController,l=await this.fetchWithTimeout(s,i,o,a).catch(C_);if(l instanceof Error){if((f=r.signal)!=null&&f.aborted)throw new $n;if(n)return this.retryRequest(r,n);throw l.name==="AbortError"?new uE:new ag({cause:l})}const u=hW(l.headers);if(!l.ok){if(n&&this.shouldRetry(l)){const _=`retrying, ${n} attempts remaining`;return il(`response (error; ${_})`,l.status,s,u),this.retryRequest(r,n,u)}const h=await l.text().catch(_=>C_(_).message),m=yW(h),y=m?void 0:h;throw il(`response (error; ${n?"(error; no more retries left)":"(error; not retryable)"})`,l.status,s,u,y),this.makeStatusError(l.status,m,y,u)}return{response:l,options:r,controller:a}}requestAPIList(e,n){const r=this.makeRequest(n,null);return new fW(this,r,e)}buildURL(e,n){const r=wW(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return cO(i)||(n={...i,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(r.search=this.stringifyQuery(n)),r.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ue(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,r,i){const{signal:s,...o}=n||{};s&&s.addEventListener("abort",()=>i.abort());const a=setTimeout(()=>i.abort(),r);return this.getRequestClient().fetch.call(void 0,e,{signal:i.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r){let i;const s=r==null?void 0:r["retry-after-ms"];if(s){const a=parseFloat(s);Number.isNaN(a)||(i=a)}const o=r==null?void 0:r["retry-after"];if(o&&!i){const a=parseFloat(o);Number.isNaN(a)?i=Date.parse(o)-Date.now():i=a*1e3}if(!(i&&0<=i&&i<60*1e3)){const a=e.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,a)}return await Bd(i),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${ga}`}}class lO{constructor(e,n,r,i){Ff.set(this,void 0),cW(this,Ff,e),this.options=i,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new Ue("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const r=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[i,s]of r)e.url.searchParams.set(i,s);n.query=void 0,n.path=e.url.toString()}return await uW(this,Ff,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Ff=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class fW extends lg{constructor(e,n,r){super(n,async i=>new r(e,i.response,await aO(i),i.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const hW=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const r=n.toString();return e[r.toLowerCase()]||e[r]}}),pW={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryResponse:!0,__streamClass:!0},zn=t=>typeof t=="object"&&t!==null&&!cO(t)&&Object.keys(t).every(e=>uO(pW,e)),mW=()=>{var e;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ga,"X-Stainless-OS":Gx(Deno.build.os),"X-Stainless-Arch":Kx(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((e=Deno.version)==null?void 0:e.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ga,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ga,"X-Stainless-OS":Gx(process.platform),"X-Stainless-Arch":Kx(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=gW();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ga,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ga,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function gW(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const Kx=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Gx=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Qx;const vW=()=>Qx??(Qx=mW()),yW=t=>{try{return JSON.parse(t)}catch{return}},_W=new RegExp("^(?:[a-z]+:)?//","i"),wW=t=>_W.test(t),Bd=t=>new Promise(e=>setTimeout(e,t)),Dv=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ue(`${t} must be an integer`);if(e<0)throw new Ue(`${t} must be a positive integer`);return e},C_=t=>t instanceof Error?t:new Error(t),jf=t=>{var e,n,r,i;if(typeof process<"u")return((e=rl==null?void 0:rl[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(i=(r=(n=Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,t))==null?void 0:i.trim()};function cO(t){if(!t)return!0;for(const e in t)return!1;return!0}function uO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xx(t,e){for(const n in e){if(!uO(e,n))continue;const r=n.toLowerCase();if(!r)continue;const i=e[n];i===null?delete t[r]:i!==void 0&&(t[r]=i)}}function il(t,...e){typeof process<"u"&&(rl==null?void 0:rl.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const EW=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),bW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function Yx(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}class dE extends lO{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class kr extends lO{constructor(e,n,r,i){super(e,n,r,i),this.data=r.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var r;const e=this.getPaginatedItems();if(!e.length)return null;const n=(r=e[e.length-1])==null?void 0:r.id;return n?{params:{after:n}}:null}}class et{constructor(e){this._client=e}}let Fp=class extends et{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}};Fp||(Fp={});let jp=class extends et{constructor(){super(...arguments),this.completions=new Fp(this._client)}};(function(t){t.Completions=Fp})(jp||(jp={}));class Up extends et{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}Up||(Up={});class zp extends et{create(e,n){return this._client.post("/audio/transcriptions",ld({body:e,...n}))}}zp||(zp={});class Bp extends et{create(e,n){return this._client.post("/audio/translations",ld({body:e,...n}))}}Bp||(Bp={});class Wp extends et{constructor(){super(...arguments),this.transcriptions=new zp(this._client),this.translations=new Bp(this._client),this.speech=new Up(this._client)}}(function(t){t.Transcriptions=zp,t.Translations=Bp,t.Speech=Up})(Wp||(Wp={}));class Hp extends et{create(e,n){return this._client.post("/batches",{body:e,...n})}retrieve(e,n){return this._client.get(`/batches/${e}`,n)}list(e={},n){return zn(e)?this.list({},e):this._client.getAPIList("/batches",fE,{query:e,...n})}cancel(e,n){return this._client.post(`/batches/${e}/cancel`,n)}}class fE extends kr{}(function(t){t.BatchesPage=fE})(Hp||(Hp={}));class qp extends et{create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/assistants/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return zn(e)?this.list({},e):this._client.getAPIList("/assistants",hE,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class hE extends kr{}(function(t){t.AssistantsPage=hE})(qp||(qp={}));function Jx(t){return typeof t.parse=="function"}const sl=t=>(t==null?void 0:t.role)==="assistant",dO=t=>(t==null?void 0:t.role)==="function",fO=t=>(t==null?void 0:t.role)==="tool";var ar=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},De=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},tn,_h,wh,Lc,Mc,Eh,Vc,ui,Fc,bh,Sh,va,R_,Kp,P_,A_,k_,O_,hO,N_;const Zx=10;class pO{constructor(){tn.add(this),this.controller=new AbortController,_h.set(this,void 0),wh.set(this,()=>{}),Lc.set(this,()=>{}),Mc.set(this,void 0),Eh.set(this,()=>{}),Vc.set(this,()=>{}),ui.set(this,{}),this._chatCompletions=[],this.messages=[],Fc.set(this,!1),bh.set(this,!1),Sh.set(this,!1),va.set(this,!1),O_.set(this,e=>{if(ar(this,bh,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new $n),e instanceof $n)return ar(this,Sh,!0,"f"),this._emit("abort",e);if(e instanceof Ue)return this._emit("error",e);if(e instanceof Error){const n=new Ue(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Ue(String(e)))}),ar(this,_h,new Promise((e,n)=>{ar(this,wh,e,"f"),ar(this,Lc,n,"f")}),"f"),ar(this,Mc,new Promise((e,n)=>{ar(this,Eh,e,"f"),ar(this,Vc,n,"f")}),"f"),De(this,_h,"f").catch(()=>{}),De(this,Mc,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},De(this,O_,"f"))},0)}_addChatCompletion(e){var r;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(r=e.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(dO(e)||fO(e))&&e.content)this._emit("functionCallResult",e.content);else if(sl(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(sl(e)&&e.tool_calls)for(const r of e.tool_calls)r.type==="function"&&this._emit("functionCall",r.function)}}_connected(){this.ended||(De(this,wh,"f").call(this),this._emit("connect"))}get ended(){return De(this,Fc,"f")}get errored(){return De(this,bh,"f")}get aborted(){return De(this,Sh,"f")}abort(){this.controller.abort()}on(e,n){return(De(this,ui,"f")[e]||(De(this,ui,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=De(this,ui,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(De(this,ui,"f")[e]||(De(this,ui,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{ar(this,va,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){ar(this,va,!0,"f"),await De(this,Mc,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Ue("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),De(this,tn,"m",R_).call(this)}async finalMessage(){return await this.done(),De(this,tn,"m",Kp).call(this)}async finalFunctionCall(){return await this.done(),De(this,tn,"m",P_).call(this)}async finalFunctionCallResult(){return await this.done(),De(this,tn,"m",A_).call(this)}async totalUsage(){return await this.done(),De(this,tn,"m",k_).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e,...n){if(De(this,Fc,"f"))return;e==="end"&&(ar(this,Fc,!0,"f"),De(this,Eh,"f").call(this));const r=De(this,ui,"f")[e];if(r&&(De(this,ui,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!De(this,va,"f")&&!(r!=null&&r.length)&&Promise.reject(i),De(this,Lc,"f").call(this,i),De(this,Vc,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!De(this,va,"f")&&!(r!=null&&r.length)&&Promise.reject(i),De(this,Lc,"f").call(this,i),De(this,Vc,"f").call(this,i),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=De(this,tn,"m",Kp).call(this);n&&this._emit("finalMessage",n);const r=De(this,tn,"m",R_).call(this);r&&this._emit("finalContent",r);const i=De(this,tn,"m",P_).call(this);i&&this._emit("finalFunctionCall",i);const s=De(this,tn,"m",A_).call(this);s!=null&&this._emit("finalFunctionCallResult",s),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",De(this,tn,"m",k_).call(this))}async _createChatCompletion(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),De(this,tn,"m",hO).call(this,n);const s=await e.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(s)}async _runChatCompletion(e,n,r){for(const i of n.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,n,r)}async _runFunctions(e,n,r){var h;const i="function",{function_call:s="auto",stream:o,...a}=n,l=typeof s!="string"&&(s==null?void 0:s.name),{maxChatCompletions:u=Zx}=r||{},d={};for(const m of n.functions)d[m.name||m.function.name]=m;const f=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<u;++m){const E=(h=(await this._createChatCompletion(e,{...a,function_call:s,functions:f,messages:[...this.messages]},r)).choices[0])==null?void 0:h.message;if(!E)throw new Ue("missing message in ChatCompletion response");if(!E.function_call)return;const{name:b,arguments:_}=E.function_call,v=d[b];if(v){if(l&&l!==b){const $=`Invalid function_call: ${JSON.stringify(b)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,name:b,content:$});continue}}else{const $=`Invalid function_call: ${JSON.stringify(b)}. Available options are: ${f.map(T=>JSON.stringify(T.name)).join(", ")}. Please try again`;this._addMessage({role:i,name:b,content:$});continue}let x;try{x=Jx(v)?await v.parse(_):_}catch($){this._addMessage({role:i,name:b,content:$ instanceof Error?$.message:String($)});continue}const P=await v.function(x,this),O=De(this,tn,"m",N_).call(this,P);if(this._addMessage({role:i,name:b,content:O}),l)return}}async _runTools(e,n,r){var h,m;const i="tool",{tool_choice:s="auto",stream:o,...a}=n,l=typeof s!="string"&&((h=s==null?void 0:s.function)==null?void 0:h.name),{maxChatCompletions:u=Zx}=r||{},d={};for(const y of n.tools)y.type==="function"&&(d[y.function.name||y.function.function.name]=y.function);const f="tools"in n?n.tools.map(y=>y.type==="function"?{type:"function",function:{name:y.function.name||y.function.function.name,parameters:y.function.parameters,description:y.function.description}}:y):void 0;for(const y of n.messages)this._addMessage(y,!1);for(let y=0;y<u;++y){const b=(m=(await this._createChatCompletion(e,{...a,tool_choice:s,tools:f,messages:[...this.messages]},r)).choices[0])==null?void 0:m.message;if(!b)throw new Ue("missing message in ChatCompletion response");if(!b.tool_calls)return;for(const _ of b.tool_calls){if(_.type!=="function")continue;const v=_.id,{name:x,arguments:P}=_.function,O=d[x];if(O){if(l&&l!==x){const I=`Invalid tool_call: ${JSON.stringify(x)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:v,content:I});continue}}else{const I=`Invalid tool_call: ${JSON.stringify(x)}. Available options are: ${f.map(R=>JSON.stringify(R.function.name)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:v,content:I});continue}let $;try{$=Jx(O)?await O.parse(P):P}catch(I){const R=I instanceof Error?I.message:String(I);this._addMessage({role:i,tool_call_id:v,content:R});continue}const T=await O.function($,this),S=De(this,tn,"m",N_).call(this,T);if(this._addMessage({role:i,tool_call_id:v,content:S}),l)return}}}}_h=new WeakMap,wh=new WeakMap,Lc=new WeakMap,Mc=new WeakMap,Eh=new WeakMap,Vc=new WeakMap,ui=new WeakMap,Fc=new WeakMap,bh=new WeakMap,Sh=new WeakMap,va=new WeakMap,O_=new WeakMap,tn=new WeakSet,R_=function(){return De(this,tn,"m",Kp).call(this).content??null},Kp=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(sl(n))return{...n,content:n.content??null}}throw new Ue("stream ended without producing a ChatCompletionMessage with role=assistant")},P_=function(){var e,n;for(let r=this.messages.length-1;r>=0;r--){const i=this.messages[r];if(sl(i)&&(i!=null&&i.function_call))return i.function_call;if(sl(i)&&((e=i==null?void 0:i.tool_calls)!=null&&e.length))return(n=i.tool_calls.at(-1))==null?void 0:n.function}},A_=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(dO(n)&&n.content!=null||fO(n)&&n.content!=null&&this.messages.some(r=>{var i;return r.role==="assistant"&&((i=r.tool_calls)==null?void 0:i.some(s=>s.type==="function"&&s.id===n.tool_call_id))}))return n.content}},k_=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},hO=function(e){if(e.n!=null&&e.n>1)throw new Ue("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},N_=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class cd extends pO{static runFunctions(e,n,r){const i=new cd,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new cd,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}_addMessage(e){super._addMessage(e),sl(e)&&e.content&&this._emit("content",e.content)}}var lr=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},$v=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Nr,Wi,Lv,Mv,Uf,eT;class ud extends pO{constructor(){super(...arguments),Nr.add(this),Wi.set(this,void 0)}get currentChatCompletionSnapshot(){return lr(this,Wi,"f")}static fromReadableStream(e){const n=new ud;return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,r){const i=new ud;return i._run(()=>i._runChatCompletion(e,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,n,r){var o;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),lr(this,Nr,"m",Lv).call(this);const s=await e.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const a of s)lr(this,Nr,"m",Mv).call(this,a);if((o=s.controller.signal)!=null&&o.aborted)throw new $n;return this._addChatCompletion(lr(this,Nr,"m",Uf).call(this))}async _fromReadableStream(e,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),lr(this,Nr,"m",Lv).call(this),this._connected();const i=Ur.fromReadableStream(e,this.controller);let s;for await(const a of i)s&&s!==a.id&&this._addChatCompletion(lr(this,Nr,"m",Uf).call(this)),lr(this,Nr,"m",Mv).call(this,a),s=a.id;if((o=i.controller.signal)!=null&&o.aborted)throw new $n;return this._addChatCompletion(lr(this,Nr,"m",Uf).call(this))}[(Wi=new WeakMap,Nr=new WeakSet,Lv=function(){this.ended||$v(this,Wi,void 0,"f")},Mv=function(n){var o,a,l;if(this.ended)return;const r=lr(this,Nr,"m",eT).call(this,n);this._emit("chunk",n,r);const i=(a=(o=n.choices[0])==null?void 0:o.delta)==null?void 0:a.content,s=(l=r.choices[0])==null?void 0:l.message;i!=null&&(s==null?void 0:s.role)==="assistant"&&(s!=null&&s.content)&&this._emit("content",i,s.content)},Uf=function(){if(this.ended)throw new Ue("stream has ended, this shouldn't happen");const n=lr(this,Wi,"f");if(!n)throw new Ue("request ended without sending any chunks");return $v(this,Wi,void 0,"f"),SW(n)},eT=function(n){var r,i,s;let o=lr(this,Wi,"f");const{choices:a,...l}=n;o?Object.assign(o,l):o=$v(this,Wi,{...l,choices:[]},"f");for(const{delta:u,finish_reason:d,index:f,logprobs:h=null,...m}of n.choices){let y=o.choices[f];if(y||(y=o.choices[f]={finish_reason:d,index:f,message:{},logprobs:h,...m}),h)if(!y.logprobs)y.logprobs=Object.assign({},h);else{const{content:P,...O}=h;Object.assign(y.logprobs,O),P&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(...P))}if(d&&(y.finish_reason=d),Object.assign(y,m),!u)continue;const{content:E,function_call:b,role:_,tool_calls:v,...x}=u;if(Object.assign(y.message,x),E&&(y.message.content=(y.message.content||"")+E),_&&(y.message.role=_),b&&(y.message.function_call?(b.name&&(y.message.function_call.name=b.name),b.arguments&&((i=y.message.function_call).arguments??(i.arguments=""),y.message.function_call.arguments+=b.arguments)):y.message.function_call=b),v){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:P,id:O,type:$,function:T,...S}of v){const I=(s=y.message.tool_calls)[P]??(s[P]={});Object.assign(I,S),O&&(I.id=O),$&&(I.type=$),T&&(I.function??(I.function={arguments:""})),T!=null&&T.name&&(I.function.name=T.name),T!=null&&T.arguments&&(I.function.arguments+=T.arguments)}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("chunk",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ur(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function SW(t){const{id:e,choices:n,created:r,model:i,system_fingerprint:s,...o}=t;return{...o,id:e,choices:n.map(({message:a,finish_reason:l,index:u,logprobs:d,...f})=>{if(!l)throw new Ue(`missing finish_reason for choice ${u}`);const{content:h=null,function_call:m,tool_calls:y,...E}=a,b=a.role;if(!b)throw new Ue(`missing role for choice ${u}`);if(m){const{arguments:_,name:v}=m;if(_==null)throw new Ue(`missing function_call.arguments for choice ${u}`);if(!v)throw new Ue(`missing function_call.name for choice ${u}`);return{...f,message:{content:h,function_call:{arguments:_,name:v},role:b},finish_reason:l,index:u,logprobs:d}}return y?{...f,index:u,finish_reason:l,logprobs:d,message:{...E,role:b,content:h,tool_calls:y.map((_,v)=>{const{function:x,type:P,id:O,...$}=_,{arguments:T,name:S,...I}=x||{};if(O==null)throw new Ue(`missing choices[${u}].tool_calls[${v}].id
${zf(t)}`);if(P==null)throw new Ue(`missing choices[${u}].tool_calls[${v}].type
${zf(t)}`);if(S==null)throw new Ue(`missing choices[${u}].tool_calls[${v}].function.name
${zf(t)}`);if(T==null)throw new Ue(`missing choices[${u}].tool_calls[${v}].function.arguments
${zf(t)}`);return{...$,id:O,type:P,function:{...I,name:S,arguments:T}}})}}:{...f,message:{...E,content:h,role:b},finish_reason:l,index:u,logprobs:d}}),created:r,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}}}function zf(t){return JSON.stringify(t)}class ol extends ud{static fromReadableStream(e){const n=new ol;return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,r){const i=new ol,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runFunctions"}};return i._run(()=>i._runFunctions(e,n,s)),i}static runTools(e,n,r){const i=new ol,s={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,n,s)),i}}let mO=class extends et{runFunctions(e,n){return e.stream?ol.runFunctions(this._client.chat.completions,e,n):cd.runFunctions(this._client.chat.completions,e,n)}runTools(e,n){return e.stream?ol.runTools(this._client.chat.completions,e,n):cd.runTools(this._client.chat.completions,e,n)}stream(e,n){return ud.createChatCompletion(this._client.chat.completions,e,n)}},Gp=class extends et{constructor(){super(...arguments),this.completions=new mO(this._client)}};(function(t){t.Completions=mO})(Gp||(Gp={}));var cr=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},ut=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},xh,Th,jc,Uc,Ih,zc,di,Bc,Ch,Rh,ya,D_;class xW{constructor(){this.controller=new AbortController,xh.set(this,void 0),Th.set(this,()=>{}),jc.set(this,()=>{}),Uc.set(this,void 0),Ih.set(this,()=>{}),zc.set(this,()=>{}),di.set(this,{}),Bc.set(this,!1),Ch.set(this,!1),Rh.set(this,!1),ya.set(this,!1),D_.set(this,e=>{if(cr(this,Ch,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new $n),e instanceof $n)return cr(this,Rh,!0,"f"),this._emit("abort",e);if(e instanceof Ue)return this._emit("error",e);if(e instanceof Error){const n=new Ue(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new Ue(String(e)))}),cr(this,xh,new Promise((e,n)=>{cr(this,Th,e,"f"),cr(this,jc,n,"f")}),"f"),cr(this,Uc,new Promise((e,n)=>{cr(this,Ih,e,"f"),cr(this,zc,n,"f")}),"f"),ut(this,xh,"f").catch(()=>{}),ut(this,Uc,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emit("end")},ut(this,D_,"f"))},0)}_addRun(e){return e}_connected(){this.ended||(ut(this,Th,"f").call(this),this._emit("connect"))}get ended(){return ut(this,Bc,"f")}get errored(){return ut(this,Ch,"f")}get aborted(){return ut(this,Rh,"f")}abort(){this.controller.abort()}on(e,n){return(ut(this,di,"f")[e]||(ut(this,di,"f")[e]=[])).push({listener:n}),this}off(e,n){const r=ut(this,di,"f")[e];if(!r)return this;const i=r.findIndex(s=>s.listener===n);return i>=0&&r.splice(i,1),this}once(e,n){return(ut(this,di,"f")[e]||(ut(this,di,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,r)=>{cr(this,ya,!0,"f"),e!=="error"&&this.once("error",r),this.once(e,n)})}async done(){cr(this,ya,!0,"f"),await ut(this,Uc,"f")}_emit(e,...n){if(ut(this,Bc,"f"))return;e==="end"&&(cr(this,Bc,!0,"f"),ut(this,Ih,"f").call(this));const r=ut(this,di,"f")[e];if(r&&(ut(this,di,"f")[e]=r.filter(i=>!i.once),r.forEach(({listener:i})=>i(...n))),e==="abort"){const i=n[0];!ut(this,ya,"f")&&!(r!=null&&r.length)&&Promise.reject(i),ut(this,jc,"f").call(this,i),ut(this,zc,"f").call(this,i),this._emit("end");return}if(e==="error"){const i=n[0];!ut(this,ya,"f")&&!(r!=null&&r.length)&&Promise.reject(i),ut(this,jc,"f").call(this,i),ut(this,zc,"f").call(this,i),this._emit("end")}}async _threadAssistantStream(e,n,r){return await this._createThreadAssistantStream(n,e,r)}async _runAssistantStream(e,n,r,i){return await this._createAssistantStream(n,e,r,i)}async _runToolAssistantStream(e,n,r,i,s){return await this._createToolAssistantStream(r,e,n,i,s)}async _createThreadAssistantStream(e,n,r){const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s=await e.createAndRun({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addRun(s)}async _createToolAssistantStream(e,n,r,i,s){const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a=await e.submitToolOutputs(n,r,{...i,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addRun(a)}async _createAssistantStream(e,n,r,i){const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o=await e.create(n,{...r,stream:!1},{...i,signal:this.controller.signal});return this._connected(),this._addRun(o)}}xh=new WeakMap,Th=new WeakMap,jc=new WeakMap,Uc=new WeakMap,Ih=new WeakMap,zc=new WeakMap,di=new WeakMap,Bc=new WeakMap,Ch=new WeakMap,Rh=new WeakMap,ya=new WeakMap,D_=new WeakMap;var ye=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},In=function(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n},Ft,$_,Lr,Ph,fr,po,$a,so,Qp,Rn,Ah,kh,du,Wc,Hc,tT,nT,rT,iT,sT,oT,aT;class yr extends xW{constructor(){super(...arguments),Ft.add(this),$_.set(this,[]),Lr.set(this,{}),Ph.set(this,{}),fr.set(this,void 0),po.set(this,void 0),$a.set(this,void 0),so.set(this,void 0),Qp.set(this,void 0),Rn.set(this,void 0),Ah.set(this,void 0),kh.set(this,void 0),du.set(this,void 0)}[($_=new WeakMap,Lr=new WeakMap,Ph=new WeakMap,fr=new WeakMap,po=new WeakMap,$a=new WeakMap,so=new WeakMap,Qp=new WeakMap,Rn=new WeakMap,Ah=new WeakMap,kh=new WeakMap,du=new WeakMap,Ft=new WeakSet,Symbol.asyncIterator)](){const e=[],n=[];let r=!1;return this.on("event",i=>{const s=n.shift();s?s.resolve(i):e.push(i)}),this.on("end",()=>{r=!0;for(const i of n)i.resolve(void 0);n.length=0}),this.on("abort",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),this.on("error",i=>{r=!0;for(const s of n)s.reject(i);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((s,o)=>n.push({resolve:s,reject:o})).then(s=>s?{value:s,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const n=new yr;return n._run(()=>n._fromReadableStream(e)),n}async _fromReadableStream(e,n){var s;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const i=Ur.fromReadableStream(e,this.controller);for await(const o of i)ye(this,Ft,"m",Wc).call(this,o);if((s=i.controller.signal)!=null&&s.aborted)throw new $n;return this._addRun(ye(this,Ft,"m",Hc).call(this))}toReadableStream(){return new Ur(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,n,r,i,s){const o=new yr;return o._run(()=>o._runToolAssistantStream(e,n,r,i,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,n,r,i,s){var u;const o=s==null?void 0:s.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...i,stream:!0},l=await e.submitToolOutputs(n,r,a,{...s,signal:this.controller.signal});this._connected();for await(const d of l)ye(this,Ft,"m",Wc).call(this,d);if((u=l.controller.signal)!=null&&u.aborted)throw new $n;return this._addRun(ye(this,Ft,"m",Hc).call(this))}static createThreadAssistantStream(e,n,r){const i=new yr;return i._run(()=>i._threadAssistantStream(e,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,n,r,i){const s=new yr;return s._run(()=>s._runAssistantStream(e,n,r,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}currentEvent(){return ye(this,Ah,"f")}currentRun(){return ye(this,kh,"f")}currentMessageSnapshot(){return ye(this,fr,"f")}currentRunStepSnapshot(){return ye(this,du,"f")}async finalRunSteps(){return await this.done(),Object.values(ye(this,Lr,"f"))}async finalMessages(){return await this.done(),Object.values(ye(this,Ph,"f"))}async finalRun(){if(await this.done(),!ye(this,po,"f"))throw Error("Final run was not received.");return ye(this,po,"f")}async _createThreadAssistantStream(e,n,r){var a;const i=r==null?void 0:r.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},o=await e.createAndRun(s,{...r,signal:this.controller.signal});this._connected();for await(const l of o)ye(this,Ft,"m",Wc).call(this,l);if((a=o.controller.signal)!=null&&a.aborted)throw new $n;return this._addRun(ye(this,Ft,"m",Hc).call(this))}async _createAssistantStream(e,n,r,i){var l;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.create(n,o,{...i,signal:this.controller.signal});this._connected();for await(const u of a)ye(this,Ft,"m",Wc).call(this,u);if((l=a.controller.signal)!=null&&l.aborted)throw new $n;return this._addRun(ye(this,Ft,"m",Hc).call(this))}static accumulateDelta(e,n){for(const[r,i]of Object.entries(n)){if(!e.hasOwnProperty(r)){e[r]=i;continue}let s=e[r];if(s==null){e[r]=i;continue}if(r==="index"||r==="type"){e[r]=i;continue}if(typeof s=="string"&&typeof i=="string")s+=i;else if(typeof s=="number"&&typeof i=="number")s+=i;else if(Yx(s)&&Yx(i))s=this.accumulateDelta(s,i);else if(Array.isArray(s)&&Array.isArray(i)){if(s.every(o=>typeof o=="string"||typeof o=="number")){s.push(...i);continue}}else throw Error(`Unhandled record type: ${r}, deltaValue: ${i}, accValue: ${s}`);e[r]=s}return e}}Wc=function(e){if(!this.ended)switch(In(this,Ah,e,"f"),ye(this,Ft,"m",rT).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":ye(this,Ft,"m",aT).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ye(this,Ft,"m",nT).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":ye(this,Ft,"m",tT).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Hc=function(){if(this.ended)throw new Ue("stream has ended, this shouldn't happen");if(!ye(this,po,"f"))throw Error("Final run has not been received");return ye(this,po,"f")},tT=function(e){const[n,r]=ye(this,Ft,"m",sT).call(this,e,ye(this,fr,"f"));In(this,fr,n,"f"),ye(this,Ph,"f")[n.id]=n;for(const i of r){const s=n.content[i.index];(s==null?void 0:s.type)=="text"&&this._emit("textCreated",s.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,n),e.data.delta.content)for(const i of e.data.delta.content){if(i.type=="text"&&i.text){let s=i.text,o=n.content[i.index];if(o&&o.type=="text")this._emit("textDelta",s,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=ye(this,$a,"f")){if(ye(this,so,"f"))switch(ye(this,so,"f").type){case"text":this._emit("textDone",ye(this,so,"f").text,ye(this,fr,"f"));break;case"image_file":this._emit("imageFileDone",ye(this,so,"f").image_file,ye(this,fr,"f"));break}In(this,$a,i.index,"f")}In(this,so,n.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(ye(this,$a,"f")!==void 0){const i=e.data.content[ye(this,$a,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,ye(this,fr,"f"));break;case"text":this._emit("textDone",i.text,ye(this,fr,"f"));break}}ye(this,fr,"f")&&this._emit("messageDone",e.data),In(this,fr,void 0,"f")}},nT=function(e){const n=ye(this,Ft,"m",iT).call(this,e);switch(In(this,du,n,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const r=e.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const s of r.step_details.tool_calls)s.index==ye(this,Qp,"f")?this._emit("toolCallDelta",s,n.step_details.tool_calls[s.index]):(ye(this,Rn,"f")&&this._emit("toolCallDone",ye(this,Rn,"f")),In(this,Qp,s.index,"f"),In(this,Rn,n.step_details.tool_calls[s.index],"f"),ye(this,Rn,"f")&&this._emit("toolCallCreated",ye(this,Rn,"f")));this._emit("runStepDelta",e.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":In(this,du,void 0,"f"),e.data.step_details.type=="tool_calls"&&ye(this,Rn,"f")&&(this._emit("toolCallDone",ye(this,Rn,"f")),In(this,Rn,void 0,"f")),this._emit("runStepDone",e.data,n);break}},rT=function(e){ye(this,$_,"f").push(e),this._emit("event",e)},iT=function(e){switch(e.event){case"thread.run.step.created":return ye(this,Lr,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let n=ye(this,Lr,"f")[e.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=e.data;if(r.delta){const i=yr.accumulateDelta(n,r.delta);ye(this,Lr,"f")[e.data.id]=i}return ye(this,Lr,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":ye(this,Lr,"f")[e.data.id]=e.data;break}if(ye(this,Lr,"f")[e.data.id])return ye(this,Lr,"f")[e.data.id];throw new Error("No snapshot available")},sT=function(e,n){let r=[];switch(e.event){case"thread.message.created":return[e.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(const s of i.delta.content)if(s.index in n.content){let o=n.content[s.index];n.content[s.index]=ye(this,Ft,"m",oT).call(this,s,o)}else n.content[s.index]=s,r.push(s);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},oT=function(e,n){return yr.accumulateDelta(n,e)},aT=function(e){switch(In(this,kh,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":In(this,po,e.data,"f"),ye(this,Rn,"f")&&(this._emit("toolCallDone",ye(this,Rn,"f")),In(this,Rn,void 0,"f"));break}};class Xp extends et{create(e,n,r){return this._client.post(`/threads/${e}/messages`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/messages/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return zn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,pE,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/threads/${e}/messages/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class pE extends kr{}(function(t){t.MessagesPage=pE})(Xp||(Xp={}));class Yp extends et{retrieve(e,n,r,i){return this._client.get(`/threads/${e}/runs/${n}/steps/${r}`,{...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n,r={},i){return zn(r)?this.list(e,n,{},r):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,mE,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}}class mE extends kr{}(function(t){t.RunStepsPage=mE})(Yp||(Yp={}));class Jp extends et{constructor(){super(...arguments),this.steps=new Yp(this._client)}create(e,n,r){return this._client.post(`/threads/${e}/runs`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:n.stream??!1})}retrieve(e,n,r){return this._client.get(`/threads/${e}/runs/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(e,n={},r){return zn(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,gE,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}createAndStream(e,n,r){return yr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:{...r==null?void 0:r.headers,...i}}).withResponse();switch(s.status){case"queued":case"in_progress":case"cancelling":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Bd(a);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return s}}}stream(e,n,r){return yr.createAssistantStream(e,this._client.beta.threads.runs,n,r)}submitToolOutputs(e,n,r,i){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers},stream:r.stream??!1})}async submitToolOutputsAndPoll(e,n,r,i){const s=await this.submitToolOutputs(e,n,r,i);return await this.poll(e,s.id,i)}submitToolOutputsStream(e,n,r,i){return yr.createToolAssistantStream(e,n,this._client.beta.threads.runs,r,i)}}class gE extends kr{}(function(t){t.RunsPage=gE,t.Steps=Yp,t.RunStepsPage=mE})(Jp||(Jp={}));class Zp extends et{constructor(){super(...arguments),this.runs=new Jp(this._client),this.messages=new Xp(this._client)}create(e={},n){return zn(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/threads/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:e.stream??!1})}async createAndRunPoll(e,n){const r=await this.createAndRun(e,n);return await this.runs.poll(r.thread_id,r.id,n)}createAndRunStream(e,n){return yr.createThreadAssistantStream(e,this._client.beta.threads,n)}}(function(t){t.Runs=Jp,t.RunsPage=gE,t.Messages=Xp,t.MessagesPage=pE})(Zp||(Zp={}));const TW=async t=>{const e=await Promise.allSettled(t),n=e.filter(i=>i.status==="rejected");if(n.length){for(const i of n)console.error(i.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const i of e)i.status==="fulfilled"&&r.push(i.value);return r};let em=class extends et{create(e,n,r){return this._client.post(`/vector_stores/${e}/files`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e,n={},r){return zn(n)?this.list(e,{},n):this._client.getAPIList(`/vector_stores/${e}/files`,cg,{query:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(e,n,r){return this._client.delete(`/vector_stores/${e}/files/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n,r);return await this.poll(e,i.id,r)}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const s=await this.retrieve(e,n,{...r,headers:i}).withResponse(),o=s.data;switch(o.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=s.response.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Bd(a);break;case"failed":case"completed":return o}}}async upload(e,n,r){const i=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(e,{file_id:i.id},r)}async uploadAndPoll(e,n,r){const i=await this.upload(e,n,r);return await this.poll(e,i.id,r)}};class cg extends kr{}(function(t){t.VectorStoreFilesPage=cg})(em||(em={}));class tm extends et{create(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(e,n,r){return this._client.get(`/vector_stores/${e}/file_batches/${n}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}cancel(e,n,r){return this._client.post(`/vector_stores/${e}/file_batches/${n}/cancel`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}async createAndPoll(e,n,r){const i=await this.create(e,n);return await this.poll(e,i.id,r)}listFiles(e,n,r={},i){return zn(r)?this.listFiles(e,n,{},r):this._client.getAPIList(`/vector_stores/${e}/file_batches/${n}/files`,cg,{query:r,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}async poll(e,n,r){const i={...r==null?void 0:r.headers,"X-Stainless-Poll-Helper":"true"};for(r!=null&&r.pollIntervalMs&&(i["X-Stainless-Custom-Poll-Interval"]=r.pollIntervalMs.toString());;){const{data:s,response:o}=await this.retrieve(e,n,{...r,headers:i}).withResponse();switch(s.status){case"in_progress":let a=5e3;if(r!=null&&r.pollIntervalMs)a=r.pollIntervalMs;else{const l=o.headers.get("openai-poll-after-ms");if(l){const u=parseInt(l);isNaN(u)||(a=u)}}await Bd(a);break;case"failed":case"cancelled":case"completed":return s}}}async uploadAndPoll(e,{files:n,fileIds:r=[]},i){if(n===null||n.length==0)throw new Error("No files provided to process.");const s=(i==null?void 0:i.maxConcurrency)??5,o=Math.min(s,n.length),a=this._client,l=n.values(),u=[...r];async function d(h){for(let m of h){const y=await a.files.create({file:m,purpose:"assistants"},i);u.push(y.id)}}const f=Array(o).fill(l).map(d);return await TW(f),await this.createAndPoll(e,{file_ids:u})}}tm||(tm={});class nm extends et{constructor(){super(...arguments),this.files=new em(this._client),this.fileBatches=new tm(this._client)}create(e,n){return this._client.post("/vector_stores",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(e,n,r){return this._client.post(`/vector_stores/${e}`,{body:n,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}list(e={},n){return zn(e)?this.list({},e):this._client.getAPIList("/vector_stores",vE,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/vector_stores/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class vE extends kr{}(function(t){t.VectorStoresPage=vE,t.Files=em,t.VectorStoreFilesPage=cg,t.FileBatches=tm})(nm||(nm={}));class rm extends et{constructor(){super(...arguments),this.vectorStores=new nm(this._client),this.chat=new Gp(this._client),this.assistants=new qp(this._client),this.threads=new Zp(this._client)}}(function(t){t.VectorStores=nm,t.VectorStoresPage=vE,t.Chat=Gp,t.Assistants=qp,t.AssistantsPage=hE,t.Threads=Zp})(rm||(rm={}));class im extends et{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}im||(im={});class sm extends et{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}sm||(sm={});class om extends et{create(e,n){return this._client.post("/files",ld({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return zn(e)?this.list({},e):this._client.getAPIList("/files",yE,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const i=new Set(["processed","error","deleted"]),s=Date.now();let o=await this.retrieve(e);for(;!o.status||!i.has(o.status);)if(await Bd(n),o=await this.retrieve(e),Date.now()-s>r)throw new uE({message:`Giving up on waiting for file ${e} to finish processing after ${r} milliseconds.`});return o}}class yE extends dE{}(function(t){t.FileObjectsPage=yE})(om||(om={}));class am extends et{list(e,n={},r){return zn(n)?this.list(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,_E,{query:n,...r})}}class _E extends kr{}(function(t){t.FineTuningJobCheckpointsPage=_E})(am||(am={}));class lm extends et{constructor(){super(...arguments),this.checkpoints=new am(this._client)}create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return zn(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",wE,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},r){return zn(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,EE,{query:n,...r})}}class wE extends kr{}class EE extends kr{}(function(t){t.FineTuningJobsPage=wE,t.FineTuningJobEventsPage=EE,t.Checkpoints=am,t.FineTuningJobCheckpointsPage=_E})(lm||(lm={}));class cm extends et{constructor(){super(...arguments),this.jobs=new lm(this._client)}}(function(t){t.Jobs=lm,t.FineTuningJobsPage=wE,t.FineTuningJobEventsPage=EE})(cm||(cm={}));class um extends et{createVariation(e,n){return this._client.post("/images/variations",ld({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",ld({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}um||(um={});class dm extends et{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",bE,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class bE extends dE{}(function(t){t.ModelsPage=bE})(dm||(dm={}));class fm extends et{create(e,n){return this._client.post("/moderations",{body:e,...n})}}fm||(fm={});var gO;class Ct extends dW{constructor({baseURL:e=jf("OPENAI_BASE_URL"),apiKey:n=jf("OPENAI_API_KEY"),organization:r=jf("OPENAI_ORG_ID")??null,project:i=jf("OPENAI_PROJECT_ID")??null,...s}={}){if(n===void 0)throw new Ue("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const o={apiKey:n,organization:r,project:i,...s,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&bW())throw new Ue(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:o.baseURL,timeout:o.timeout??6e5,httpAgent:o.httpAgent,maxRetries:o.maxRetries,fetch:o.fetch}),this.completions=new im(this),this.chat=new jp(this),this.embeddings=new sm(this),this.files=new om(this),this.images=new um(this),this.audio=new Wp(this),this.moderations=new fm(this),this.models=new dm(this),this.fineTuning=new cm(this),this.beta=new rm(this),this.batches=new Hp(this),this._options=o,this.apiKey=n,this.organization=r,this.project=i}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}gO=Ct;Ct.OpenAI=gO;Ct.OpenAIError=Ue;Ct.APIError=Kt;Ct.APIConnectionError=ag;Ct.APIConnectionTimeoutError=uE;Ct.APIUserAbortError=$n;Ct.NotFoundError=Y2;Ct.ConflictError=J2;Ct.RateLimitError=eO;Ct.BadRequestError=G2;Ct.AuthenticationError=Q2;Ct.InternalServerError=tO;Ct.PermissionDeniedError=X2;Ct.UnprocessableEntityError=Z2;Ct.toFile=oO;Ct.fileFromPath=q2;(function(t){t.Page=dE,t.CursorPage=kr,t.Completions=im,t.Chat=jp,t.Embeddings=sm,t.Files=om,t.FileObjectsPage=yE,t.Images=um,t.Audio=Wp,t.Moderations=fm,t.Models=dm,t.ModelsPage=bE,t.FineTuning=cm,t.Beta=rm,t.Batches=Hp,t.BatchesPage=fE})(Ct||(Ct={}));var IW={BASE_URL:"/react-ai-chat-app/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const CW=new Ct({apiKey:IW.VITE_OPENAI_API_KEY,dangerouslyAllowBrowser:!0});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var La=function(){return La=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},La.apply(this,arguments)},vO=function(t){return{loading:t==null,value:t}},RW=function(){return function(t,e){switch(e.type){case"error":return La(La({},t),{error:e.error,loading:!1,value:void 0});case"reset":return vO(e.defaultValue);case"value":return La(La({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},PW=function(t){var e=void 0,n=g.useReducer(RW(),vO(e)),r=n[0],i=n[1],s=g.useCallback(function(){var l=void 0;i({type:"reset",defaultValue:l})},[t]),o=g.useCallback(function(l){i({type:"error",error:l})},[]),a=g.useCallback(function(l){i({type:"value",value:l})},[]);return g.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},AW=function(t,e,n){var r=g.useRef(t);return g.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},kW=function(t,e){var n=!t&&!e,r=!!t&&!!e&&Vj(t,e);return n||r},OW=function(t,e){return AW(t,kW,e)},NW=function(t,e){var n=PW(),r=n.error,i=n.loading,s=n.reset,o=n.setError,a=n.setValue,l=n.value,u=OW(t,s);return g.useEffect(function(){if(!u.current){a(void 0);return}var d=e!=null&&e.snapshotListenOptions?ZS(u.current,e.snapshotListenOptions,a,o):ZS(u.current,a,o);return function(){d()}},[u.current]),[l,i,r]},fu=function(t,e){var n=NW(t,e),r=n[0],i=n[1],s=n[2],o=DW(r,e==null?void 0:e.snapshotOptions,e==null?void 0:e.initialValue);return[o,i,s,r]},DW=function(t,e,n){return g.useMemo(function(){var r;return(r=t==null?void 0:t.docs.map(function(i){return i.data(e)}))!==null&&r!==void 0?r:n},[t,e])};const L_="horizontal",$W=["horizontal","vertical"],yO=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=L_,...i}=t,s=_O(r)?r:L_,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.createElement(Rt.div,fe({"data-orientation":s},a,i,{ref:e}))});yO.propTypes={orientation(t,e,n){const r=t[e],i=String(r);return r&&!_O(r)?new Error(LW(i,n)):null}};function LW(t,e){return`Invalid prop \`orientation\` of value \`${t}\` supplied to \`${e}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${L_}\`.`}function _O(t){return $W.includes(t)}const wO=yO,EO=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>N.jsx(wO,{ref:i,decorative:n,orientation:e,className:Ye("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));EO.displayName=wO.displayName;const MW=()=>{const{t}=$i(),e=g.useRef(),n=g.useRef(),i=`chatgpt${JSON.parse(localStorage.getItem("user")).email}`,s=Ga(Ss,i),o=Qa(s,l_("createdAt"),c_(25)),[a]=fu(o,{idField:"id"});g.useEffect(()=>{setTimeout(()=>$9(e),100)},[a]);const l=async()=>{try{const f=Qa(s),h=await Yj(f),m=e9(Ss);h.forEach(y=>{const E=_A(Ss,i,y.id);m.update(E,{noAnim:!0})}),await m.commit()}catch(f){console.error("Error updating documents: ",f)}},u=async f=>{const h=await CW.chat.completions.create({messages:[{role:"user",content:f}],model:"gpt-3.5-turbo"}),{role:m,content:y}=h.choices[0].message;await wp(s,{content:y,role:m,createdAt:new Date})},d=async f=>{f.preventDefault();const h=f.target.elements.message.value;await wp(s,{content:h,role:"user",createdAt:new Date}),n.current&&n.current.reset(),await l(),await u(h)};return N.jsxs("div",{className:"h-full flex flex-col justify-between",children:[N.jsxs("div",{className:"px-3 ",children:[N.jsxs("div",{className:"py-6 flex gap-3 items-center justify-center",children:[N.jsxs(Vo,{children:[N.jsx(Fo,{src:"https://api.adorable.io/avatars/23/abott@adorable.png"}),N.jsx(jo,{className:"bc-muted",children:N.jsx(VB,{className:"fill-secondary-foreground w-6"})})]}),N.jsx("p",{children:t("aiAssistantTitle")})]}),N.jsx(EO,{})]}),!!(a!=null&&a.length)&&N.jsx("div",{className:"flex flex-col gap-3 justify-start items-start h-[calc(100%-9rem)] overflow-auto py-4 px-3",ref:e,children:a.map((f,h)=>{var m,y;return f.role==="user"?N.jsx(Er,{className:"border-primary px-3 py-2 self-end",variant:"default",children:f.content},h):(m=f.content)!=null&&m.length&&!(f!=null&&f.noAnim)?N.jsx(GB,{className:"px-3 py-2 mb-4",variant:"default",text:f.content},h):!!((y=f.content)!=null&&y.length)&&(f==null?void 0:f.noAnim)&&N.jsx(Er,{className:"px-3 py-2",variant:"default",children:f.content},h)})}),N.jsx("div",{className:"py-4 px-3",children:N.jsx(Er,{variant:"outline",className:"flex items-center justify-between gap-3 py-4 px-4 rounded-xl w-full h-auto",children:N.jsxs("form",{ref:n,className:"flex gap-3 items-center w-full",onSubmit:d,children:[N.jsx(Do,{name:"message",placeholder:t("AIchatPlaceholder"),autoComplete:"off"}),N.jsx(ks,{variant:"outline",className:"p-2 h-auto w-auto",children:N.jsx(pk,{})})]})})})]})},lT=({message:t})=>{const{text:e,uid:n,username:r}=t,i=r.split(" "),s=n===Md.currentUser.uid?"sent":"received";return N.jsx(N.Fragment,{children:N.jsxs("div",{className:`flex gap-2 mb-3 ${s==="received"?"items-center":"flex-row-reverse"}`,children:[N.jsxs(Vo,{children:[N.jsx(Fo,{src:"https://api.adorable.io/avatars/23/abott@adorable.png"}),N.jsx(jo,{children:i.length>=2?String(i[0][0]+i[1][0]):String(i[0][0])})]}),N.jsx("p",{className:`px-3 py-2 rounded-xl max-w-96 ${s==="received"?"bg-secondary ":"bg-primary text-primary-foreground self-end"}`,children:e})]})})};function cT({className:t,noChat:e}){const{t:n}=$i();return N.jsx("div",{className:t,children:N.jsxs("div",{className:"bg-secondary px-3 py-2 rounded-xl max-w-60",children:[N.jsx("p",{className:"mb-1",children:n(e?"noChatTitle":"noMessagesTitle")}),N.jsx("p",{className:"text-muted-foreground",children:n(e?"noChatContent":"noMessagesContent")})]})})}const VW=()=>{const t=g.useRef(),{t:e}=$i(),n=cR(),r=JSON.parse(localStorage.getItem("user")),[i,s]=g.useState(!1),o=`${r.email}${n.uid}`,a=Ga(Ss,o),l=Qa(a,l_("createdAt"),c_(25)),[u]=fu(l,{idField:"id"}),d=`${n.uid}${r.email}`,f=Ga(Ss,d),h=Qa(f,l_("createdAt"),c_(25)),[m]=fu(h,{idField:"id"}),y=Ga(Ss,"users"),E=Qa(y),[b]=fu(E,{idField:"id"}),_=b==null?void 0:b.find(S=>S.email===n.uid),v=_?_==null?void 0:_.username.split(" "):null,x=(_==null?void 0:_.email)===r.email,P=()=>u!=null&&u.length?!o.includes("undefined"):!d.includes("undefined");g.useEffect(()=>((u||m)&&P()&&(i?t.current.scrollIntoView({behavior:"smooth"}):(t.current.scrollIntoView(),s(!0))),()=>{s(!1)}),[u,m]);const[O,$]=g.useState(""),T=async S=>{S.preventDefault();const{uid:I,photoURL:R,displayName:D}=Md.currentUser;await wp(u!=null&&u.length?a:f,{text:O,createdAt:new Date,uid:I,photoURL:R,username:D}),$("")};return N.jsx(N.Fragment,{children:N.jsxs("section",{className:"w-full h-full relative",children:[N.jsx(cE,{className:"absolute top-8 right-7"}),N.jsx("div",{className:"py-4 px-3",children:N.jsxs(Er,{className:"flex items-center gap-3 py-4 px-4",children:[N.jsxs(Vo,{children:[N.jsx(Fo,{src:"https://api.adorable.io/avatars/23/abott@adorable.png"}),N.jsxs(jo,{children:[!x&&(v==null?void 0:v.length)>=2&&String(v[0][0]+v[1][0]),!x&&(v==null?void 0:v.length)<2&&String(v[0][0]),x&&N.jsx(hk,{}),!P()&&"?"]})]}),N.jsxs("p",{children:[!x&&(_==null?void 0:_.username),x&&e("savedMessagesTitle")]})]})}),N.jsxs("main",{className:"h-[calc(100%-11.7rem)] overflow-auto py-4 px-3",children:[!!(u!=null&&u.length)&&P()&&(u==null?void 0:u.map((S,I)=>N.jsx(lT,{message:S},I))),!(u!=null&&u.length)&&!!(m!=null&&m.length)&&P()&&(m==null?void 0:m.map((S,I)=>N.jsx(lT,{message:S},I))),!P()&&N.jsx(cT,{className:"w-full h-full flex justify-center items-center",noChat:!0}),P()&&!!u&&!!m&&!(u!=null&&u.length)&&!(m!=null&&m.length)&&N.jsx(cT,{className:"w-full h-full flex justify-center items-center"}),N.jsx("span",{ref:t})]}),N.jsxs("form",{onSubmit:T,className:"chat-form h-20 absolute inset-x-0 bottom-0 px-6 flex items-center gap-2",children:[N.jsx(Do,{value:O,onChange:S=>$(S.target.value),placeholder:e("chatPlaceholder"),className:"chat-input rounded-xl py-6 px-4",autoComplete:"off"}),N.jsx(ks,{className:"chat-button h-auto rounded-xl p-3",type:"submit",disabled:!O,children:N.jsx(pk,{className:"stroke-primary-foreground"})})]})]})})},FW=({userInfo:t})=>{const e=Dl(),{t:n}=$i(),r=cR(),i=JSON.parse(localStorage.getItem("user")),s=t.email===r.uid,o=t.email===i.email,a=()=>{e(`/chat/${t.email}`)},l=t.username.split(" ");return N.jsx("li",{className:`flex items-center gap-3 py-4 px-4 rounded-xl border-primary-foreground cursor-pointer ${s?"bg-primary":"hover:bg-secondary transition-colors"}`,onClick:a,children:o?N.jsxs(N.Fragment,{children:[N.jsxs(Vo,{children:[N.jsx(Fo,{src:"https://api.adorable.io/avatars/23/abott@adorable.png"}),N.jsx(jo,{children:N.jsx(hk,{})})]}),N.jsx("p",{className:`${s?"text-primary-foreground":""}`,children:n("savedMessagesTitle")})]}):N.jsxs(N.Fragment,{children:[N.jsxs(Vo,{children:[N.jsx(Fo,{src:"https://api.adorable.io/avatars/23/abott@adorable.png"}),N.jsx(jo,{children:l.length>=2?String(l[0][0]+l[1][0]):String(l[0][0])})]}),N.jsxs("div",{children:[N.jsx("p",{className:`${s?"text-primary-foreground":""}`,children:t==null?void 0:t.username}),N.jsx("p",{className:`${s?"text-primary-foreground":"text-muted-foreground"} text-sm`,children:t==null?void 0:t.email})]})]})})},jW=g.forwardRef((t,e)=>g.createElement(Rt.span,fe({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),UW=jW,[ug,wK]=Gs("Tooltip",[Hl]),SE=Hl(),zW="TooltipProvider",BW=700,M_="tooltip.open",[WW,xE]=ug(zW),HW=t=>{const{__scopeTooltip:e,delayDuration:n=BW,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=g.useState(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),g.createElement(WW,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(d=>{l.current=d},[]),disableHoverableContent:i},s)},TE="Tooltip",[qW,dg]=ug(TE),KW=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=xE(TE,t.__scopeTooltip),u=SE(e),[d,f]=g.useState(null),h=rd(),m=g.useRef(0),y=o??l.disableHoverableContent,E=a??l.delayDuration,b=g.useRef(!1),[_=!1,v]=rg({prop:r,defaultProp:i,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(M_))):l.onClose(),s==null||s(T)}}),x=g.useMemo(()=>_?b.current?"delayed-open":"instant-open":"closed",[_]),P=g.useCallback(()=>{window.clearTimeout(m.current),b.current=!1,v(!0)},[v]),O=g.useCallback(()=>{window.clearTimeout(m.current),v(!1)},[v]),$=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,v(!0)},E)},[E,v]);return g.useEffect(()=>()=>window.clearTimeout(m.current),[]),g.createElement(Z0,u,g.createElement(qW,{scope:e,contentId:h,open:_,stateAttribute:x,trigger:d,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{l.isOpenDelayed?$():P()},[l.isOpenDelayed,$,P]),onTriggerLeave:g.useCallback(()=>{y?O():window.clearTimeout(m.current)},[O,y]),onOpen:P,onClose:O,disableHoverableContent:y},n))},uT="TooltipTrigger",GW=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=dg(uT,n),s=xE(uT,n),o=SE(n),a=g.useRef(null),l=qt(e,a,i.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),g.createElement(eE,fe({asChild:!0},o),g.createElement(Rt.button,fe({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Ie(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ie(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ie(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ie(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ie(t.onBlur,i.onClose),onClick:Ie(t.onClick,i.onClose)})))}),QW="TooltipPortal",[EK,XW]=ug(QW,{forceMount:void 0}),dd="TooltipContent",YW=g.forwardRef((t,e)=>{const n=XW(dd,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=dg(dd,t.__scopeTooltip);return g.createElement(Qs,{present:r||o.open},o.disableHoverableContent?g.createElement(bO,fe({side:i},s,{ref:e})):g.createElement(JW,fe({side:i},s,{ref:e})))}),JW=g.forwardRef((t,e)=>{const n=dg(dd,t.__scopeTooltip),r=xE(dd,t.__scopeTooltip),i=g.useRef(null),s=qt(e,i),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,h=g.useCallback(()=>{a(null),f(!1)},[f]),m=g.useCallback((y,E)=>{const b=y.currentTarget,_={x:y.clientX,y:y.clientY},v=eH(_,b.getBoundingClientRect()),x=tH(_,v),P=nH(E.getBoundingClientRect()),O=iH([...x,...P]);a(O),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(l&&d){const y=b=>m(b,d),E=b=>m(b,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",E),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",E)}}},[l,d,m,h]),g.useEffect(()=>{if(o){const y=E=>{const b=E.target,_={x:E.clientX,y:E.clientY},v=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),x=!rH(_,o);v?h():x&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,o,u,h]),g.createElement(bO,fe({},t,{ref:s}))}),[ZW,bK]=ug(TE,{isInside:!1}),bO=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=dg(dd,n),u=SE(n),{onClose:d}=l;return g.useEffect(()=>(document.addEventListener(M_,d),()=>document.removeEventListener(M_,d)),[d]),g.useEffect(()=>{if(l.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),g.createElement(H0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d},g.createElement(tE,fe({"data-state":l.stateAttribute},u,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),g.createElement(jA,null,r),g.createElement(ZW,{scope:n,isInside:!0},g.createElement(UW,{id:l.contentId,role:"tooltip"},i||r))))});function eH(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function tH(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function nH(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function rH(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,u=e[o].x,d=e[o].y;l>r!=d>r&&n<(u-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function iH(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),sH(e)}function sH(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const oH=HW,aH=KW,lH=GW,SO=YW,cH=oH,uH=aH,dH=lH,xO=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>N.jsx(SO,{ref:r,sideOffset:e,className:Ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));xO.displayName=SO.displayName;const TO="Popover",[IO,SK]=Gs(TO,[Hl]),IE=Hl(),[fH,ql]=IO(TO),hH=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=IE(e),l=g.useRef(null),[u,d]=g.useState(!1),[f=!1,h]=rg({prop:r,defaultProp:i,onChange:s});return g.createElement(Z0,a,g.createElement(fH,{scope:e,contentId:rd(),triggerRef:l,open:f,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>d(!0),[]),onCustomAnchorRemove:g.useCallback(()=>d(!1),[]),modal:o},n))},pH="PopoverTrigger",mH=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ql(pH,n),s=IE(n),o=qt(e,i.triggerRef),a=g.createElement(Rt.button,fe({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":PO(i.open)},r,{ref:o,onClick:Ie(t.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:g.createElement(eE,fe({asChild:!0},s),a)}),CO="PopoverPortal",[gH,vH]=IO(CO,{forceMount:void 0}),yH=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=ql(CO,e);return g.createElement(gH,{scope:e,forceMount:n},g.createElement(Qs,{present:n||s.open},g.createElement(e2,{asChild:!0,container:i},r)))},fd="PopoverContent",_H=g.forwardRef((t,e)=>{const n=vH(fd,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=ql(fd,t.__scopePopover);return g.createElement(Qs,{present:r||s.open},s.modal?g.createElement(wH,fe({},i,{ref:e})):g.createElement(EH,fe({},i,{ref:e})))}),wH=g.forwardRef((t,e)=>{const n=ql(fd,t.__scopePopover),r=g.useRef(null),i=qt(e,r),s=g.useRef(!1);return g.useEffect(()=>{const o=r.current;if(o)return s2(o)},[]),g.createElement(rE,{as:As,allowPinchZoom:!0},g.createElement(RO,fe({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:Ie(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})))}),EH=g.forwardRef((t,e)=>{const n=ql(fd,t.__scopePopover),r=g.useRef(!1),i=g.useRef(!1);return g.createElement(RO,fe({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,s),!s.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),s.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:s=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),RO=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...f}=t,h=ql(fd,n),m=IE(n);return Mk(),g.createElement(Vk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s},g.createElement(H0,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1)},g.createElement(tE,fe({"data-state":PO(h.open),role:"dialog",id:h.contentId},m,f,{ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function PO(t){return t?"open":"closed"}const bH=hH,SH=mH,xH=yH,AO=_H,TH=bH,IH=SH,kO=g.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>N.jsx(xH,{children:N.jsx(AO,{ref:i,align:e,sideOffset:n,className:Ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));kO.displayName=AO.displayName;const CH=()=>{var s;const t=JSON.parse(localStorage.getItem("user")),e=Dl(),{t:n}=$i(),r=(s=t.displayName)==null?void 0:s.split(" "),i=async()=>{try{await F3(Md),localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login")}catch(o){console.error(o)}};return N.jsx("div",{className:"gap-2 py-4 px-3 w-full",children:N.jsxs(Er,{variant:"outline",className:"flex items-center justify-between gap-3 py-4 px-4 rounded-xl w-full h-auto",children:[N.jsxs("div",{className:"flex gap-3 items-center",children:[N.jsxs(Vo,{children:[N.jsx(Fo,{src:"https://api.adorable.io/avatars/23/abott@adorable.png"}),N.jsx(jo,{children:(r==null?void 0:r.length)>=2?String(r[0][0]+r[1][0]):r&&String(r[0][0])})]}),N.jsxs("div",{children:[N.jsx("p",{children:t==null?void 0:t.displayName}),N.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email})]})]}),N.jsxs("div",{className:"flex gap-3 items-center",children:[N.jsxs(TH,{children:[N.jsx(IH,{variant:"outline",children:N.jsx(Er,{variant:"outline",className:"p-2 h-auto w-auto hover:bg-accent transition-colors",children:N.jsx(v5,{})})}),N.jsx(kO,{sideOffset:26,className:"w-auto rounded-xl",children:N.jsx(W0,{})})]}),N.jsx(cH,{children:N.jsxs(uH,{delayDuration:500,children:[N.jsx(dH,{onClick:i,children:N.jsx(Er,{variant:"outline",className:"p-2 h-auto w-auto hover:bg-accent transition-colors",children:N.jsx(y5,{})})}),N.jsx(xO,{sideOffset:6,children:N.jsx("p",{children:n("logoutTitle")})})]})})]})]})})},RH=()=>{const[t,e]=g.useState([]),n=Ga(Ss,"users"),r=Qa(n),i=JSON.parse(localStorage.getItem("user")),[s,o]=fu(r,{idField:"id"});return g.useEffect(()=>{if(s!=null&&s.length){const a=s==null?void 0:s.findIndex(u=>u.email===i.email),[l]=s.splice(a,1);s.splice(0,0,l),e(s)}},[o,s]),N.jsxs("div",{className:"h-full flex flex-col justify-between items-start",children:[N.jsx("ul",{className:"flex flex-col gap-3 py-4 px-3 w-full h-[calc(100%-5rem)] overflow-auto",children:s&&t.map(a=>N.jsx(FW,{userInfo:a},a.uid))}),N.jsx(CH,{})]})},{createElement:Rl,createContext:PH,createRef:xK,forwardRef:OO,useCallback:Cn,useContext:NO,useEffect:wo,useImperativeHandle:DO,useLayoutEffect:AH,useMemo:kH,useRef:yn,useState:hu}=ym,dT=ym.useId,OH=AH,fg=PH(null);fg.displayName="PanelGroupContext";const Eo=OH,NH=typeof dT=="function"?dT:()=>null;let DH=0;function CE(t=null){const e=NH(),n=yn(t||e||null);return n.current===null&&(n.current=""+DH++),t??n.current}function $O({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:u,onExpand:d,onResize:f,order:h,style:m,tagName:y="div",...E}){const b=NO(fg);if(b===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:_,expandPanel:v,getPanelSize:x,getPanelStyle:P,groupId:O,isPanelCollapsed:$,reevaluatePanelConstraints:T,registerPanel:S,resizePanel:I,unregisterPanel:R}=b,D=CE(o),k=yn({callbacks:{onCollapse:u,onExpand:d,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:D,idIsFromProps:o!==void 0,order:h});yn({didLogMissingDefaultSizeWarning:!1}),Eo(()=>{const{callbacks:G,constraints:Y}=k.current,pe={...Y};k.current.id=D,k.current.idIsFromProps=o!==void 0,k.current.order=h,G.onCollapse=u,G.onExpand=d,G.onResize=f,Y.collapsedSize=n,Y.collapsible=r,Y.defaultSize=i,Y.maxSize=a,Y.minSize=l,(pe.collapsedSize!==Y.collapsedSize||pe.collapsible!==Y.collapsible||pe.maxSize!==Y.maxSize||pe.minSize!==Y.minSize)&&T(k.current,pe)}),Eo(()=>{const G=k.current;return S(G),()=>{R(G)}},[h,D,S,R]),DO(s,()=>({collapse:()=>{_(k.current)},expand:G=>{v(k.current,G)},getId(){return D},getSize(){return x(k.current)},isCollapsed(){return $(k.current)},isExpanded(){return!$(k.current)},resize:G=>{I(k.current,G)}}),[_,v,x,$,D,I]);const A=P(k.current,i);return Rl(y,{...E,children:t,className:e,id:o,style:{...A,...m},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":O,"data-panel-id":D,"data-panel-size":parseFloat(""+A.flexGrow).toFixed(1)})}const LO=OO((t,e)=>Rl($O,{...t,forwardedRef:e}));$O.displayName="Panel";LO.displayName="forwardRef(Panel)";let V_=null,mo=null;function $H(t,e){if(e){const n=(e&UO)!==0,r=(e&zO)!==0,i=(e&BO)!==0,s=(e&WO)!==0;if(n)return i?"se-resize":s?"ne-resize":"e-resize";if(r)return i?"sw-resize":s?"nw-resize":"w-resize";if(i)return"s-resize";if(s)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function LH(){mo!==null&&(document.head.removeChild(mo),V_=null,mo=null)}function Vv(t,e){const n=$H(t,e);V_!==n&&(V_=n,mo===null&&(mo=document.createElement("style"),document.head.appendChild(mo)),mo.innerHTML=`*{cursor: ${n}!important;}`)}function MO(t){return t.type==="keydown"}function VO(t){return t.type.startsWith("pointer")}function FO(t){return t.type.startsWith("mouse")}function hg(t){if(VO(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(FO(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function MH(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function VH(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function FH(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:pT(t),b:pT(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;Oe(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:hT(fT(n.a)),b:hT(fT(n.b))};if(i.a===i.b){const s=r.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(i.a-i.b)}const jH=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function UH(t){var e;const n=getComputedStyle((e=jO(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function zH(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||UH(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||jH.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function fT(t){let e=t.length;for(;e--;){const n=t[e];if(Oe(n,"Missing node"),zH(n))return n}return null}function hT(t){return t&&Number(getComputedStyle(t).zIndex)||0}function pT(t){const e=[];for(;t;)e.push(t),t=jO(t);return e}function jO(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const UO=1,zO=2,BO=4,WO=8,BH=MH()==="coarse";let js=[],pg=!1,ns=new Map,mg=new Map;const hd=new Set;function WH(t,e,n,r,i){var s;const{ownerDocument:o}=e,a={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:i},l=(s=ns.get(o))!==null&&s!==void 0?s:0;return ns.set(o,l+1),hd.add(a),hm(),function(){var d;mg.delete(t),hd.delete(a);const f=(d=ns.get(o))!==null&&d!==void 0?d:1;ns.set(o,f-1),hm(),f===1&&ns.delete(o)}}function mT(t){const{target:e}=t,{x:n,y:r}=hg(t);pg=!0,RE({target:e,x:n,y:r}),hm(),js.length>0&&(PE("down",t),t.preventDefault(),t.stopPropagation())}function wc(t){const{x:e,y:n}=hg(t);if(!pg){const{target:r}=t;RE({target:r,x:e,y:n})}PE("move",t),HO(),js.length>0&&t.preventDefault()}function la(t){const{target:e}=t,{x:n,y:r}=hg(t);mg.clear(),pg=!1,js.length>0&&t.preventDefault(),PE("up",t),RE({target:e,x:n,y:r}),HO(),hm()}function RE({target:t,x:e,y:n}){js.splice(0);let r=null;t instanceof HTMLElement&&(r=t),hd.forEach(i=>{const{element:s,hitAreaMargins:o}=i,a=s.getBoundingClientRect(),{bottom:l,left:u,right:d,top:f}=a,h=BH?o.coarse:o.fine;if(e>=u-h&&e<=d+h&&n>=f-h&&n<=l+h){if(r!==null&&s!==r&&!s.contains(r)&&!r.contains(s)&&FH(r,s)>0){let y=r,E=!1;for(;y&&!y.contains(s);){if(VH(y.getBoundingClientRect(),a)){E=!0;break}y=y.parentElement}if(E)return}js.push(i)}})}function Fv(t,e){mg.set(t,e)}function HO(){let t=!1,e=!1;js.forEach(r=>{const{direction:i}=r;i==="horizontal"?t=!0:e=!0});let n=0;mg.forEach(r=>{n|=r}),t&&e?Vv("intersection",n):t?Vv("horizontal",n):e?Vv("vertical",n):LH()}function hm(){ns.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",la),n.removeEventListener("pointerdown",mT),n.removeEventListener("pointerleave",wc),n.removeEventListener("pointermove",wc)}),window.removeEventListener("pointerup",la),window.removeEventListener("pointercancel",la),hd.size>0&&(pg?(js.length>0&&ns.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",la),n.addEventListener("pointerleave",wc),n.addEventListener("pointermove",wc))}),window.addEventListener("pointerup",la),window.addEventListener("pointercancel",la)):ns.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("pointerdown",mT,{capture:!0}),n.addEventListener("pointermove",wc))}))}function PE(t,e){hd.forEach(n=>{const{setResizeHandlerState:r}=n,i=js.includes(n);r(t,i,e)})}function Oe(t,e){if(!t)throw console.error(e),Error(e)}const AE=10;function zo(t,e,n=AE){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function pi(t,e,n=AE){return zo(t,e,n)===0}function kn(t,e,n){return zo(t,e,n)===0}function HH(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const i=t[r],s=e[r];if(!kn(i,s,n))return!1}return!0}function Ma({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];Oe(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:s,maxSize:o=100,minSize:a=0}=r;if(zo(n,a)<0)if(s){const l=(i+a)/2;zo(n,l)<0?n=i:n=a}else n=a;return n=Math.min(o,n),n=parseFloat(n.toFixed(AE)),n}function qc({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:s}){if(kn(t,0))return e;const o=[...e],[a,l]=r;Oe(a!=null,"Invalid first pivot index"),Oe(l!=null,"Invalid second pivot index");let u=0;if(s==="keyboard"){{const f=t<0?l:a,h=n[f];Oe(h,`Panel constraints not found for index ${f}`);const{collapsedSize:m=0,collapsible:y,minSize:E=0}=h;if(y){const b=e[f];if(Oe(b!=null,`Previous layout not found for panel index ${f}`),kn(b,m)){const _=E-b;zo(_,Math.abs(t))>0&&(t=t<0?0-_:_)}}}{const f=t<0?a:l,h=n[f];Oe(h,`No panel constraints found for index ${f}`);const{collapsedSize:m=0,collapsible:y,minSize:E=0}=h;if(y){const b=e[f];if(Oe(b!=null,`Previous layout not found for panel index ${f}`),kn(b,E)){const _=b-m;zo(_,Math.abs(t))>0&&(t=t<0?0-_:_)}}}}{const f=t<0?1:-1;let h=t<0?l:a,m=0;for(;;){const E=e[h];Oe(E!=null,`Previous layout not found for panel index ${h}`);const _=Ma({panelConstraints:n,panelIndex:h,size:100})-E;if(m+=_,h+=f,h<0||h>=n.length)break}const y=Math.min(Math.abs(t),Math.abs(m));t=t<0?0-y:y}{let h=t<0?a:l;for(;h>=0&&h<n.length;){const m=Math.abs(t)-Math.abs(u),y=e[h];Oe(y!=null,`Previous layout not found for panel index ${h}`);const E=y-m,b=Ma({panelConstraints:n,panelIndex:h,size:E});if(!kn(y,b)&&(u+=y-b,o[h]=b,u.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?h--:h++}}if(HH(i,o))return i;{const f=t<0?l:a,h=e[f];Oe(h!=null,`Previous layout not found for panel index ${f}`);const m=h+u,y=Ma({panelConstraints:n,panelIndex:f,size:m});if(o[f]=y,!kn(y,m)){let E=m-y,_=t<0?l:a;for(;_>=0&&_<n.length;){const v=o[_];Oe(v!=null,`Previous layout not found for panel index ${_}`);const x=v+E,P=Ma({panelConstraints:n,panelIndex:_,size:x});if(kn(v,P)||(E-=P-v,o[_]=P),kn(E,0))break;t>0?_--:_++}}}const d=o.reduce((f,h)=>h+f,0);return kn(d,100)?o:i}function qH({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,s=0,o=0;const a=n[0];Oe(a!=null,"No pivot index found"),e.forEach((f,h)=>{const{constraints:m}=f,{maxSize:y=100,minSize:E=0}=m;h===a?(r=E,i=y):(s+=E,o+=y)});const l=Math.min(i,100-s),u=Math.max(r,100-o),d=t[a];return{valueMax:l,valueMin:u,valueNow:d}}function pd(t,e=document){return Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`))}function qO(t,e,n=document){const i=pd(t,n).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===e);return i??null}function KO(t,e,n){const r=qO(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function GO(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function gg(t,e=document){const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function KH(t,e,n,r=document){var i,s,o,a;const l=gg(e,r),u=pd(t,r),d=l?u.indexOf(l):-1,f=(i=(s=n[d])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,h=(o=(a=n[d+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[f,h]}function GH({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:s,setLayout:o}){yn({didWarnAboutMissingResizeHandle:!1}),Eo(()=>{if(!s)return;const a=pd(n,s);for(let l=0;l<i.length-1;l++){const{valueMax:u,valueMin:d,valueNow:f}=qH({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),h=a[l];if(h!=null){const m=i[l];Oe(m,`No panel data found for index "${l}"`),h.setAttribute("aria-controls",m.id),h.setAttribute("aria-valuemax",""+Math.round(u)),h.setAttribute("aria-valuemin",""+Math.round(d)),h.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{a.forEach((l,u)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,s]),wo(()=>{if(!s)return;const a=e.current;Oe(a,"Eager values not found");const{panelDataArray:l}=a,u=GO(n,s);Oe(u!=null,`No group found for id "${n}"`);const d=pd(n,s);Oe(d,`No resize handles found for group id "${n}"`);const f=d.map(h=>{const m=h.getAttribute("data-panel-resize-handle-id");Oe(m,"Resize handle element has no handle id attribute");const[y,E]=KH(n,m,l,s);if(y==null||E==null)return()=>{};const b=_=>{if(!_.defaultPrevented)switch(_.key){case"Enter":{_.preventDefault();const v=l.findIndex(x=>x.id===y);if(v>=0){const x=l[v];Oe(x,`No panel data found for index ${v}`);const P=r[v],{collapsedSize:O=0,collapsible:$,minSize:T=0}=x.constraints;if(P!=null&&$){const S=qc({delta:kn(P,O)?T-O:O-P,initialLayout:r,panelConstraints:l.map(I=>I.constraints),pivotIndices:KO(n,m,s),prevLayout:r,trigger:"keyboard"});r!==S&&o(S)}}break}}};return h.addEventListener("keydown",b),()=>{h.removeEventListener("keydown",b)}});return()=>{f.forEach(h=>h())}},[s,t,e,n,r,i,o])}function gT(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function QO(t,e){const n=t==="horizontal",{x:r,y:i}=hg(e);return n?r:i}function QH(t,e,n,r,i){const s=n==="horizontal",o=gg(e,i);Oe(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute("data-panel-group-id");Oe(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const u=QO(n,t),d=GO(a,i);Oe(d,`No group element found for id "${a}"`);const f=d.getBoundingClientRect(),h=s?f.width:f.height;return(u-l)/h*100}function XH(t,e,n,r,i,s){if(MO(t)){const o=n==="horizontal";let a=0;t.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(t.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:QH(t,e,n,r,s)}function YH({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let r=0,i=100;for(let s=0;s<t.length;s++){const o=n[s];Oe(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(r++,e[s]=a,i-=a)}for(let s=0;s<t.length;s++){const o=n[s];Oe(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=t.length-r,u=i/l;r++,e[s]=u,i-=u}return e}function ca(t,e,n){e.forEach((r,i)=>{const s=t[i];Oe(s,`Panel data not found for index ${i}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:u=0,collapsible:d}=a,f=n[l];if(f==null||r!==f){n[l]=r;const{onCollapse:h,onExpand:m,onResize:y}=o;y&&y(r,f),d&&(h||m)&&(m&&(f==null||pi(f,u))&&!pi(r,u)&&m(),h&&(f==null||!pi(f,u))&&pi(r,u)&&h())}})}function Bf(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function JH({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:s=3}){const o=n[i];let a;return o==null?a=t!=null?t.toPrecision(s):"1":r.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function ZH(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function vT(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function XO(t){return`react-resizable-panels:${t}`}function YO(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:i,order:s}=e;return i?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function JO(t,e){try{const n=XO(t),r=e.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function eq(t,e,n){var r,i;const s=(r=JO(t,n))!==null&&r!==void 0?r:{},o=YO(e);return(i=s[o])!==null&&i!==void 0?i:null}function tq(t,e,n,r,i){var s;const o=XO(t),a=YO(e),l=(s=JO(t,i))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(o,JSON.stringify(l))}catch(u){console.error(u)}}function yT({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((s,o)=>s+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!kn(r,100))for(let s=0;s<e.length;s++){const o=n[s];Oe(o!=null,`No layout data found for index ${s}`);const a=100/r*o;n[s]=a}let i=0;for(let s=0;s<e.length;s++){const o=n[s];Oe(o!=null,`No layout data found for index ${s}`);const a=Ma({panelConstraints:e,panelIndex:s,size:o});o!=a&&(i+=o-a,n[s]=a)}if(!kn(i,0))for(let s=0;s<e.length;s++){const o=n[s];Oe(o!=null,`No layout data found for index ${s}`);const a=o+i,l=Ma({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(i-=l-o,n[s]=l,kn(i,0)))break}return n}const nq=100,Kc={getItem:t=>(vT(Kc),Kc.getItem(t)),setItem:(t,e)=>{vT(Kc),Kc.setItem(t,e)}},_T={};function ZO({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=Kc,style:u,tagName:d="div",...f}){const h=CE(s),m=yn(null),[y,E]=hu(null),[b,_]=hu([]),v=yn({}),x=yn(new Map),P=yn(0),O=yn({autoSaveId:t,direction:r,dragState:y,id:h,keyboardResizeBy:a,onLayout:o,storage:l}),$=yn({layout:b,panelDataArray:[],panelDataArrayChanged:!1});yn({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),DO(i,()=>({getId:()=>O.current.id,getLayout:()=>{const{layout:B}=$.current;return B},setLayout:B=>{const{onLayout:ne}=O.current,{layout:ue,panelDataArray:de}=$.current,re=yT({layout:B,panelConstraints:de.map(me=>me.constraints)});gT(ue,re)||(_(re),$.current.layout=re,ne&&ne(re),ca(de,re,v.current))}}),[]),Eo(()=>{O.current.autoSaveId=t,O.current.direction=r,O.current.dragState=y,O.current.id=h,O.current.onLayout=o,O.current.storage=l}),GH({committedValuesRef:O,eagerValuesRef:$,groupId:h,layout:b,panelDataArray:$.current.panelDataArray,setLayout:_,panelGroupElement:m.current}),wo(()=>{const{panelDataArray:B}=$.current;if(t){if(b.length===0||b.length!==B.length)return;let ne=_T[t];ne==null&&(ne=ZH(tq,nq),_T[t]=ne);const ue=[...B],de=new Map(x.current);ne(t,ue,de,b,l)}},[t,b,l]),wo(()=>{});const T=Cn(B=>{const{onLayout:ne}=O.current,{layout:ue,panelDataArray:de}=$.current;if(B.constraints.collapsible){const re=de.map(Je=>Je.constraints),{collapsedSize:me=0,panelSize:Ne,pivotIndices:Ae}=to(de,B,ue);if(Oe(Ne!=null,`Panel size not found for panel "${B.id}"`),!pi(Ne,me)){x.current.set(B.id,Ne);const Ge=_a(de,B)===de.length-1?Ne-me:me-Ne,Fe=qc({delta:Ge,initialLayout:ue,panelConstraints:re,pivotIndices:Ae,prevLayout:ue,trigger:"imperative-api"});Bf(ue,Fe)||(_(Fe),$.current.layout=Fe,ne&&ne(Fe),ca(de,Fe,v.current))}}},[]),S=Cn((B,ne)=>{const{onLayout:ue}=O.current,{layout:de,panelDataArray:re}=$.current;if(B.constraints.collapsible){const me=re.map(ct=>ct.constraints),{collapsedSize:Ne=0,panelSize:Ae=0,minSize:Je=0,pivotIndices:Ge}=to(re,B,de),Fe=ne??Je;if(pi(Ae,Ne)){const ct=x.current.get(B.id),Gt=ct!=null&&ct>=Fe?ct:Fe,rr=_a(re,B)===re.length-1?Ae-Gt:Gt-Ae,Hn=qc({delta:rr,initialLayout:de,panelConstraints:me,pivotIndices:Ge,prevLayout:de,trigger:"imperative-api"});Bf(de,Hn)||(_(Hn),$.current.layout=Hn,ue&&ue(Hn),ca(re,Hn,v.current))}}},[]),I=Cn(B=>{const{layout:ne,panelDataArray:ue}=$.current,{panelSize:de}=to(ue,B,ne);return Oe(de!=null,`Panel size not found for panel "${B.id}"`),de},[]),R=Cn((B,ne)=>{const{panelDataArray:ue}=$.current,de=_a(ue,B);return JH({defaultSize:ne,dragState:y,layout:b,panelData:ue,panelIndex:de})},[y,b]),D=Cn(B=>{const{layout:ne,panelDataArray:ue}=$.current,{collapsedSize:de=0,collapsible:re,panelSize:me}=to(ue,B,ne);return Oe(me!=null,`Panel size not found for panel "${B.id}"`),re===!0&&pi(me,de)},[]),k=Cn(B=>{const{layout:ne,panelDataArray:ue}=$.current,{collapsedSize:de=0,collapsible:re,panelSize:me}=to(ue,B,ne);return Oe(me!=null,`Panel size not found for panel "${B.id}"`),!re||zo(me,de)>0},[]),A=Cn(B=>{const{panelDataArray:ne}=$.current;ne.push(B),ne.sort((ue,de)=>{const re=ue.order,me=de.order;return re==null&&me==null?0:re==null?-1:me==null?1:re-me}),$.current.panelDataArrayChanged=!0},[]);Eo(()=>{if($.current.panelDataArrayChanged){$.current.panelDataArrayChanged=!1;const{autoSaveId:B,onLayout:ne,storage:ue}=O.current,{layout:de,panelDataArray:re}=$.current;let me=null;if(B){const Ae=eq(B,re,ue);Ae&&(x.current=new Map(Object.entries(Ae.expandToSizes)),me=Ae.layout)}me==null&&(me=YH({panelDataArray:re}));const Ne=yT({layout:me,panelConstraints:re.map(Ae=>Ae.constraints)});gT(de,Ne)||(_(Ne),$.current.layout=Ne,ne&&ne(Ne),ca(re,Ne,v.current))}}),Eo(()=>{const B=$.current;return()=>{B.layout=[]}},[]);const G=Cn(B=>function(ue){ue.preventDefault();const de=m.current;if(!de)return()=>null;const{direction:re,dragState:me,id:Ne,keyboardResizeBy:Ae,onLayout:Je}=O.current,{layout:Ge,panelDataArray:Fe}=$.current,{initialLayout:ct}=me??{},Gt=KO(Ne,B,de);let bt=XH(ue,B,re,me,Ae,de);if(bt===0)return;const rr=re==="horizontal";document.dir==="rtl"&&rr&&(bt=-bt);const Hn=Fe.map(j=>j.constraints),L=qc({delta:bt,initialLayout:ct??Ge,panelConstraints:Hn,pivotIndices:Gt,prevLayout:Ge,trigger:MO(ue)?"keyboard":"mouse-or-touch"}),V=!Bf(Ge,L);(VO(ue)||FO(ue))&&P.current!=bt&&(P.current=bt,V?Fv(B,0):rr?Fv(B,bt<0?UO:zO):Fv(B,bt<0?BO:WO)),V&&(_(L),$.current.layout=L,Je&&Je(L),ca(Fe,L,v.current))},[]),Y=Cn((B,ne)=>{const{onLayout:ue}=O.current,{layout:de,panelDataArray:re}=$.current,me=re.map(ct=>ct.constraints),{panelSize:Ne,pivotIndices:Ae}=to(re,B,de);Oe(Ne!=null,`Panel size not found for panel "${B.id}"`);const Ge=_a(re,B)===re.length-1?Ne-ne:ne-Ne,Fe=qc({delta:Ge,initialLayout:de,panelConstraints:me,pivotIndices:Ae,prevLayout:de,trigger:"imperative-api"});Bf(de,Fe)||(_(Fe),$.current.layout=Fe,ue&&ue(Fe),ca(re,Fe,v.current))},[]),pe=Cn((B,ne)=>{const{layout:ue,panelDataArray:de}=$.current,{collapsedSize:re=0,collapsible:me}=ne,{collapsedSize:Ne=0,collapsible:Ae,maxSize:Je=100,minSize:Ge=0}=B.constraints,{panelSize:Fe}=to(de,B,ue);Fe!=null&&(me&&Ae&&pi(Fe,re)?pi(re,Ne)||Y(B,Ne):Fe<Ge?Y(B,Ge):Fe>Je&&Y(B,Je))},[Y]),le=Cn((B,ne)=>{const{direction:ue}=O.current,{layout:de}=$.current;if(!m.current)return;const re=gg(B,m.current);Oe(re,`Drag handle element not found for id "${B}"`);const me=QO(ue,ne);E({dragHandleId:B,dragHandleRect:re.getBoundingClientRect(),initialCursorPosition:me,initialLayout:de})},[]),W=Cn(()=>{E(null)},[]),U=Cn(B=>{const{panelDataArray:ne}=$.current,ue=_a(ne,B);ue>=0&&(ne.splice(ue,1),delete v.current[B.id],$.current.panelDataArrayChanged=!0)},[]),Z=kH(()=>({collapsePanel:T,direction:r,dragState:y,expandPanel:S,getPanelSize:I,getPanelStyle:R,groupId:h,isPanelCollapsed:D,isPanelExpanded:k,reevaluatePanelConstraints:pe,registerPanel:A,registerResizeHandle:G,resizePanel:Y,startDragging:le,stopDragging:W,unregisterPanel:U,panelGroupElement:m.current}),[T,y,r,S,I,R,h,D,k,pe,A,G,Y,le,W,U]),ce={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return Rl(fg.Provider,{value:Z},Rl(d,{...f,children:e,className:n,id:s,ref:m,style:{...ce,...u},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":h}))}const eN=OO((t,e)=>Rl(ZO,{...t,forwardedRef:e}));ZO.displayName="PanelGroup";eN.displayName="forwardRef(PanelGroup)";function _a(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function to(t,e,n){const r=_a(t,e),s=r===t.length-1?[r-1,r]:[r,r+1],o=n[r];return{...e.constraints,panelSize:o,pivotIndices:s}}function rq({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){wo(()=>{if(t||n==null||r==null)return;const i=gg(e,r);if(i==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const a=i.getAttribute("data-panel-group-id");Oe(a,`No group element found for id "${a}"`);const l=pd(a,r),u=qO(a,e,r);Oe(u!==null,`No resize element found for id "${e}"`);const d=o.shiftKey?u>0?u-1:l.length-1:u+1<l.length?u+1:0;l[d].focus();break}}};return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[r,t,e,n])}function tN({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:i,onDragging:s,style:o={},tabIndex:a=0,tagName:l="div",...u}){var d,f;const h=yn(null),m=yn({onDragging:s});wo(()=>{m.current.onDragging=s});const y=NO(fg);if(y===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:E,groupId:b,registerResizeHandle:_,startDragging:v,stopDragging:x,panelGroupElement:P}=y,O=CE(i),[$,T]=hu("inactive"),[S,I]=hu(!1),[R,D]=hu(null),k=yn({state:$});Eo(()=>{k.current.state=$}),wo(()=>{if(n)D(null);else{const pe=_(O);D(()=>pe)}},[n,O,_]);const A=(d=r==null?void 0:r.coarse)!==null&&d!==void 0?d:15,G=(f=r==null?void 0:r.fine)!==null&&f!==void 0?f:5;return wo(()=>{if(n||R==null)return;const pe=h.current;return Oe(pe,"Element ref not attached"),WH(O,pe,E,{coarse:A,fine:G},(W,U,Z)=>{if(U)switch(W){case"down":{T("drag"),v(O,Z);const{onDragging:ce}=m.current;ce&&ce(!0);break}case"move":{const{state:ce}=k.current;ce!=="drag"&&T("hover"),R(Z);break}case"up":{T("hover"),x();const{onDragging:ce}=m.current;ce&&ce(!1);break}}else T("inactive")})},[A,E,n,G,_,O,R,v,x]),rq({disabled:n,handleId:O,resizeHandler:R,panelGroupElement:P}),Rl(l,{...u,children:t,className:e,id:i,onBlur:()=>I(!1),onFocus:()=>I(!0),ref:h,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...o},tabIndex:a,"data-panel-group-direction":E,"data-panel-group-id":b,"data-resize-handle":"","data-resize-handle-active":$==="drag"?"pointer":S?"keyboard":void 0,"data-resize-handle-state":$,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":O})}tN.displayName="PanelResizeHandle";const iq=({className:t,...e})=>N.jsx(eN,{className:Ye("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...e}),jv=LO,wT=({withHandle:t,className:e,...n})=>N.jsx(tN,{className:Ye("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...n,children:t&&N.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:N.jsx(g5,{className:"h-2.5 w-2.5"})})}),ET=()=>N.jsxs(iq,{direction:"horizontal",children:[N.jsx(jv,{defaultSize:25,minSize:22,children:N.jsx(RH,{})}),N.jsx(wT,{}),N.jsx(jv,{defaultSize:50,children:N.jsx(VW,{})}),N.jsx(wT,{}),N.jsx(jv,{defaultSize:25,children:N.jsx(MW,{})})]});function xs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F_(t,e){return F_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},F_(t,e)}function vg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F_(t,e)}function Wd(t,e){if(e&&(Fn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xs(t)}function ti(t){return ti=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ti(t)}function sq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oq(t){return kk(t)||sq(t)||Ok(t)||Nk()}function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ST(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var aq={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},lq=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};er(this,t),this.init(e,n)}return tr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||aq,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,ST(ST({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),zr=new lq,Us=function(){function t(){er(this,t),this.observers={}}return tr(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(l){l.apply(void 0,i)})}if(this.observers["*"]){var a=[].concat(this.observers["*"]);a.forEach(function(l){l.apply(l,[n].concat(i))})}}}]),t}();function Ec(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function xT(t){return t==null?"":""+t}function cq(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function kE(t,e,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(/###/g,"."):a}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function TT(t,e,n){var r=kE(t,e,Object),i=r.obj,s=r.k;i[s]=n}function uq(t,e,n,r){var i=kE(t,e,Object),s=i.obj,o=i.k;s[o]=s[o]||[],s[o].push(n)}function pm(t,e){var n=kE(t,e),r=n.obj,i=n.k;if(r)return r[i]}function dq(t,e,n){var r=pm(t,n);return r!==void 0?r:pm(e,n)}function nN(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):nN(t[r],e[r],n):t[r]=e[r]);return t}function ua(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var fq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function hq(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return fq[e]}):t}var yg=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,pq=[" ",",","?","!",";"];function mq(t,e,n){e=e||"",n=n||"";var r=pq.filter(function(a){return e.indexOf(a)<0&&n.indexOf(a)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(a){return a==="?"?"\\?":a}).join("|"),")")),s=!i.test(t);if(!s){var o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function mm(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var o=2,a=r.slice(s,s+o).join(n),l=i[a];l===void 0&&r.length>s+o;)o++,a=r.slice(s,s+o).join(n),l=i[a];if(l===void 0)return;if(l===null)return null;if(e.endsWith(a)){if(typeof l=="string")return l;if(a&&typeof l[a]=="string")return l[a]}var u=r.slice(s+o).join(n);return u?mm(l,u,n):void 0}i=i[r[s]]}return i}}function IT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IT(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gq(t){var e=vq();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Wd(this,i)}}function vq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var yq=function(t){vg(n,t);var e=gq(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return er(this,n),i=e.call(this),yg&&Us.call(xs(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return tr(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure,d=[i,s];o&&typeof o!="string"&&(d=d.concat(o)),o&&typeof o=="string"&&(d=d.concat(l?o.split(l):o)),i.indexOf(".")>-1&&(d=i.split("."));var f=pm(this.data,d);return f||!u||typeof o!="string"?f:mm(this.data&&this.data[i]&&this.data[i][s],o,l)}},{key:"addResource",value:function(i,s,o,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=[i,s];o&&(d=d.concat(u?o.split(u):o)),i.indexOf(".")>-1&&(d=i.split("."),a=s,s=d[1]),this.addNamespaces(s),TT(this.data,d,a),l.silent||this.emit("added",i,s,o,a)}},{key:"addResources",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(i,s,l,o[l],{silent:!0});a.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},d=[i,s];i.indexOf(".")>-1&&(d=i.split("."),a=o,o=s,s=d[1]),this.addNamespaces(s);var f=pm(this.data,d)||{};a?nN(f,o,l):f=Wf(Wf({},f),o),TT(this.data,d,f),u.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Wf(Wf({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),o=s&&Object.keys(s)||[];return!!o.find(function(a){return s[a]&&Object.keys(s[a]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Us),rN={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var o=this;return e.forEach(function(a){o.processors[a]&&(n=o.processors[a].process(n,r,i,s))}),n}};function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _q(t){var e=wq();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Wd(this,i)}}function wq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var RT={},PT=function(t){vg(n,t);var e=_q(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return er(this,n),i=e.call(this),yg&&Us.call(xs(i)),cq(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,xs(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=zr.create("translator"),i}return tr(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ns||this.options.defaultNS||[],u=o&&i.indexOf(o)>-1,d=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!mq(i,o,a);if(u&&!d){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:l};var h=i.split(o);(o!==a||o===a&&this.options.ns.indexOf(h[0])>-1)&&(l=h.shift()),i=h.join(a)}return typeof l=="string"&&(l=[l]),{key:i,namespaces:l}}},{key:"translate",value:function(i,s,o){var a=this;if(Fn(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),Fn(s)==="object"&&(s=en({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var l=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,u=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,d=this.extractFromKey(i[i.length-1],s),f=d.key,h=d.namespaces,m=h[h.length-1],y=s.lng||this.language,E=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y&&y.toLowerCase()==="cimode"){if(E){var b=s.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(m).concat(b).concat(f),usedKey:f,exactUsedKey:f,usedLng:y,usedNS:m}:"".concat(m).concat(b).concat(f)}return l?{res:f,usedKey:f,exactUsedKey:f,usedLng:y,usedNS:m}:f}var _=this.resolve(i,s),v=_&&_.res,x=_&&_.usedKey||f,P=_&&_.exactUsedKey||f,O=Object.prototype.toString.apply(v),$=["[object Number]","[object Function]","[object RegExp]"],T=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,I=typeof v!="string"&&typeof v!="boolean"&&typeof v!="number";if(S&&v&&I&&$.indexOf(O)<0&&!(typeof T=="string"&&O==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var R=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,v,en(en({},s),{},{ns:h})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return l?(_.res=R,_):R}if(u){var D=O==="[object Array]",k=D?[]:{},A=D?P:x;for(var G in v)if(Object.prototype.hasOwnProperty.call(v,G)){var Y="".concat(A).concat(u).concat(G);k[G]=this.translate(Y,en(en({},s),{joinArrays:!1,ns:h})),k[G]===Y&&(k[G]=v[G])}v=k}}else if(S&&typeof T=="string"&&O==="[object Array]")v=v.join(T),v&&(v=this.extendTranslation(v,i,s,o));else{var pe=!1,le=!1,W=s.count!==void 0&&typeof s.count!="string",U=n.hasDefaultValue(s),Z=W?this.pluralResolver.getSuffix(y,s.count,s):"",ce=s["defaultValue".concat(Z)]||s.defaultValue;!this.isValidLookup(v)&&U&&(pe=!0,v=ce),this.isValidLookup(v)||(le=!0,v=f);var B=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,ne=B&&le?void 0:v,ue=U&&ce!==v&&this.options.updateMissing;if(le||pe||ue){if(this.logger.log(ue?"updateKey":"missingKey",y,m,f,ue?ce:v),u){var de=this.resolve(f,en(en({},s),{},{keySeparator:!1}));de&&de.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var re=[],me=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&me&&me[0])for(var Ne=0;Ne<me.length;Ne++)re.push(me[Ne]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(s.lng||this.language):re.push(s.lng||this.language);var Ae=function(Ge,Fe,ct){var Gt=U&&ct!==v?ct:ne;a.options.missingKeyHandler?a.options.missingKeyHandler(Ge,m,Fe,Gt,ue,s):a.backendConnector&&a.backendConnector.saveMissing&&a.backendConnector.saveMissing(Ge,m,Fe,Gt,ue,s),a.emit("missingKey",Ge,m,Fe,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&W?re.forEach(function(Je){a.pluralResolver.getSuffixes(Je,s).forEach(function(Ge){Ae([Je],f+Ge,s["defaultValue".concat(Ge)]||ce)})}):Ae(re,f,ce))}v=this.extendTranslation(v,i,s,_,o),le&&v===f&&this.options.appendNamespaceToMissingKey&&(v="".concat(m,":").concat(f)),(le||pe)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(m,":").concat(f):f,pe?v:void 0):v=this.options.parseMissingKeyHandler(v))}return l?(_.res=v,_):v}},{key:"extendTranslation",value:function(i,s,o,a,l){var u=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,en(en({},this.options.interpolation.defaultVariables),o),a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(en(en({},o),{interpolation:en(en({},this.options.interpolation),o.interpolation)}));var d=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(d){var h=i.match(this.interpolator.nestingRegexp);f=h&&h.length}var m=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(m=en(en({},this.options.interpolation.defaultVariables),m)),i=this.interpolator.interpolate(i,m,o.lng||this.language,o),d){var y=i.match(this.interpolator.nestingRegexp),E=y&&y.length;f<E&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&a&&a.res&&(o.lng=a.usedLng),o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var v=arguments.length,x=new Array(v),P=0;P<v;P++)x[P]=arguments[P];return l&&l[0]===x[0]&&!o.context?(u.logger.warn("It seems you are nesting recursively key: ".concat(x[0]," in key: ").concat(s[0])),null):u.translate.apply(u,x.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var b=o.postProcess||this.options.postProcess,_=typeof b=="string"?[b]:b;return i!=null&&_&&_.length&&o.applyPostProcessor!==!1&&(i=rN.handle(_,i,s,this.options&&this.options.postProcessPassResolved?en({i18nResolved:a},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a,l,u,d,f;return typeof i=="string"&&(i=[i]),i.forEach(function(h){if(!s.isValidLookup(a)){var m=s.extractFromKey(h,o),y=m.key;l=y;var E=m.namespaces;s.options.fallbackNS&&(E=E.concat(s.options.fallbackNS));var b=o.count!==void 0&&typeof o.count!="string",_=b&&!o.ordinal&&o.count===0&&s.pluralResolver.shouldUseIntlApi(),v=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",x=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);E.forEach(function(P){s.isValidLookup(a)||(f=P,!RT["".concat(x[0],"-").concat(P)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(f)&&(RT["".concat(x[0],"-").concat(P)]=!0,s.logger.warn('key "'.concat(l,'" for languages "').concat(x.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(function(O){if(!s.isValidLookup(a)){d=O;var $=[y];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys($,y,O,P,o);else{var T;b&&(T=s.pluralResolver.getSuffix(O,o.count,o));var S="".concat(s.options.pluralSeparator,"zero");if(b&&($.push(y+T),_&&$.push(y+S)),v){var I="".concat(y).concat(s.options.contextSeparator).concat(o.context);$.push(I),b&&($.push(I+T),_&&$.push(I+S))}}for(var R;R=$.pop();)s.isValidLookup(a)||(u=R,a=s.getResource(O,P,R,o))}}))})}}),{res:a,usedKey:l,exactUsedKey:u,usedLng:d,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,a):this.resourceStore.getResource(i,s,o,a)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),n}(Us);function Uv(t){return t.charAt(0).toUpperCase()+t.slice(1)}var AT=function(){function t(e){er(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zr.create("languageUtils")}return tr(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Uv(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=Uv(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=Uv(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var o=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var o=r.getLanguagePartFromCode(s);if(r.isSupportedCode(o))return i=o;i=r.options.supportedLngs.find(function(a){if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&a.indexOf(o)===0)return a})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),o=[],a=function(u){u&&(i.isSupportedCode(u)?o.push(u):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(u)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(n))):typeof n=="string"&&a(this.formatLanguageCode(n)),s.forEach(function(l){o.indexOf(l)<0&&a(i.formatLanguageCode(l))}),o}}]),t}(),Eq=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],bq={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},Sq=["v1","v2","v3"],kT={zero:0,one:1,two:2,few:3,many:4,other:5};function xq(){var t={};return Eq.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:bq[e.fc]}})}),t}var Tq=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};er(this,t),this.languageUtils=e,this.options=n,this.logger=zr.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=xq()}return tr(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(o,a){return kT[o]-kT[a]}).map(function(o){return"".concat(r.options.prepend).concat(o)}):s.numbers.map(function(o){return r.getSuffix(n,o,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),o=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var a=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!Sq.includes(this.options.compatibilityJSON)}}]),t}();function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NT(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=dq(t,e,n);return!s&&i&&typeof n=="string"&&(s=mm(t,n,r),s===void 0&&(s=mm(e,n,r))),s}var Iq=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};er(this,t),this.logger=zr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return tr(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:hq,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?ua(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?ua(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?ua(r.nestingPrefix):r.nestingPrefixEscaped||ua("$t("),this.nestingSuffix=r.nestingSuffix?ua(r.nestingSuffix):r.nestingSuffixEscaped||ua(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var o=this,a,l,u,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(b){return b.replace(/\$/g,"$$$$")}var h=function(_){if(_.indexOf(o.formatSeparator)<0){var v=NT(r,d,_,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(v,void 0,i,ur(ur(ur({},s),r),{},{interpolationkey:_})):v}var x=_.split(o.formatSeparator),P=x.shift().trim(),O=x.join(o.formatSeparator).trim();return o.format(NT(r,d,P,o.options.keySeparator,o.options.ignoreJSONStructure),O,i,ur(ur(ur({},s),r),{},{interpolationkey:P}))};this.resetRegExp();var m=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,y=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,E=[{regex:this.regexpUnescape,safeValue:function(_){return f(_)}},{regex:this.regexp,safeValue:function(_){return o.escapeValue?f(o.escape(_)):f(_)}}];return E.forEach(function(b){for(u=0;a=b.regex.exec(n);){var _=a[1].trim();if(l=h(_),l===void 0)if(typeof m=="function"){var v=m(n,a,s);l=typeof v=="string"?v:""}else if(s&&Object.prototype.hasOwnProperty.call(s,_))l="";else if(y){l=a[0];continue}else o.logger.warn("missed to pass in variable ".concat(_," for interpolating ").concat(n)),l="";else typeof l!="string"&&!o.useRawValueToEscape&&(l=xT(l));var x=b.safeValue(l);if(n=n.replace(a[0],x),y?(b.regex.lastIndex+=l.length,b.regex.lastIndex-=a[0].length):b.regex.lastIndex=0,u++,u>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a,l;function u(m,y){var E=this.nestingOptionsSeparator;if(m.indexOf(E)<0)return m;var b=m.split(new RegExp("".concat(E,"[ ]*{"))),_="{".concat(b[1]);m=b[0],_=this.interpolate(_,l);var v=_.match(/'/g),x=_.match(/"/g);(v&&v.length%2===0&&!x||x.length%2!==0)&&(_=_.replace(/'/g,'"'));try{l=JSON.parse(_),y&&(l=ur(ur({},y),l))}catch(P){return this.logger.warn("failed parsing options string in nesting for key ".concat(m),P),"".concat(m).concat(E).concat(_)}return delete l.defaultValue,m}for(;o=this.nestingRegexp.exec(n);){var d=[];l=ur({},s),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var h=o[1].split(this.formatSeparator).map(function(m){return m.trim()});o[1]=h.shift(),d=h,f=!0}if(a=r(u.call(this,o[1].trim(),l),l),a&&o[0]===n&&typeof a!="string")return a;typeof a!="string"&&(a=xT(a)),a||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),a=""),f&&(a=d.reduce(function(m,y){return i.format(m,y,s.lng,ur(ur({},s),{},{interpolationkey:o[1].trim()}))},a.trim())),n=n.replace(o[0],a),this.regexp.lastIndex=0}return n}}]),t}();function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cq(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(o){if(o){var a=o.split(":"),l=oq(a),u=l[0],d=l.slice(1),f=d.join(":").trim().replace(/^'+|'+$/g,"");n[u.trim()]||(n[u.trim()]=f),f==="false"&&(n[u.trim()]=!1),f==="true"&&(n[u.trim()]=!0),isNaN(f)||(n[u.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:n}}function da(t){var e={};return function(r,i,s){var o=i+JSON.stringify(s),a=e[o];return a||(a=t(i,s),e[o]=a),a(r)}}var Rq=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};er(this,t),this.logger=zr.create("formatter"),this.options=e,this.formats={number:da(function(n,r){var i=new Intl.NumberFormat(n,li({},r));return function(s){return i.format(s)}}),currency:da(function(n,r){var i=new Intl.NumberFormat(n,li(li({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:da(function(n,r){var i=new Intl.DateTimeFormat(n,li({},r));return function(s){return i.format(s)}}),relativetime:da(function(n,r){var i=new Intl.RelativeTimeFormat(n,li({},r));return function(s){return i.format(s,r.range||"day")}}),list:da(function(n,r){var i=new Intl.ListFormat(n,li({},r));return function(s){return i.format(s)}})},this.init(e)}return tr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=da(r)}},{key:"format",value:function(n,r,i){var s=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=r.split(this.formatSeparator),l=a.reduce(function(u,d){var f=Cq(d),h=f.formatName,m=f.formatOptions;if(s.formats[h]){var y=u;try{var E=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},b=E.locale||E.lng||o.locale||o.lng||i;y=s.formats[h](u,b,li(li(li({},m),o),E))}catch(_){s.logger.warn(_)}return y}else s.logger.warn("there was no format function for ".concat(h));return u},n);return l}}]),t}();function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pq(t){var e=Aq();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Wd(this,i)}}function Aq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kq(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var Oq=function(t){vg(n,t);var e=Pq(n);function n(r,i,s){var o,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return er(this,n),o=e.call(this),yg&&Us.call(xs(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=a,o.logger=zr.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=a.maxParallelReads||10,o.readingCalls=0,o.maxRetries=a.maxRetries>=0?a.maxRetries:5,o.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,a.backend,a),o}return tr(n,[{key:"queueLoad",value:function(i,s,o,a){var l=this,u={},d={},f={},h={};return i.forEach(function(m){var y=!0;s.forEach(function(E){var b="".concat(m,"|").concat(E);!o.reload&&l.store.hasResourceBundle(m,E)?l.state[b]=2:l.state[b]<0||(l.state[b]===1?d[b]===void 0&&(d[b]=!0):(l.state[b]=1,y=!1,d[b]===void 0&&(d[b]=!0),u[b]===void 0&&(u[b]=!0),h[E]===void 0&&(h[E]=!0)))}),y||(f[m]=!0)}),(Object.keys(u).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(u),pending:Object.keys(d),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(h)}}},{key:"loaded",value:function(i,s,o){var a=i.split("|"),l=a[0],u=a[1];s&&this.emit("failedLoading",l,u,s),o&&this.store.addResourceBundle(l,u,o),this.state[i]=s?-1:2;var d={};this.queue.forEach(function(f){uq(f.loaded,[l],u),kq(f,i),s&&f.errors.push(s),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(h){d[h]||(d[h]={});var m=f.loaded[h];m.length&&m.forEach(function(y){d[h][y]===void 0&&(d[h][y]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,s,o){var a=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,d=arguments.length>5?arguments[5]:void 0;if(!i.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:o,tried:l,wait:u,callback:d});return}this.readingCalls++;var f=function(E,b){if(a.readingCalls--,a.waitingReads.length>0){var _=a.waitingReads.shift();a.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(E&&b&&l<a.maxRetries){setTimeout(function(){a.read.call(a,i,s,o,l+1,u*2,d)},u);return}d(E,b)},h=this.backend[o].bind(this.backend);if(h.length===2){try{var m=h(i,s);m&&typeof m.then=="function"?m.then(function(y){return f(null,y)}).catch(f):f(null,m)}catch(y){f(y)}return}return h(i,s,f)}},{key:"prepareLoading",value:function(i,s){var o=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var u=this.queueLoad(i,s,a,l);if(!u.toLoad.length)return u.pending.length||l(),null;u.toLoad.forEach(function(d){o.loadOne(d)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=i.split("|"),l=a[0],u=a[1];this.read(l,u,"read",void 0,void 0,function(d,f){d&&s.logger.warn("".concat(o,"loading namespace ").concat(u," for language ").concat(l," failed"),d),!d&&f&&s.logger.log("".concat(o,"loaded namespace ").concat(u," for language ").concat(l),f),s.loaded(i,d,f)})}},{key:"saveMissing",value:function(i,s,o,a,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=LT(LT({},u),{},{isUpdate:l}),h=this.backend.create.bind(this.backend);if(h.length<6)try{var m;h.length===5?m=h(i,s,o,a,f):m=h(i,s,o,a),m&&typeof m.then=="function"?m.then(function(y){return d(null,y)}).catch(d):d(null,m)}catch(y){d(y)}else h(i,s,o,a,d,f)}!i||!i[0]||this.store.addResource(i[0],s,o,a)}}}]),n}(Us);function MT(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(Fn(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),Fn(e[2])==="object"||Fn(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function VT(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nq(t){var e=Dq();return function(){var r=ti(t),i;if(e){var s=ti(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Wd(this,i)}}function Dq(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hf(){}function $q(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var gm=function(t){vg(n,t);var e=Nq(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(er(this,n),r=e.call(this),yg&&Us.call(xs(r)),r.options=VT(i),r.services={},r.logger=zr,r.modules={external:[]},$q(xs(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),Wd(r,xs(r));setTimeout(function(){r.init(i,s)},0)}return r}return tr(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var a=MT();this.options=Dr(Dr(Dr({},a),this.options),VT(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Dr(Dr({},a.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function l(_){return _?typeof _=="function"?new _:_:null}if(!this.options.isClone){this.modules.logger?zr.init(l(this.modules.logger),this.options):zr.init(null,this.options);var u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Rq);var d=new AT(this.options);this.store=new yq(this.options.resources,this.options);var f=this.services;f.logger=zr,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Tq(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(f.formatter=l(u),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Iq(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Oq(l(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(_){for(var v=arguments.length,x=new Array(v>1?v-1:0),P=1;P<v;P++)x[P-1]=arguments[P];i.emit.apply(i,[_].concat(x))}),this.modules.languageDetector&&(f.languageDetector=l(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=l(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new PT(this.services,this.options),this.translator.on("*",function(_){for(var v=arguments.length,x=new Array(v>1?v-1:0),P=1;P<v;P++)x[P-1]=arguments[P];i.emit.apply(i,[_].concat(x))}),this.modules.external.forEach(function(_){_.init&&_.init(i)})}if(this.format=this.options.interpolation.format,o||(o=Hf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var m=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];m.forEach(function(_){i[_]=function(){var v;return(v=i.store)[_].apply(v,arguments)}});var y=["addResource","addResources","addResourceBundle","removeResourceBundle"];y.forEach(function(_){i[_]=function(){var v;return(v=i.store)[_].apply(v,arguments),i}});var E=Ec(),b=function(){var v=function(P,O){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),E.resolve(O),o(P,O)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return v(null,i.t.bind(i));i.changeLanguage(i.options.lng,v)};return this.options.resources||!this.options.initImmediate?b():setTimeout(b,0),E}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hf,a=o,l=typeof i=="string"?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return a();var u=[],d=function(m){if(m){var y=s.services.languageUtils.toResolveHierarchy(m);y.forEach(function(E){u.indexOf(E)<0&&u.push(E)})}};if(l)d(l);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(h){return d(h)})}this.options.preload&&this.options.preload.forEach(function(h){return d(h)}),this.services.backendConnector.load(u,this.options.ns,function(h){!h&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),a(h)})}else a(null)}},{key:"reloadResources",value:function(i,s,o){var a=Ec();return i||(i=this.languages),s||(s=this.options.ns),o||(o=Hf),this.services.backendConnector.reload(i,s,function(l){a.resolve(),o(l)}),a}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&rN.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var a=Ec();this.emit("languageChanging",i);var l=function(h){o.language=h,o.languages=o.services.languageUtils.toResolveHierarchy(h),o.resolvedLanguage=void 0,o.setResolvedLanguage(h)},u=function(h,m){m?(l(m),o.translator.changeLanguage(m),o.isLanguageChangingTo=void 0,o.emit("languageChanged",m),o.logger.log("languageChanged",m)):o.isLanguageChangingTo=void 0,a.resolve(function(){return o.t.apply(o,arguments)}),s&&s(h,function(){return o.t.apply(o,arguments)})},d=function(h){!i&&!h&&o.services.languageDetector&&(h=[]);var m=typeof h=="string"?h:o.services.languageUtils.getBestMatchFromCodes(h);m&&(o.language||l(m),o.translator.language||o.translator.changeLanguage(m),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(m)),o.loadResources(m,function(y){u(y,m)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(i),a}},{key:"getFixedT",value:function(i,s,o){var a=this,l=function u(d,f){var h;if(Fn(f)!=="object"){for(var m=arguments.length,y=new Array(m>2?m-2:0),E=2;E<m;E++)y[E-2]=arguments[E];h=a.options.overloadTranslationOptionHandler([d,f].concat(y))}else h=Dr({},f);h.lng=h.lng||u.lng,h.lngs=h.lngs||u.lngs,h.ns=h.ns||u.ns,h.keyPrefix=h.keyPrefix||o||u.keyPrefix;var b=a.options.keySeparator||".",_;return h.keyPrefix&&Array.isArray(d)?_=d.map(function(v){return"".concat(h.keyPrefix).concat(b).concat(v)}):_=h.keyPrefix?"".concat(h.keyPrefix).concat(b).concat(d):d,a.t(_,h)};return typeof i=="string"?l.lng=i:l.lngs=i,l.ns=s,l.keyPrefix=o,l}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var a=o.lng||this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var d=function(m,y){var E=s.services.backendConnector.state["".concat(m,"|").concat(y)];return E===-1||E===2};if(o.precheck){var f=o.precheck(this,d);if(f!==void 0)return f}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(a,i)&&(!l||d(u,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,a=Ec();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){a.resolve(),s&&s(l)}),a):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=Ec();typeof i=="string"&&(i=[i]);var a=this.options.preload||[],l=i.filter(function(u){return a.indexOf(u)<0});return l.length?(this.options.preload=a.concat(l),this.loadResources(function(u){o.resolve(),s&&s(u)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new AT(MT());return s.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hf,a=Dr(Dr(Dr({},this.options),s),{isClone:!0}),l=new n(a);(s.debug!==void 0||s.prefix!==void 0)&&(l.logger=l.logger.clone(s));var u=["store","services","language"];return u.forEach(function(d){l[d]=i[d]}),l.services=Dr({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new PT(l.services,l.options),l.translator.on("*",function(d){for(var f=arguments.length,h=new Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];l.emit.apply(l,[d].concat(h))}),l.init(a,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Us);ri(gm,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new gm(t,e)});var cn=gm.createInstance();cn.createInstance=gm.createInstance;cn.createInstance;cn.dir;cn.init;cn.loadResources;cn.reloadResources;cn.use;cn.changeLanguage;cn.getFixedT;cn.t;cn.exists;cn.setDefaultNamespace;cn.hasLoadedNamespace;cn.loadNamespaces;cn.loadLanguages;const Lq={translation:{registerTitle:"Register",registerSubtitle:"Register your new account",loginTitle:"Login",loginSubtitle:"Sign in to your existing account",usernameField:"Username",emailField:"Email",passwordField:"Password",registerSubmitButton:"Register",loginSubmitButton:"Login",navigateToLoginTitle:"Already have account?",navigateToRegisterTitle:"Need to Register?",navigateToLoginUrl:"Login",navigateToRegisterUrl:"Create Account",logoutTitle:"Log out",savedMessagesTitle:"Saved",aiAssistantTitle:"AI Assistant",noChatTitle:"Choose some chat ;)",noChatContent:"To start messaging with someone please choose chat on the left sidebar",noMessagesTitle:"There are no messages yet...",noMessagesContent:"Send the message first, to start chat",chatPlaceholder:"Send message...",AIchatPlaceholder:"Send request to AI...",lightTheme:"Light",darkTheme:"Dark",systemTheme:"System"}},Mq={translation:{registerTitle:"Реєстрація",registerSubtitle:"Реєстрація нового акаунту",loginTitle:"Вхід",loginSubtitle:"Вхід у ваш профіль",usernameField:"Ім'я користувача",emailField:"Пошта",passwordField:"Пароль",registerSubmitButton:"Зареєструватись",loginSubmitButton:"Увійти",navigateToLoginTitle:"Вже маєте акаунт?",navigateToRegisterTitle:"Необхідна реєстрація?",navigateToLoginUrl:"Увійти",navigateToRegisterUrl:"Створити акаунт",logoutTitle:"Вийти",savedMessagesTitle:"Збережене",aiAssistantTitle:"AI Асистент",noChatTitle:"Виберіть чат ;)",noChatContent:"Щоб розпочати обмін повідомленнями з кимось, виберіть чат на лівій бічній панелі",noMessagesTitle:"Ще немає повідомлень...",noMessagesContent:"Спочатку надішліть повідомлення, щоб розпочати чат",chatPlaceholder:"Написати повідомлення...",AIchatPlaceholder:"Надіслати запит до ШІ...",lightTheme:"Світла",darkTheme:"Темна",systemTheme:"Системна"}};var iN=[],Vq=iN.forEach,Fq=iN.slice;function jq(t){return Vq.call(Fq.call(arguments,1),function(e){if(e)for(var n in e)t[n]===void 0&&(t[n]=e[n])}),t}var jT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Uq=function(e,n,r){var i=r||{};i.path=i.path||"/";var s=encodeURIComponent(n),o="".concat(e,"=").concat(s);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!jT.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!jT.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},UT={create:function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),i&&(s.domain=i),document.cookie=Uq(e,encodeURIComponent(n),s)},read:function(e){for(var n="".concat(e,"="),r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(n)===0)return s.substring(n.length,s.length)}return null},remove:function(e){this.create(e,"",-1)}},zq={name:"cookie",lookup:function(e){var n;if(e.lookupCookie&&typeof document<"u"){var r=UT.read(e.lookupCookie);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupCookie&&typeof document<"u"&&UT.create(n.lookupCookie,e,n.cookieMinutes,n.cookieDomain,n.cookieOptions)}},Bq={name:"querystring",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(r=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=r.substring(1),s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("=");if(a>0){var l=s[o].substring(0,a);l===e.lookupQuerystring&&(n=s[o].substring(a+1))}}}return n}},bc=null,zT=function(){if(bc!==null)return bc;try{bc=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{bc=!1}return bc},Wq={name:"localStorage",lookup:function(e){var n;if(e.lookupLocalStorage&&zT()){var r=window.localStorage.getItem(e.lookupLocalStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupLocalStorage&&zT()&&window.localStorage.setItem(n.lookupLocalStorage,e)}},Sc=null,BT=function(){if(Sc!==null)return Sc;try{Sc=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Sc=!1}return Sc},Hq={name:"sessionStorage",lookup:function(e){var n;if(e.lookupSessionStorage&&BT()){var r=window.sessionStorage.getItem(e.lookupSessionStorage);r&&(n=r)}return n},cacheUserLanguage:function(e,n){n.lookupSessionStorage&&BT()&&window.sessionStorage.setItem(n.lookupSessionStorage,e)}},qq={name:"navigator",lookup:function(e){var n=[];if(typeof navigator<"u"){if(navigator.languages)for(var r=0;r<navigator.languages.length;r++)n.push(navigator.languages[r]);navigator.userLanguage&&n.push(navigator.userLanguage),navigator.language&&n.push(navigator.language)}return n.length>0?n:void 0}},Kq={name:"htmlTag",lookup:function(e){var n,r=e.htmlTag||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},Gq={name:"path",lookup:function(e){var n;if(typeof window<"u"){var r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(r instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof r[e.lookupFromPathIndex]!="string")return;n=r[e.lookupFromPathIndex].replace("/","")}else n=r[0].replace("/","")}return n}},Qq={name:"subdomain",lookup:function(e){var n=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,r=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(r)return r[n]}};function Xq(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var sN=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};er(this,t),this.type="languageDetector",this.detectors={},this.init(e,n)}return tr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n||{languageUtils:{}},this.options=jq(r,this.options||{},Xq()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(s){return s.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(zq),this.addDetector(Bq),this.addDetector(Wq),this.addDetector(Hq),this.addDetector(qq),this.addDetector(Kq),this.addDetector(Gq),this.addDetector(Qq)}},{key:"addDetector",value:function(n){return this.detectors[n.name]=n,this}},{key:"detect",value:function(n){var r=this;n||(n=this.options.order);var i=[];return n.forEach(function(s){if(r.detectors[s]){var o=r.detectors[s].lookup(r.options);o&&typeof o=="string"&&(o=[o]),o&&(i=i.concat(o))}}),i=i.map(function(s){return r.options.convertDetectedLanguage(s)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(n,r){var i=this;r||(r=this.options.caches),r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(function(s){i.detectors[s]&&i.detectors[s].cacheUserLanguage(n,i.options)}))}}]),t}();sN.type="languageDetector";const Yq={order:["localStorage","querystring","navigator"],lookupQuerystring:"lng",lookupLocalStorage:"language"};function Jq(){return cn.use(sN).use(HU).init({detection:Yq,resources:{en:Lq,uk:Mq},supportedLngs:["en","uk"],fallbackLng:"en",interpolation:{escapeValue:!1}})}function Zq(){return Jq(),N.jsx(NB,{defaultTheme:"dark",storageKey:"vite-ui-theme",children:N.jsx(GL,{children:N.jsxs(Hi,{path:"/",children:[N.jsx(Hi,{path:"signup",element:N.jsx($B,{})}),N.jsx(Hi,{path:"login",element:N.jsx(LB,{})}),N.jsxs(Hi,{path:"/",element:N.jsx(MB,{}),children:[N.jsx(Hi,{index:!0,element:N.jsx(ET,{})}),N.jsx(Hi,{path:"/chat/:uid",element:N.jsx(ET,{})})]}),N.jsx(Hi,{path:"*",element:N.jsx(hR,{to:"/"})})]})})})}const eK=g.createContext();function tK({children:t}){const[e,n]=g.useState("blalbal");return N.jsx(eK.Provider,{value:{deleteThisState:e,setDeleteThisState:n},children:t})}zv.createRoot(document.getElementById("root")).render(N.jsx(we.StrictMode,{children:N.jsx(tM,{children:N.jsx(tK,{children:N.jsx(Zq,{})})})}));
